actor BaseFlinger
{
//+SERVERSIDEONLY
PROJECTILE
+NOINTERACTION
+NOCLIP
+DONTBLAST
damage 0
radius 1
height 1
speed 0
var int user_force;
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_force",-60)
Spawn2:
TNT1 A 0 A_TransferPointer(AAPTR_TARGET,AAPTR_DEFAULT,AAPTR_TARGET,AAPTR_TRACER) //target's target to self's tracer
TNT1 A 0 A_FaceTracer
TNT1 A 0 ThrustThing(angle*256/360,user_force,1,ACS_ExecuteWithResult(257,0))
stop
}
}

actor BaseFlinger2 : BaseFlinger
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_force",-30)
goto Super::Spawn2
}
}

actor BaseFlinger3 : BaseFlinger
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_force",-25)
Spawn2:
TNT1 A 0 A_TransferPointer(AAPTR_TARGET,AAPTR_DEFAULT,AAPTR_TARGET,AAPTR_TRACER)
TNT1 A 0 A_FaceTracer
TNT1 A 0 ThrustThing(angle+random(-90,90)/360,user_force,1,ACS_ExecuteWithResult(257,0))
stop
}
}

actor TempPitProtectSpyBot : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_SpawnItemEx("TempPitProtector")
stop
}
}

actor TempPitProtector
{
Height 0
Radius 0
+NOINTERACTION
+NOTARGETSWITCH
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIfInTargetInventory("IsBot",1,"Death")
TNT1 AAAAAAAAAAAAAA 1 A_GiveToTarget("YesMonsterBlock", 1)
TNT1 A 1 A_GiveToTarget("NoMonsterBlock", 1)
TNT1 A 0
stop
Death:
TNT1 A 0
stop
}
}

actor TempPitProtector2
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIfInTargetInventory("IsBot",1,"Death")
TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_GiveToTarget("YesMonsterBlock", 1)
TNT1 A 1 A_GiveToTarget("NoMonsterBlock", 1)
TNT1 A 0
stop
Death:
TNT1 A 0
stop
}
}

actor NoMonsterBlock : CustomInventory
{
States
{
Pickup:
TNT1 A 1 A_ChangeFlag("NOBLOCKMONST",1)
stop
}
}

actor YesMonsterBlock : CustomInventory
{
States
{
Pickup:
TNT1 A 1 A_ChangeFlag("NOBLOCKMONST",0)
stop
}
}