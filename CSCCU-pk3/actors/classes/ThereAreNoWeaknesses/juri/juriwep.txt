actor JuriClassWeapon : BaseCSCCWep
{
Weapon.AmmoUse 3
Weapon.AmmoGive 9
Weapon.SlotNumber 1
weapon.ammotype "JuriBugAmmo"
Obituary "%o was creeped out by %k's Paranoia Creepers."
Inventory.Pickupmessage "Power Up! Paranoia Creeper!"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
+WEAPON.CHEATNOTWEAPON
inventory.icon "TNT1A0"
Scale 2.0
States
{
Spawn:
JRWP A 0
JRWP A 1 A_SpawnItemEX("ParanoiaCreeperWep")
stop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
PHAN A 1 A_Lower
Loop
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
PHAN A 1 A_Lower
Loop
Ready:
PHAN A 0 ACS_ExecuteAlways(998,0,86,1)
PHAN A 5 A_WeaponReady(WRF_NOSWITCH)
PHAN A 0 A_GiveInventory("ParanoiaFlag", 1)
PHAN A 0 A_JumpIfInventory("ParanoiaFlag", 35, "ParanoiaRising")
PHAN A 0 A_GiveInventory("JuriBugAmmo", 1)
goto Ready+1
Fire:
PHAN A 0 A_JumpIfNoAmmo("NoAmmo")
PHAN BCDEFGHIJK 1 
PHAN E 0 A_PlaySoundEX("item/beat", "Weapon")
PHAN E 0 A_FireCustomMissile("ParaCreeperSpawner",0,1,8,0)
PHAN LLMMAA 1 A_GiveInventory("ParanoiaFlag", 1)
PHAN AAAAAAAAAA 1
PHAN A 0  A_GiveInventory("ParanoiaFlag", 5)
PHAN A 0 A_JumpIfInventory("ParanoiaFlag", 35, "ParanoiaRising")
goto Ready+1
Altfire:
PHAN A 0 A_Stop
PHAN A 0 SetPlayerProperty(0,1,0)
PHAN BCDE 1 
PHAN E 0 A_FireCustomMissile("PanicShriek", 0, 1, 0)
PHAN E 0 A_PlaySoundEX("Juri/screameffect", "Voice")
PHAN E 0 A_PlaySoundEX("Juri/screamsound", "Weapon")
PHAN EEE 4 A_SpawnItemEX("JuriSoundWave", 0, 0, 32)
PHAN A 0 SetPlayerProperty(0,0,0)
PHAN EEDDCCBB 1
PHAN A 35 
PHAN A 0 A_GiveInventory("ParanoiaFlag", 12)
PHAN A 0 A_JumpIfInventory("ParanoiaFlag", 35, "ParanoiaRising")
goto Ready+1
ParanoiaRising:
PHAN A 0 ACS_ExecuteAlways(968, 0, 0)
PHAN A 0 A_TakeInventory("ParanoiaFlag", 35)
goto Ready+1
NoAmmo:
PHAN A 5 
PHAN A 0 A_GiveInventory("ParanoiaFlag", 1)
PHAN A 0 A_JumpIfInventory("ParanoiaFlag", 35, "ParanoiaRising")
PHAN A 0 A_GiveInventory("JuriBugAmmo", 1)
goto Ready+1
}
}

actor ParanoiaFlag : Inventory
{
+INVENTORY.UNDROPPABLE
inventory.amount 1
inventory.maxamount 35
}

actor ParanoiaDebuffGiver1 : PowerupGiver
{
  inventory.maxamount 0
  powerup.duration 350
  powerup.color "00 00 00", 0.25
  powerup.type "PowerParanoiaDebuff1"
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  states
  {
  Spawn:
    TNT1 A 6
    loop
  }
}

actor PowerParanoiaDebuff1 : PowerProtection
{
damagefactor "Normal", 1.3
damagefactor "JuriFear", 1.0
damagefactor "JuriScream", 1.6
}

actor ParanoiaDebuffGiver2 : PowerupGiver
{
  inventory.maxamount 0
  powerup.duration 350
  powerup.color "00 00 00", 0.25
  powerup.type "PowerParanoiaDebuff2"
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  states
  {
  Spawn:
    TNT1 A 6
    loop
  }
}

actor PowerParanoiaDebuff2 : PowerProtection
{
damagefactor "Normal", 1.7
damagefactor "JuriFear", 1.0
damagefactor "JuriScream", 2.6
}

actor ParanoiaDebuffGiver3 : PowerupGiver
{
  inventory.maxamount 0
  powerup.duration 350
  powerup.color "00 00 00", 0.25
  powerup.type "PowerParanoiaDebuff3"
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  states
  {
  Spawn:
    TNT1 A 6
    loop
  }
}

actor PowerParanoiaDebuff3 : PowerProtection
{
damagefactor "Normal", 2.2
damagefactor "JuriFear", 1.0
damagefactor "JuriScream", 3.1//4.1
}



actor JuriHitWatch
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
+NOTARGETSWITCH
States
{
Spawn:
TNT1 A 0
//TNT1 A 1 A_GiveToTarget("ParanoiaDebuff",1)
TNT1 A 1 A_GiveToTarget("JuriImmunityGive",1)
stop
}
}

actor JuriImmunityGive : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("JuriImmunity",1)
stop
}
}

actor JuriImmunity : PowerProtection
{
powerup.color "00 00 00", 0.0
powerup.duration 175
damagefactor "Normal", 1.0
}

actor JuriClear : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
states
{
Spawn:
TNT1 A 1
stop
Pickup:
TNT1 A 0
TNT1 A 0 A_TakeInventory("ParanoiaFlag", 999)
TNT1 A 0 A_TakeInventory("PowerParanoiaDebuff1", 999)
TNT1 A 0 A_TakeInventory("PowerParanoiaDebuff2", 999)
TNT1 A 0 A_TakeInventory("PowerParanoiaDebuff3", 999)
stop
}
}

actor JuriAlertWatch
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
+NOTARGETSWITCH
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_GiveToTarget("JuriAlert",1)
stop
}
}

actor JuriAlert : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.AUTOACTIVATE
states
{
Use:
TNT1 A 0 A_FaceTarget
stop
Look:
TNT1 A 0 A_Look
stop
}
}

actor JuriBugAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 9
+INVENTORY.IGNORESKILL
}

actor PanicShriek
{
-SOLID
+NOGRAVITY
PROJECTILE
damage 0
radius 1
height 1
damagetype "JuriScream"
Obituary "%o was scared to death by %k's Panic Shriek."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(25, 450,0)
stop
}
}

actor JuriSoundWave
{
PROJECTILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,0)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,15)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,30)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,45)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,60)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,75)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,90)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,105)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,120)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,135)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,150)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,165)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,180)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,195)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,210)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,225)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,240)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,255)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,270)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,285)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,300)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,315)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,330)
TNT1 A 0 A_SpawnItemEx("JuriSoundWavePart",0,0,0,18,0,0,345)
stop
}
}

actor JuriSoundWavePart
{
PROJECTILE
Scale 2.0
+NOINTERACTION
Speed 30
Damage (0)
Radius 32
Height 32
States
{
Spawn:
DUOR T 1 A_FadeOut(0.05)
DUOR T 0 ThrustThingZ(0, 30, 0, 0)
loop
}
}

actor ParaCreeperStart
{
PROJECTILE
-NOGRAVITY
Damage (10)
damagetype "JuriFear"
Height 5
Radius 6
Scale 1.0
States
{
Spawn:
GOCK A 4
loop
Death:
TNT1 A 0 A_JumpIf(ceilingz-z < 48, "XDeath")
TNT1 A 0 A_JumpIf(z-floorz!=0,"Air")
TNT1 A 0 A_SpawnItemEx("ParaCreeper",0,0,0,18)
stop
Air:
TNT1 A 0 A_SpawnItemEx("UpCreeper0",-1,0,16,0,0,1)
stop
XDeath:
Crash:
TNT1 A 0
stop
}
}

actor ParaCreeper : MageStaffFX2
{
PROJECTILE
-NOGRAVITY
+DONTBLAST
+NOEXPLODEFLOOR
Damage (10)
damagetype "JuriFear"
Height 5
Radius 6
Scale 1.0
Speed 18
States
{
Spawn:
GOCK A 0
GOCK A 2
GOCK AA 1 A_JumpIf(momz<0,"Down")
GOCK AA 0 A_MStaffTrack
GOCK BB 1 A_JumpIf(momz<0,"Down")
GOCK BB 0 A_MStaffTrack
GOCK AA 1 A_JumpIf(momz<0,"Down")
GOCK AA 0 A_MStaffTrack
GOCK BB 1 A_JumpIf(momz<0,"Down")
GOCK BB 0 A_MStaffTrack
GOCK A 0 A_ChangeVelocity(18,0,0, CVF_REPLACE | CVF_RELATIVE)
Goto Spawn+2
Down:
TNT1 A 0 A_SpawnItemEx("DownCreeper",0,0,0,0,0,-18)
stop
XDeath:
Crash:
TNT1 A 0
stop
Death:
TNT1 A 0 A_SpawnItemEx("UpCreeper0",-1,0,16,0,0,1)
stop
}
}

actor ParaCreeperSpawner
{
PROJECTILE
+NOINTERACTION
+NOCLIP
Damage(0)
Height 1
Radius 1
Speed 8
States
{
Spawn:
TNT1 A 1
TNT1 A 0 A_SpawnItemEx("ParaCreeperStart",8,0,-16,8,0,5,0,0,0)
stop
}
}

actor UpCreeper0
{
PROJECTILE
+DONTBLAST
Damage (10)
damagetype "JuriFear"
Height 5
Radius 5
Scale 1.0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_ChangeVelocity(18,0,0, CVF_REPLACE | CVF_RELATIVE) //A_Recoil(-18)
GOCK A 1
TNT1 A 0 A_SpawnItemEx("ParaCreeper",0,0,0,18)
stop
XDeath:
Crash:
TNT1 A 0
stop
Death:
TNT1 A 0 A_JumpIf(ceilingz-z > 48, "Continue")
TNT1 A 0
stop
Continue:
TNT1 A 0 A_SpawnItemEx("UpCreeper1",0,0,4,0,0,18)
stop
}
}

actor UpCreeper1
{
PROJECTILE
+DONTBLAST
Damage (10)
damagetype "JuriFear"
Height 5
Radius 5
Scale 1.0
States
{
Spawn:
GOCK A 2
TNT1 A 0 A_Stop
TNT1 A 0 A_ChangeVelocity(18,0,0, CVF_REPLACE | CVF_RELATIVE) //A_Recoil(-18)
GOCK A 1
TNT1 A 0 A_SpawnItemEx("ParaCreeper",0,0,0,18)
stop
XDeath:
Crash:
TNT1 A 0
stop
Death:
TNT1 A 0 A_JumpIf(ceilingz-z > 48, "Continue")
TNT1 A 0
stop
Continue:
TNT1 A 0 A_SpawnItemEx("UpCreeper2",0,0,4,0,0,18)
stop
}
}

actor UpCreeper2 : UpCreeper1
{
States
{
Death:
TNT1 A 0 A_JumpIf(ceilingz-z > 48, "Continue")
TNT1 A 0
stop
Continue:
TNT1 A 0 A_SpawnItemEx("UpCreeper3",0,0,4,0,0,18)
stop
}
}

actor UpCreeper3 : UpCreeper1
{
States
{
Spawn:
GOCK B 2
TNT1 A 0 A_Stop
TNT1 A 0 A_ChangeVelocity(18,0,0, CVF_REPLACE | CVF_RELATIVE) //A_Recoil(-18)
GOCK B 1
TNT1 A 0 A_SpawnItemEx("ParaCreeper",0,0,0,18)
stop
Death:
TNT1 A 0 A_JumpIf(ceilingz-z > 48, "Continue")
TNT1 A 0
stop
Continue:
TNT1 A 0 A_SpawnItemEx("UpCreeper4",0,0,4,0,0,18)
stop
}
}

actor UpCreeper4 : UpCreeper3
{
States
{
Death:
TNT1 A 0 A_JumpIf(ceilingz-z > 48, "Continue")
TNT1 A 0
stop
Continue:
TNT1 A 0 A_SpawnItemEx("UpCreeper1",0,0,4,0,0,18)
stop
}
}

actor DownCreeper
{
PROJECTILE
+DONTBLAST
Damage (10)
damagetype "JuriFear"
Height 5
Radius 6
Scale 1.0
States
{
Spawn:
GOCK AB 2
loop
Crash:
XDeath:
TNT1 A 0
stop
Death:
TNT1 A 0 A_SpawnItemEx("ParaCreeper",0,0,0,18)
stop
}
}

actor JuriBugIcon
{
-SOLID
+NOGRAVITY
Scale 1.0
States
{
Spawn:
GOCK A 2
stop
}
}
