actor NatureStaffWep : Base8BDMWeapon 
{
Weapon.AmmoGive 28 
Weapon.AmmoUse 4 
Weapon.AmmoUse2 4
Weapon.AmmoGive2 28
Weapon.SlotNumber 1  
Obituary "%o walked into %k's Crystal Wall." 
Inventory.Pickupmessage "You got a B-B-Bonus Staff!, You Got a B-B-Bonus Staff!"
weapon.ammotype "NatureStaffAmmo" 
weapon.ammotype2 "NatureStaffAmmo" 
inventory.pickupsound "weapon/weaponup" 
DropItem "CrystalWallWep" 256 1
+WEAPON.AMMO_OPTIONAL
+WEAPON.ALT_AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON 
+INVENTORY.UNDROPPABLE
+WEAPON.NOAUTOAIM
Scale 2.0
States
{
Spawn: 
TNT1 A 0
stop
Ready:
NATU A 0 ACS_ExecuteAlways(998,0,654) 
NATU AB 4 A_WeaponReady(WRF_NOSWITCH)
NATU A 0 A_GiveInventory("NatureStaffAmmo",1)
NATU AC 4 A_WeaponReady(WRF_NOSWITCH)
NATU A 0 A_GiveInventory("NatureStaffAmmo",1)
goto Ready+1
Deselect: 
TNT1 A 0 A_SelectWeapon("NatureStaffWep")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
NATU A 1 A_Lower
Loop
Select: 
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
NATU A 1 A_Raise
Loop
Fire:
NATU A 0 A_JumpIfNoAmmo("NoAmmo")
NATU A 0 A_JumpIfInventory("HorizontalCrystalWallCounter",1,"HorizontalWall")
NATU A 0 A_JumpIfInventory("AllAroundCrystalWallCounter",1,"AllAroundWall")
NATU A 1
NATU DE 2
NATU F 2  A_FireCustomMissile("CrystalWallStart",0,0,0,0) 
NATU F 12
NATU ED 2
NATU A 20
goto Ready+1
HorizontalWall:
NATU MN 2
NATU O 2  A_FireCustomMissile("CrystalWallHorizontalStart",0,0,0,0) 
NATU O 2
NATU OO 2
NATU ABACABACABAC 2
goto Ready+1
AllAroundWall:
NATU GH 2 
NATU K 0 A_TakeInventory("NatureStaffAmmo",4)
/*
NATU I 2 A_SpawnItemEx("CrystalWallAroundStart",0,100,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWallAroundStart",0,-100,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWallAroundStart",100,0,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWallAroundStart",-100,0,0,0,0,-1,0)
*/ 
NATU I 2 A_SpawnItemEx("CrystalWall",0,100,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWall",0,-100,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWall",100,0,0,0,0,-1,0) 
NATU D 0 A_SpawnItemEx("CrystalWall",-100,0,0,0,0,-1,0) 
NATU I 12
NATU HG 2
NATU A 20
goto Ready+1
Altfire:
HUNT B 0 A_JumpIfNoAmmo("NoAmmo") 
HUNT B 0 A_FireCustomMissile("CrystalMissileTarget",0,0) 
NATU J 3
HUNT B 0 A_FireCustomMissile("CrystalMissileTarget",0,0) 
NATU K 3
HUNT B 0 A_FireCustomMissile("CrystalMissileTarget",0,0) 
NATU L 3
HUNT B 0 A_FireCustomMissile("CrystalMissileTarget",0,0) 
NATU K 3
HUNT B 0 A_Refire
HUNT B 0 A_GiveInventory("CrystalMissileCounter",1)
NATU DE 2
NATU F 2 
HUNT B 0 A_PlaySoundEx("weapon/MagnetMissile","Weapon")
HUNT B 0 A_TakeInventory("CrystalMissileCounter",1)
NATU F 12
NATU ED 2
NATU A 2
Goto Ready+1 
NoAmmo: 
NATU A 1 
Goto Ready+1
}
}


actor NatureStaffAmmo : Ammo 
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 28
}

actor CrystalWallStart
{
Projectile 
//+NoClip
+Ripper
+DontBlast
//+FloorHugger
Radius 29
Height 5
speed 10
States
{
Spawn:
TNT1 A 1 
TNT1 A 0 A_SpawnItemEx("CrystalWallSpawner",0,0,0,10,0,0)
Stop
}
}

actor CrystalWallHorizontalStart : CrystalWallStart
{
States
{
Spawn:
TNT1 A 1 
TNT1 A 0 A_SpawnItemEx("CrystalWallHorizontalSpawner",50,-60,0,0,20,0)
TNT1 A 0 A_SpawnItemEx("CrystalWallHorizontalSpawner",50,60,0,0,-20,0)
Stop
}
}

actor CrystalWallAroundStart : CrystalWallStart
{
+FloorHugger
States
{
Spawn:
TNT1 AA 1 ThrustThingZ(0,99999,0,1)
TNT1 A 0 A_SpawnItemEx("CrystalWallAroundSpawner",0,0,0,0,0,0)
Stop
}
}

actor CrystalWallSpawner
{
PROJECTILE 
Radius 29 
Height 5
speed 10
+FloorHugger
+Ripper
+NoTargetSwitch
//+Noclip 
States
{
Spawn:
TNT1 A 1 
//TNT1 A 0 A_ChangeFlag("FloorHugger",0)
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
TNT1 A 0 A_TakeFromTarget("CrystalWallAmmo",1)
//TNT1 A 0 A_JumpIf(z-floorz<9,1)
//stop
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
TNT1 A 0 A_TakeFromTarget("CrystalWallAmmo",1)
//TNT1 A 0 A_JumpIf(z-floorz<9,1)
//stop
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
TNT1 A 0 A_TakeFromTarget("CrystalWallAmmo",1)
//TNT1 A 0 A_JumpIf(z-floorz<9,1)
//stop
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
TNT1 A 0 A_TakeFromTarget("CrystalWallAmmo",1)
stop
Death:
stop
}
}

actor CrystalWallHorizontalSpawner : CrystalWallSpawner
{
States
{
Spawn:
TNT1 A 1 
//TNT1 A 0 A_ChangeFlag(FloorHugger,0)
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
//TNT1 A 0 A_JumpIf(z-floorz<9,1)
//stop
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
TNT1 A 8 A_TakeFromTarget("NatureStaffAmmo",1)
stop
}
}

actor CrystalWallAroundSpawner : CrystalWallSpawner
{
States
{
Spawn:
TNT1 AA 1// ThrustThingZ(0,99999,0,1)
TNT1 A 0 A_SpawnItemEx("CrystalWall",0,0,0,0,0,0)
stop
}
}

actor CrystalWall
{
Projectile
-Missile
-NoBlockMap
-Solid
+Shootable
+DontBlast
-NoGravity
+noblood
+noblooddecals
+FORCEYBILLBOARD 
+NOPAIN
+NoTargetSwitch
+FloorHugger
Height 37
Radius 27
health 30
mass 99999999999
scale 2.5
speed 0
damage (18)
painchance 256
translation "58:58=197:197", "76:76=198:198"
damagetype "UkiCrystalWall"
damagefactor "CrystalShockwave", 0.0
damagefactor "UkiCrystalWall", 1337.5
States
{
Spawn:
CRYS AA 1 A_PlaySoundEx("weapon/junkend","SoundSlot4")
CRYS B 2 
CRYS CD 2 A_ChangeFlag("Missile",1)
CRYS D 1 A_JumpIfInventory("CrystalCounter",15,"Death")
CRYS D 0 A_ChangeFlag("DontRip",1)
CRYS D 0 A_ChangeFlag("NoPain",0)
CRYS D 10 A_GiveInventory("CrystalCounter",1)
goto Spawn+5 
Pain:
//CRYS G 0 A_ChangeFlag("NoPain",1)
HUNT B 0 A_PlaySoundEx("weapon/icewavespawn","Weapon")
CRYS FGHIJ 2 
//CRYS G 0 A_ChangeFlag("NoPain",0)
goto Spawn+5
Crash:
XDeath:
Death:
CRYS H 2
TOAD H 0 A_PlaySoundEx("weapon/CrystalBreak","SoundSlot5")
CRYS D 0 A_ChangeFlag("Shootable",0)
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
stop
}
}

actor CrystalShatter
{
Projectile
Radius 10 
Height 10 
scale 2.5 
damage (0)
-NoGravity
+Ripper
+HexenBounce
+FORCEXYBILLBOARD
+Clientsideonly
translation "58:58=197:197", "76:76=198:198"
BounceFactor .5 
BounceCount 3
speed 0 
States
{
Spawn:
CRYS E 1 
loop
Death:
HUNT E 0 
stop 
}
}

actor StraightWallChanger : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
inventory.icon "LineForm"
scale 2.0
+INVENTORY.UNDROPPABLE
+COUNTITEM
+INVBAR
states
{
Use:
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_GiveInventory("StraightCrystalWallCounter",1)
TNT1 A 0 A_TakeInventory("HorizontalCrystalWallCounter",1)
TNT1 A 0 A_TakeInventory("AllAroundCrystalWallCounter",1)
fail
}
}

actor HorizontalWallChanger : StraightWallChanger
{
inventory.icon "HoriForm"
states
{
Use:
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_TakeInventory("StraightCrystalWallCounter",1)
TNT1 A 0 A_GiveInventory("HorizontalCrystalWallCounter",1)
TNT1 A 0 A_TakeInventory("AllAroundCrystalWallCounter",1)
fail
}
}

actor AllAroundWallChanger : StraightWallChanger
{
inventory.icon "AllForm"
states
{
Use:
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_TakeInventory("StraightCrystalWallCounter",1)
TNT1 A 0 A_TakeInventory("HorizontalCrystalWallCounter",1)
TNT1 A 0 A_GiveInventory("AllAroundCrystalWallCounter",1)
fail
}
}

actor LELEARTHQUAKE : StraightWallChanger //There is totally a reason for this things existance
{
inventory.icon "AllForm"
states
{
Use:
ASEX A 0 A_Explode(500,500,0)
CRYS L 0 Radius_Quake (5, 30, 0, 10,0)
CRYS F 0 A_SpawnItemEx("CrystalShockWave")
TNT1 F 9 A_PlaySoundEx("misc/hugequake2","SoundSlot5")
fail
}
}

actor StraightCrystalWallCounter : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor HorizontalCrystalWallCounter : StraightCrystalWallCounter
{
}

actor AllAroundCrystalWallCounter : StraightCrystalWallCounter
{
}

actor CrystalCounter : Inventory
{
Inventory.amount 0
Inventory.Maxamount 999
}

actor CrystalMissileCounter : Inventory
{
Inventory.amount 1
Inventory.Maxamount 1
}

actor CrystalMissileTarget : FastProjectile
{
PROJECTILE
+DONTBLAST
+NoTargetSwitch
Speed 1000
Radius 23
height 4
Scale 2.5
States
{
Spawn:
TNT1 A 1
Loop
Death:
TNT1 A 1 //A_JumpIf(z-floorz>12,6)
TNT1 A 0 A_SpawnItemEx("CrystalMissileTarget1",0,0,0,0,0,0)
TNT1 A 1 //A_JumpIf(z-floorz>12,3)
TNT1 A 0 A_SpawnItemEx("CrystalMissileTarget2",0,0,0,0,0,0)
TNT1 A 1 //A_JumpIf(z-floorz>12,1)
TNT1 A 0 A_SpawnItemEx("CrystalMissileTarget3",0,0,0,0,0,0)
CRYS A 0 A_JumpIfInTargetInventory("CrystalMissileCounter",1,"Death2")
stop
Death2:
//HUNT B 0 A_TakeFromTarget("CrystalMissileCounter",1)
CRYA DEFGAGAGAGAGA 2 
CRYS A 0 A_SpawnItemEx("CrystalMissileStart",0,0,40)
TNT1 A 1 A_TakeFromTarget("NatureStaffAmmo",4)
stop
}
}

actor CrystalMissileTarget1 : FastProjectile
{
+NoInteraction
Radius 23
height 4
Scale 2.5
States
{
Spawn:
CRYA A 2
stop
}
}

actor CrystalMissileTarget2 : CrystalMissileTarget1
{
States
{
Spawn:
CRYA B 2
stop
}
}

actor CrystalMissileTarget3 : CrystalMissileTarget1
{
States
{
Spawn:
CRYA C 2
stop
}
}

actor CrystalMissileStart
{
PROJECTILE
Scale 2.5
+SKYEXPLODE
+FORCEXYBILLBOARD
+NoClip
+NoBlockMap
//seesound "weapon/mbuster"
Radius 23
height 38
States
{
Spawn:
TNT1 A 1 ThrustThingZ(0,9999,0,0)
TNT1 A 0 A_ChangeFlag("NoClip",0)
loop
Death:
CRYS A 0 A_SpawnItemEX("CrystalMissile",0,0,0,0,0,-60)
TNT1 A 1
stop
}
}

actor CrystalMissile 
{
PROJECTILE
Scale 2.5
//seesound "weapon/mbuster"
Speed 26
Damage (50)
damagetype "CrystalMissile"
Height 37
Radius 23
translation "58:58=197:197", "76:76=198:198"
Obituary "%o crushed by %k's Crystal Missile." 
States
{
Spawn:
CRYS K 1 A_SpawnItemEX("CrystalMissileTrail",0,0,30)
loop
Death:
CRYS K 1
CRYS F 0 A_SpawnItemEx("CrystalShockWave")
TNT1 F 0 A_PlaySoundEx("misc/hugequake2","SoundSlot5")
CRYS F 0 A_SpawnItemEx("CrystalMissileWall",0,0,-20)
stop
XDeath:
Crash:
TOAD H 0 A_PlaySoundEx("weapon/CrystalBreak","SoundSlot5")
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
stop
}
}

actor CrystalMissileProtect : PowerProtection
{
Powerup.Duration 1
damagefactor "CrystalShockwave", 0.7
}

actor CrystalMissileWall : CrystalWall
{
Radius 23
translation "58:58=197:197", "76:76=198:198"
damagetype "UkiCrystalWall2"
damagefactor "CrystalShockwave", 0.0
damagefactor "UkiCrystalWall2", 0.0
-DontRip
States
{
Spawn:
CRYS LL 1 A_PlaySoundEx("weapon/junkend","SoundSlot4")
CRYS L 2 Radius_Quake (5, 30, 0, 10,0)
CRYS LL 2 A_ChangeFlag("Missile",1)
CRYS L 1 A_JumpIfInventory("CrystalCounter",15,"Death")
CRYS L 0 A_ChangeFlag("DontRip",1)
CRYS D 0 A_ChangeFlag("NoPain",0)
CRYS L 4 A_GiveInventory("CrystalCounter",2)
CRYS MNOP 4
goto Spawn+5 
Pain:
//CRYS G 0 A_ChangeFlag("NoPain",1)
HUNT B 0 A_PlaySoundEx("weapon/icewavespawn","Weapon")
CRYS QRSTU 2 
//CRYS G 0 A_ChangeFlag("NoPain",0)
goto Spawn+5
Crash:
XDeath:
CRYS S 2
TOAD H 0 A_PlaySoundEx("weapon/CrystalBreak","SoundSlot5")
CRYS D 0 A_ChangeFlag("Shootable",0)
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
stop
Death:
CRYS S 2
ASEX A 0 A_Explode(20,128,0)
TOAD H 0 A_PlaySoundEx("weapon/CrystalBreak","SoundSlot5")
CRYS D 0 A_ChangeFlag("Shootable",0)
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
HUNT E 0 A_SpawnItemEx("CrystalShatter",0,0,10,random(10,-10),random(10,-10),random(15,5))
ASEX ABCDEF 2
stop
}
}

actor CrystalShockWave
{
PROJECTILE
Obituary "%o was shook too hard by %k's Shockwave." 
damagetype "CrystalShockwave"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_Explode(20,64,0)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,0)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,15)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,30)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,45)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,60)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,75)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,90)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,105)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,120)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,135)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,150)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,165)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,180)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,195)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,210)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,225)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,240)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,255)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,270)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,285)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,300)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,315)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,330)
TNT1 A 0 A_SpawnItemEx("CrystalShockwavePart",0,0,0,18,0,0,345)
stop
}
}

actor CrystalShockwavePart
{
PROJECTILE
Obituary "%o was shook too hard by %k's Shockwave." 
damagetype "CrystalShockwave"
translation "192:192=147:147"
Scale 2.0
+FLOORHUGGER
+Ripper
Speed 30
Damage (2)
Radius 32
Height 32
States
{
Spawn:
DUOR T 1 A_FadeOut(0.07)
DUOR T 0 A_ChangeFlag("FloorHugger",0)
loop
}
}

actor CrystalMissileTrail
{
scale 2.5
+NoInteraction
translation "58:58=4:4", "76:76=4:4", "247:237=4:4" 
States
{
Spawn:
CRYS K 1 A_FadeOut(0.04)
loop
}
}