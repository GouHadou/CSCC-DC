Actor Pharma : ClassBaseCSCC
{
Player.DisplayName "Pharma"
Player.SoundClass "Rokko"
Health 100
Player.MaxHealth 100
Player.JumpZ 10
Player.ForwardMove 0.8, 0.8 //Slightly faster
Player.SideMove 0.8, 0.8
Player.StartItem "CanUseItems"
Player.StartItem "BlokkitalPChargeItem", 3
Player.StartItem "QuickFixPChargeItem", 3
Player.StartItem "UppenAtemPChargeItem", 3
Player.StartItem "VigorizerPChargeItem", 3
Player.StartItem "MedicatorWep"
Player.StartItem "Mediscan"
Player.StartItem "PillgunWep"
player.startitem "PillshotAmmo", 45
player.startitem "RegenWatcher"
Player.StartItem "IsPharmacist"
//var int user_HealerID;
States
{
Spawn: 
DYNA A 0 
DYNA B 1
DYNA A 1
GoTo Spawn+2
See:
DYNA BCDE 5
GoTo Spawn+1
Missile:
DYNA F 5
DYNA G 4
GoTo Spawn+2
}
}

actor IsPharmacist : inventory {inventory.amount 1 inventory.maxamount 2}

actor Mediscan : CustomInventory
{
inventory.amount 1
Inventory.MaxAmount 100
+AUTOACTIVATE
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_NamedExecutealways("MedivisionScript",0)
stop
Nope:
TNT1 A 0
stop
}
}

actor RegenWatcher : CustomInventory
{
inventory.amount 1
Inventory.MaxAmount 100
+AUTOACTIVATE
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 
TNT1 A 0 A_Spawnitemex("MedicRegenWatcher")
TNT1 A 0
stop
Nope:
//BUST B 0 A_PlaySoundEx("weapon/heat3","Item")
TNT1 A 0
stop
}
}

Actor MedicRegenWatcher 
{
+MISSILE
+RIPPER
+NOGRAVITY
+NOINTERACTION
Reactiontime 7
States
{
Spawn:
TNT1 A 0
TNT1 A 35
TNT1 A 0 A_Jumpifintargetinventory("HealStall_A",1,2)
TNT1 A 1 A_GiveToTarget("Health",3)
TNT1 A 0
TNT1 A 0 A_Jumpifintargetinventory("isdead",1,"Death")
TNT1 A 0 A_Jumpifintargetinventory("IsPharmacist",1,"Spawn")
Death:
TNT1 A 0
stop
}
}