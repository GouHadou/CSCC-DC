actor FlameBuster : Weapon
{
Weapon.AmmoUse1 1
Weapon.AmmoGive1 28
Weapon.AmmoUse2 28
Weapon.AmmoGive2 140
Weapon.SlotNumber 1
Inventory.Pickupmessage ""
Obituary "%o was torched by %k."
weapon.ammotype1 "FlameCharge"
weapon.ammotype2 "InfernoDash"
inventory.icon "NULLICON"
+WEAPON.AMMO_OPTIONAL
+WEAPON.ALT_AMMO_OPTIONAL
+WEAPON.DONTBOB
scale 2.0
States
{
Spawn:
WEAP X 1
stop
Ready:
FHUD A 0 ACS_ExecuteAlways(998,0,718)
FHUD A 0 A_GunFlash
FHUD A 0 A_JumpIfInventory("UseOverHeat",1,"OverHold")
FHUD A 2 A_WeaponReady
FHUD A 0 A_JumpIfInventory("UseOverHeat",1,"OverHold")
FHUD A 2 A_WeaponReady
FHUD A 0 //A_TakeInventory("NoIDRegen",999)
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HEAT G 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
BUST B 1 A_Raise
Loop
Fire:
HEAT G 1 
HEAT G 1 A_JumpIfInventory("OverHeating",1,"OverHeat1")
HEAT G 0 A_ChangeFlag("NOGRAVITY",0)
goto Hold
Hold:
HEAT G 0 A_JumpIfInventory("FlameCharge",28,"Hold6") 
HEAT G 0 A_JumpIfInventory("FlameCharge",14,"Hold5")
HEAT G 0 A_JumpIfInventory("FlameCharge",7,"Hold4")
HEAT G 0 A_JumpIfInventory("FlameCharge",4,"Hold3")
HEAT G 0 A_JumpIfInventory("FlameCharge",1,"Hold2")
HEAT G 1 
HEAT H 1 
HEAT H 0 A_GiveInventory("FlameCharge",1)
HEAT H 0 A_Refire
Goto Fire1
Hold2:
HEAT G 0 A_StopSoundEx ("Weapon") 
HEAT G 0 A_JumpIfInventory("FlameCharge",4,"Hold3")
HEAT G 1
HEAT H 1 
HEAT H 0 A_GiveInventory("FlameCharge",1)
HEAT H 0 A_Refire
Goto Fire1
Hold3:
HEAT G 0 A_StopSoundEx ("Weapon") 
HEAT G 0 A_JumpIfInventory("FlameCharge",7,"Hold4")
HEAT G 1
HEAT I 1 
HEAT I 0 A_GiveInventory("FlameCharge",1)
HEAT I 0 A_Refire
Goto Fire1
Hold4:
HEAT G 0 A_StopSoundEx ("Weapon")
HEAT G 0 A_JumpIfInventory("FlameCharge",14,"Hold5") 
HEAT G 1
HEAT J 1 
HEAT J 0 A_GiveInventory("FlameCharge",1)
HEAT J 0 A_Refire
Goto Fire1
Hold5:
HEAT H 0 A_StopSoundEx ("Weapon")
HEAT H 0 A_JumpIfInventory("FlameCharge",28,"Hold6") 
HEAT H 1
HEAT J 1 
HEAT J 0 A_GiveInventory("FlameCharge",1)
HEAT J 0 A_Refire
Goto Fire1
Hold6:
HEAT I 0 A_StopSoundEx ("Weapon")
HEAT I 1
HEAT J 1 
HEAT J 0 A_Refire
Goto Fire1
Fire1:
HEAT G 0 A_GiveInventory("IsShooting",1)
HEAT G 0 A_GiveInventory("PowerFireSpeed",1)
HEAT G 0 A_TakeInventory("FlameCharge",3) //Startup cost, 3+1
HEAT G 0 A_PlaySoundEx("weapon/waveburner","Weapon")
HEAT G 2 A_FireCustomMissile("Fire2b",0,1,0,0,0,0)
HEAT KL 1
HEAT L 0 A_JumpIfInventory("FlameCharge",1,"Fire1Continued")
goto Fire1Finished
Fire1Continued:
HEAT K 0 A_PlaySoundEx("weapon/waveburner","Weapon")
HEAT K 1 A_FireCustomMissile("Fire2b",random(-4,4),1,0,0,0,random(-4,4))
HEAT L 2 
HEAT L 0 A_JumpIfInventory("FlameCharge",1,"Fire1Continued")
goto Fire1Finished
Fire1Finished:
HEAT GG 2
HEAT G 0 A_TakeInventory("IsShooting",1)
HEAT G 0 A_TakeInventory("FlameCharge",28)
HEAT G 0 A_TakeInventory("PowerFireSpeed",1)
HEAT GG 3
goto Ready+2
OverHold:
HEAT G 0 A_TakeInventory("UseOverHeat",1)
HEAT G 0 SetPlayerProperty(0,1,0)
HEAT G 0 A_Stop
HEAT G 0 A_ChangeFlag("NOGRAVITY",1)
HEAT G 0 ThrustThingZ(0,4,0,0)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT H 0 A_GiveInventory("PowerOverHeatedprotection",1)
//OverHold2:
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat1", "Weapon")
HEAT G 0 A_SpawnItemEx("OverHeatFS1")
HEAT GH 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HEAT H 0 A_GiveInventory("OverHeating",1)
//OverHold3:
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon") 
HEAT G 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 1 A_SpawnItemEx("OverHeatFS2")
HEAT I 0 A_GiveInventory("OverHeating",1)
HEAT I 0 
//OverHold4:
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon")
HEAT G 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon")
HEAT G 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon")
HEAT G 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT G 0 A_PlaySoundEx("weapon/heat2", "Weapon")
HEAT G 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 1 A_SpawnItemEx("OverHeatFS3")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT J 0 
//OverHold5:
HEAT H 0 A_PlaySoundEx("weapon/heat3", "Weapon")
HEAT H 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT H 0 A_PlaySoundEx("weapon/heat3", "Weapon")
HEAT H 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT H 0 A_PlaySoundEx("weapon/heat3", "Weapon")
HEAT H 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 1 A_SpawnItemEx("OverHeatFS4")
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT J 0 
//OverHold6:
HEAT I 0 A_PlaySoundEx("weapon/heat3", "Weapon")
HEAT I 2
HEAT J 1 
HEAT J 0 A_GiveInventory("OverHeating",1)
HEAT I 0 A_JumpIfInventory("OverHeating",28,"OverHeat2")
Goto OverHeat2
OverHeat1:
HEAT G 0
HEAT G 0 A_GiveInventory("PowerOverHeatedSpeed",1)
HEAT G 0 A_StopSoundEx("Weapon") 
HEAT G 0 A_TakeInventory("OverHeating",28)
HEAT G 0 A_GiveInventory("UnleashIt",1)
HEAT K 3 A_SpawnItemEx("MinorOverheating",0,0,40)
HEAT LLL 3
HEAT G 0 SetPlayerProperty(0,0,0)
HEAT G 0 A_ChangeFlag("NOGRAVITY",0)
HEAT G 0 A_TakeInventory("UnleashIt",999)
HEAT G 23
TNT1 A 0 A_GiveInventory("OverHeatCoolDown",350)
Goto Ready+2
OverHeat2:
HEAT K 0
HEAT K 0 A_StopSoundEx("Weapon") 
HEAT K 0 A_TakeInventory("OverHeating",28)
HEAT K 0 A_SpawnItemEx("OverHeatShockWave",0,0,40)
HEAT K 0 SetPlayerProperty(0,0,0)
HEAT KL 3
HEAT G 4
TNT1 A 0 SetPlayerProperty(0,1,4)
TNT1 A 70 
TNT1 A 0 A_ChangeFlag("NOGRAVITY",0)
TNT1 A 0 SetPlayerProperty(0,0,4)
TNT1 A 0 A_GiveInventory("PowerOverHeatedDef",1)
TNT1 A 0 A_TakeInventory("PowerOverHeatedprotection",1)
TNT1 A 0 A_GiveInventory("PowerOverHeatedSpeed",1)
TNT1 A 0 A_GiveInventory("OverHeatCoolDown",350)
Goto Ready+2
AltFire:
FHUD A 1 A_JumpIfInventory("InfernoDash",28,"AltFire2")
FHUD A 4 A_TakeInventory("Burninator",999)
FUHD A 0
goto BurnReady2
AltFire2:
FHUD I 0 //A_JumpIfInventory("Burninator",1,"AltHold")
FHUD I 0 //A_GiveInventory("Burninator",1)
FHUD I 0 A_GiveInventory("InfernoDashBuffer",1)
FHUD I 0 A_ChangeFlag("NOGRAVITY",1)
FHUD I 0 SetPlayerProperty(0,1,0)
FHUD IHHH 2
AltHold: 
TNT1 A 0 A_PlaySoundEx("weapon/chargekick","Weapon")
TNT1 A 0 A_SpawnItemEx("InfernoPillar")
TNT1 A 0 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)//A_Recoil(-6)
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,1,0,0)
TNT1 A 0 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)//A_Recoil(-6))
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 0 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)//A_Recoil(-6)
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
Goto BurnReady
BurnReady:
TNT1 A 1 A_WeaponReady
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 0 A_SpawnItemEx("InfernoPillar")
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 0 A_SpawnItemEx("InfernoPillar")
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 2 A_FireCustomMissile("InfernoDashRam",0,0,0,0)
TNT1 A 0 A_SpawnItemEx("InfernoPillar")
FHUD H 0 A_ChangeFlag("NOGRAVITY",0)
FHUD H 0 SetPlayerProperty(0,0,0)
FHUD HI 2
FHUD A 10 //31
FHUD A 0 A_TakeInventory("Burninator",999)
Goto Ready+2
BurnReady2:
FHUD A 0 A_ChangeFlag("NOGRAVITY",0)
FHUD A 0 SetPlayerProperty(0,0,0)
FHUD AA 4
FHUD A 27
FHUD A 0 A_TakeInventory("Burninator",999)
Goto Ready+2
NoAmmo:
HEAT G 1
Goto Ready+2
Flash:
TNT1 A 0
TNT1 A 0 A_GiveInventory("CrossBombAmmo",1)
TNT1 A 0 A_JumpIfInventory("InfernoDashBuffer",1,2)
TNT1 A 0 A_GiveInventory("InfernoDash",2)
TNT1 A 1
TNT1 A 1 A_TakeInventory("OverHeatCoolDown",2)
TNT1 A 0 A_TakeInventory("DazzlingGleamCoolDown",2)
loop
}
}

actor FlameCharge : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor InfernoDash : Ammo
{
inventory.amount 1
inventory.maxamount 140
}

actor OverHeating : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor UseOverHeat : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor OverHeatCoolDown : Inventory
{
inventory.amount 1
inventory.maxamount 350
}

actor UnleashIt : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor NoIDRegen : Inventory
{
inventory.amount 1
inventory.maxamount 1
}


actor InfernoDashBuffer : Powerup
{
inventory.amount 1
inventory.maxamount 1
Powerup.Duration 45
}

actor OverHeatItem : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
inventory.icon "OVERHEAT"
scale 2.0
+INVBAR
states
{
Spawn:
GRAI A 1
loop
Use:
TNT1 A 0 //A_JumpIfInventory("OnBoard",1,"WFail")
TNT1 A 0 A_JumpIfInventory("TooSoonFlagX",1,"WFail")
TNT1 A 0 A_JumpIfInventory("OverHeatCoolDown",1,"WFail")
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_GiveInventory("UseOverHeat",1)
TNT1 A 0 A_GiveInventory("TooSoonFlagX",1)
TNT1 A 0
fail
WFail:
TNT1 A 0
TNT1 A 0
fail
}
}

actor PowerFireSpeed : PowerSpeed
{
Powerup.Duration 105
Speed 0.5
}

actor PowerOverHeatedSpeed : PowerSpeed
{
Powerup.Duration 175
Speed 0.9
}

actor PowerOverHeatedDef : PowerProtection
{
Powerup.Duration 70
damagefactor "Normal", 1.5  
damagefactor "AuraType", 1.0 //Always 1.0x
damagefactor "AuraType2", 1.0
damagefactor "AuraType3", 1.0
damagefactor "AuraTypeX", 1.0 
}

//===Ehibika
actor PowerOverHeatedprotection : PowerProtection
{
Powerup.Duration -7
damagefactor "Normal", 0.3  
damagefactor "AuraType", 1.0 //Always 1.0x
damagefactor "AuraType2", 1.0
damagefactor "AuraType3", 1.0
damagefactor "AuraTypeX", 1.0 
}
//=======
actor PowerOverHeatResistance : PowerProtection
{
Powerup.Duration 35
damagefactor "Normal", 0.25
damagefactor "FireType", 0.33
damagefactor "AuraType", 1.0 //Always 1.0x
damagefactor "AuraType2", 1.0
damagefactor "AuraType3", 1.0
damagefactor "AuraTypeX", 1.0 
}