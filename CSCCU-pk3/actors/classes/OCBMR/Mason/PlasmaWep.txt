actor DualPlasmaPistols : Weapon
{
Weapon.AmmoUse1 1
Weapon.AmmoGive1 3
Weapon.AmmoUse2 350 //9 seconds recharge plus 1 second actually firing
Weapon.AmmoGive2 350
Weapon.SlotNumber 1
Obituary "%o was hunted down by %k."
Inventory.Pickupmessage ""
weapon.ammotype1 "BusterAmmo"
weapon.ammotype2 "PiercingLaserAmmo"
inventory.icon "NULLICON"

+WEAPON.AMMO_OPTIONAL
+WEAPON.ALT_AMMO_OPTIONAL
+WEAPON.DONTBOB
+WEAPON.CHEATNOTWEAPON
+WEAPON.NOAUTOAIM
scale 2.0
States
{
Spawn:
TNT1 A 1
wait
Ready:
TNT1 A 0
MSNH A 0 A_GunFlash
MSNH A 0 ACS_ExecuteAlways(998,0,96)
MSNH A 2 A_WeaponReady
MSNH A 3 A_WeaponReady
Goto Ready+3
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
MSNH A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
MSNH A 1 A_Raise
Loop
Fire: //im unsure wether i should keep them spread
MSNH A 0 A_PlaySoundEx("weapon/thunderbolt","Weapon")
MSNH B 2 A_FireCustomMissile("PlasmaShot",0,0,10,8)
MSNH CD 3
MSNH A 4
MSNH E 0 A_PlaySoundEx("weapon/thunderbolt","Weapon")
MSNH E 2 A_FireCustomMissile("PlasmaShot",0,0,-10,8)
MSNH FG 3
MSNH A 4
Goto Ready+3
Altfire:
BUST B 0 A_JumpIfNoAmmo("NoAmmo")
BUST B 0 //A_JumpIfInventory("OnBoard",1,2)
BUST B 0 SetPlayerProperty(0,1,0)
BUST B 0 A_PlaySoundEx("weapon/coilstart","Weapon")
BUST CCCC 2 A_SpawnItemEx("PLCharge1FX",0,0,24,velx,vely,velz)
BUST CCCC 2 A_SpawnItemEx("PLCharge2FX",0,0,24,velx,vely,velz)
BUST CCCC 2 A_SpawnItemEx("PLCharge3FX",0,0,24,velx,vely,velz)
BUST C 0 //A_JumpIfInventory("OnBoard",1,2)
BUST C 0 SetPlayerProperty(0,1,4)
BUST C 5
BUST D 0 A_PlaySoundEx("weapon/coilexplode","Weapon")
BUST D 1 A_FireCustomMissile("DMPiercingLaser",0,1,0,0)
BUST D 0 SetPlayerProperty(0,0,4)
BUST D 5
BUST D 0 SetPlayerProperty(0,0,0)
Goto Ready+3
Flash:
TNT1 A 0
TNT1 A 0 A_GiveInventory("PiercingLaserAmmo",1)
TNT1 A 0 A_GiveInventory("TimeManipAmmo",1)
TNT1 A 1
loop
NoAmmo:
BOMH B 0
BOMH B 0 A_PlaySoundEx("weapon/mbuster","Weapon")
BOMH B 0 A_FireCustomMissile("FreezeBomb",0,0,8,0)
BOMH BCDEFG 3
TNT1 AA 5
MSNH A 4
Goto Ready+3
}
}

actor PiercingLaserAmmo : Ammo 
{
inventory.amount 1
inventory.maxamount 350
}
//Will Be Used Later
actor TimeManipAmmo : Ammo 
{
inventory.amount 1
inventory.maxamount 525//5 seconds use plus 10 seconds cooldown
}

actor PlasmaShot : FastProjectile
{
PROJECTILE
+BLOODSPLATTER
+DONTBLAST
radius 8
height 8
Speed 32
Damage (8)
damagetype "ElectricType"
scale 1.5
States
{
Spawn:
TNT1 A 0 
PMFX C 1 A_ScaleVelocity(4.0)
Spawn2:
PMFX C 0 A_SpawnItemEx("PlasmaTailTrailFX1a")
/*
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,24,0)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,0,24)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,-24,0)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,0,-24)
*/
PMFX C 1
PMFX C 0 A_SpawnItemEx("PlasmaTailTrailFX1b")
/*
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,18,18)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,-18,18)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,-18,-18)
PMFX C 0 A_SpawnItemEx("PlasmaParticle",-8,18,-18)
*/
PMFX C 1 
loop
Death:
TNT1 A 0
TNT1 A 1 A_Explode(15,32,0)
stop
}
}

actor PlasmaTailTrailFX1a
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
scale 1.5
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_CustomMissile("PlasmaTailTrailFX2a",0,0,0,0)
PMFX C 1 A_FadeOut(0.25)
PMFX CCCCC 1 
PMFX CCCCCCCCCC 1 A_FadeOut(0.05)
stop
}
}

actor PlasmaTailTrailFX2a
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
speed 64
scale 1.5
states
{
Spawn:
TNT1 A 0
PLSM B 0 A_Stop
PLSM B 0 A_SpawnItemEx("PlasmaParticle",-8,24,0)
PLSM B 0 A_SpawnItemEx("PlasmaParticle",-8,0,24)
PLSM B 0 A_SpawnItemEx("PlasmaParticle",-8,-24,0)
PLSM B 0 A_SpawnItemEx("PlasmaParticle",-8,0,-24)
PMFX C 1 A_FadeOut(0.25)
PMFX CCCCC 1 
PMFX CCCCCCCCCC 1 A_FadeOut(0.05)
stop
}
}

actor PlasmaTailTrailFX1b
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
scale 1.5
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_CustomMissile("PlasmaTailTrailFX2b",0,0,0,0)
PMFX C 1 A_FadeOut(0.25)
PMFX CCCCC 1 
PMFX CCCCCCCCCC 1 A_FadeOut(0.05)
stop
}
}

actor PlasmaTailTrailFX2b
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
speed 64
scale 1.5
states
{
Spawn:
TNT1 A 0
BASB A 0 A_Stop
BASB A 0 A_SpawnItemEx("PlasmaParticle",-8,18,18)
BASB A 0 A_SpawnItemEx("PlasmaParticle",-8,-18,18)
BASB A 0 A_SpawnItemEx("PlasmaParticle",-8,-18,-18)
BASB A 0 A_SpawnItemEx("PlasmaParticle",-8,18,-18)
PMFX C 1 A_FadeOut(0.25)
PMFX CCCCC 1 
PMFX CCCCCCCCCC 1 A_FadeOut(0.05)
stop
}
}

actor PlasmaParticle
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
Scale 1.0
States
{
Spawn:
PMFX B 0
PMFX BCDE 2
stop
}
}

actor PLCharge1FX
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
Scale 1.5
States
{
Spawn:
FCNN A 0
FCNN A 1
stop
}
}

actor PLCharge2FX
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
Scale 2.5
States
{
Spawn:
FCNN B 0
FCNN B 1
stop
}
}

actor PLCharge3FX
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
Scale 3.5
States
{
Spawn:
FCNN C 0
FCNN C 1
stop
}
}

Actor DMPiercingLaser
{
PROJECTILE
+BLOODSPLATTER
+RIPPER
+DONTBLAST
Speed 64
Radius 16
Height 24
Damage (0)
DamageType "PsychicType"
Scale 2.5
States
{
Spawn:
PCNN B 0
PCNN B 0 A_PlaySoundEx("weapon/lshot","Weapon")
PCNN B 0 A_SpawnItemEx("PiercingLaserTrail")
PCNN B 1 A_Explode(3,96,0)
PCNN B 0 
Loop
Death:
PCNN B 0
Stop
}
}

Actor PiercingLaserTrail
{
PROJECTILE
+BLOODSPLATTER
+RIPPER
+DONTBLAST
+THRUGHOST
Radius 8
Height 16
Damage (0)
DamageType "PsychicType"
Scale 2.5
States
{
Spawn:
PCNN A 1
PCNN CACACACACACACACACACACACACACACACACA 1 A_Explode(2,64,0)
Death:
PCNN CACACACACA 1 A_FadeOut(0.1)
stop
}
}

actor FreezeBomb
{
PROJECTILE
+BLOODSPLATTER
-NOGRAVITY
+BOUNCEONWALLS
+BOUNCEONFLOORS
+BOUNCEONCEILINGS
Radius 10
Height 14
damage (0)
damagetype "IceTypeX"
speed 24
bouncefactor 0.75
wallbouncefactor 1.0
reactiontime 32
bouncecount 5
scale 2.5
States
{
Spawn:
FBOM A 0
FBOM A 0 ThrustThingZ(0, 25, 0, 1)
FBOM A 0 A_CountDown
FBOM ABCD 3
Goto Spawn+2
XDeath:
Crash:
FBOM A 0 A_Stop
FBOM A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
FBOM A 0 A_ChangeFlag("NOGRAVITY",1)
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_Explode(20, 128, 0)
ASEX ABC 2
ASEX DEF 1
stop
Death:
FBOM A 0 A_Stop
FBOM A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
FBOM A 0 A_ChangeFlag("NOGRAVITY",1)
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_SpawnItemEx("IceParticleT",0,0,0,random(1,5),random(-5,5),random(-5,5),random(0,360))
FBOM A 0 A_Explode(20, 128, 0)
ASEX ABC 2
ASEX DEF 1
stop
}
}

actor IceParticleT
{
PROJECTILE
+CLIENTSIDEONLY
+NOINTERACTION
scale 2.5
states
{
Spawn:
FCRA E 5
FCRA EEEEEE 2 A_FadeOut(0.07)
stop
}
}

actor DMasonPowerItem : CustomInventory 
{
inventory.amount 1
inventory.maxamount 1
inventory.pickupmessage ""
inventory.icon "TIMMI2"
Inventory.PickupSound "item/1up"
+INVBAR
scale 2.0
states
{
Spawn:
WADP A 1
loop
Use:
WADP A 0 A_JumpIfInventory("TimeManipAmmo",525, "Use2")
WADP A 0
WADP A 0
fail
Use2:
WADP A 0 A_TakeInventory("TimeManipAmmo",525)
WADP A 0 A_PlaySoundEx("weapon/slow","Weapon")
WADP A 0 A_GiveInventory("PowerMasonSpeedBuff",1)
WADP A 0 A_GiveInventory("PowerMasonAttackBuff",1)
WADP A 0 A_GiveInventory("PowerMasonDefenseBuff",1)
fail
}
}

actor PowerMasonAttackBuff : PowerDamage
{
Powerup.Duration 175
damagefactor "Normal", 1.33
}

actor PowerMasonSpeedBuff : PowerSpeed
{
Powerup.Duration 175
Speed 1.33
}

actor PowerMasonDefenseBuff : PowerProtection
{
Powerup.Duration 175
damagefactor "Normal", 0.67
damagefactor "AuraType", 1.0 //Always 1.0x
damagefactor "AuraType2", 1.0
damagefactor "AuraType3", 1.0
damagefactor "AuraTypeX", 1.0 
}