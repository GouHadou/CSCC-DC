actor SolarLaserBoss : BaseCSCCWep
{
Weapon.AmmoUse 1
Weapon.AmmoGive 56
Weapon.SlotNumber 1
Obituary "%o was PEW PEW'D by %k's Solar Laser."
weapon.ammotype "SolarClassAmmo"
Inventory.Pickupmessage "Power Up! Solar Laser!"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
+INVENTORY.UNDROPPABLE
DropItem "SolarLaserWepGiver"
Scale 2.0
States
{
Ready:
SLSR B 0 ACS_ExecuteAlways(998,0,WCCS_FINITEZERO)
SLSR B 4 A_WeaponReady(WRF_NOSWITCH)
SLSR B 0 A_GiveInventory("SolarClassAmmo", 1)
Goto Ready+1
Deselect:
TNT1 A 0 A_SelectWeapon("SolarLaserBoss")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SLSR B 1 A_Raise
Loop
Fire:
CFGV B 0 A_JumpIfInventory("IsBot", 1, "BotCheck")
SLSR B 0 A_JumpIfNoAmmo("NoAmmo")
SLSR C 0 A_PlaySoundEx("weapon/SolarL","Weapon")
SLSR C 2 A_FireCustomMissile("SolarLaser",0,1,8,0)
SLSR D 2
SLSR B 0 A_Refire
Goto Ready+1
BotCheck:
SLSR B 0 A_JumpIfCloser(150, "RetreatForeward")
SLSR B 0 A_JumpIfCloser(212, "Retreat")
SLSR B 0 A_JumpIfNoAmmo("NoAmmo")
SLSR C 0 A_PlaySoundEx("weapon/SolarL","Weapon")
SLSR C 2 A_FireCustomMissile("SolarLaser",0,1,8,0)
SLSR D 2
SLSR B 0 A_Refire
Goto Ready+1
Retreat:
SLSR B 0 A_JumpIf(momz==0, "JumpRetreat")
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 A_Recoil(40)
SLSR L 20
Goto Ready+1
JumpRetreat:
CFGV I 2 ThrustThingZ(0,50,0,1)
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 A_Recoil(40)
SLSR L 20
Goto Ready+1
RetreatForeward:
SLSR B 0 A_JumpIf(momz==0, "JumpRetreatForeward")
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 A_Recoil(-40)
SLSR L 20
Goto Ready+1
JumpRetreatForeward:
CFGV I 2 ThrustThingZ(0,50,0,1)
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 A_Recoil(-40)
SLSR L 20
Goto Ready+1
Altfire:
SLSR L 0 A_JumpIfInventory("SolarClassAmmo", 14, "CheckMove")
Goto NoAmmo
CheckMove:
SLSR L 0 A_JumpIf(ACS_ExecuteWithResult(302,0)==1,"Leap") 
SLSR L 0 A_JumpIf(ACS_ExecuteWithResult(302,0)==2,"Back")
SLSR L 0 A_JumpIf(ACS_ExecuteWithResult(302,0)==3,"Left")
SLSR L 0 A_JumpIf(ACS_ExecuteWithResult(302,0)==4,"Right")
//SLSR L 1
goto Hop
Hop:
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
CFGV L 0 ThrustThingZ(0,42,0,0)
SLSR L 0 A_TakeInventory("SolarClassAmmo", 14)
SLSR L 20
Goto Ready+1
Left: 
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 ThrustThing(angle*256/360+64, 5, 0, 0)
SLSR L 0 A_TakeInventory("SolarClassAmmo", 14)
SLSR L 20
Goto Ready+1
Right: 
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 ThrustThing(angle*256/360-64, 5, 0, 0)
SLSR L 0 A_TakeInventory("SolarClassAmmo", 14)
SLSR L 20
Goto Ready+1
Back: 
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 ThrustThing(angle*256/360+128, 5, 0, 0)
SLSR L 0 A_TakeInventory("SolarClassAmmo", 14)
SLSR L 20
Goto Ready+1
Leap: 
SLSR L 0 A_PlaySoundEx("weapon/centaurflash","Weapon")
SLSR L 0 A_FireCustomMissile("RFGshot",0,0,8,0)
SLSR L 0 ThrustThing(angle*256/360, 5, 0, 0)
SLSR L 0 A_TakeInventory("SolarClassAmmo", 14)
SLSR L 20
Goto Ready+1
NoAmmo:
SLSR B 1 ACS_Execute(979,0)
Goto Ready+1
}
}

actor SolarClassAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 56
}

actor RFGshot
{
Speed 0
Damage 0
Scale 2.5
Height 0
Radius 0
+NOGRAVITY
-SOLID
States
{
Spawn:
NAPA EFGHIJKLMNOPQRS 2
stop
}
}

actor SolarLaser 
{
Obituary "%o was PEW PEW'D by %k's Solar Laser."
PROJECTILE 
Radius 5 
Height 5 
scale 2.5 
damage (6) 
+HEXENBOUNCE
damagetype "SolarLaser"
+FORCEXYBILLBOARD 
speed 80 
ReactionTime 12
BOUNCECOUNT 2
States
{
Spawn:
SLSR E 3 A_CountDown 
loop
Death:
MMFX BCDE 3 
stop 
}
}

actor SolarLaserBot : SolarLaserBoss
{
States
{
NoAmmo:
SLSR A 54
SLSR A 0 A_GiveInventory("SolarClassAmmo", 14)
goto Ready+1
}
}