 actor DaverisClassIGWep : BaseCSCCWep
{
Weapon.AmmoUse 0
Weapon.AmmoGive 28
Weapon.SlotNumber 5
weapon.ammotype "PulseAmmo"
Obituary "%k made %o the coolest guy in the server."
Inventory.Pickupmessage "Power Up! Ice Slasher!"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
+WEAPON.CHEATNOTWEAPON
inventory.icon "TNT1A0"
Scale 2.0
States
{
Ready:
BLUH A 0 ACS_ExecuteAlways(998,0,WCCS_DAVERIS) 
BLUH A 2 A_WeaponReady(WRF_NOSWITCH)
//BLUH A 0 A_GiveInventory("PulseAmmo", 1)
BLUH A 0 A_GiveInventory("FlurryAmmo", 1)
Goto Ready+1
Deselect:
TNT1 A 0 A_SelectWeapon("DaverisClassWep")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
BLUH A 1 A_Raise
Loop
Fire:
BLUH A 1 A_JumpIfNoAmmo("NoAmmo")
BLUH C 0 A_PlaySoundEx("weapon/napalm", "Weapon")
BLUH C 0 A_FireCustomMissile ("IGIcePulse", 0, 1, 0, 5)
BLUH C 0 A_Recoil(20)
BLUH C 50
BLUH C 1 A_WeaponReady(WRF_NOPRIMARY|WRF_NOSWITCH)
BLUH C 0 A_Refire
Goto Ready+1
Altfire:
BLUH C 0 SetPlayerProperty(0,1,0)
TNT1 A 0 A_ChangeFlag("SHOOTABLE",0)
BLUH C 20 A_SpawnItemEx("DaverisCounterIG")
TNT1 A 0 A_ChangeFlag("SHOOTABLE",1)
BLUH C 0 SetPlayerProperty(0,0,0)
BLUH A 10
Goto Ready+1
NoAmmo:
BLUH A 1 ACS_Execute(979,0)
Goto Ready+1
}
}


actor IGIcePulse : ProjectileBase
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
//seesound "weapon/mbuster"
Speed 100
damagetype "Ice2"
Damage (500)
radius 20
height 20
scale 2.5
States
{
Spawn:
BLUC ABC 2
loop
Death:
BOMB A 0 A_PlaySoundEx("weapon/hyperbomb", "Weapon")
BOMB BCDEFGHIJKLMNOPQR 1
Stop
}
}


actor DaverisCounterIG
{
+MISSILE
//+RIPPER
+DONTSPLASH
+SHOOTABLE
+GHOST
+NOGRAVITY
Damage 0
height 56
speed 0
health 9999
+DONTRIP
painchance 256
+NOBLOOD
+NOTARGETSWITCH
radius 40
scale 2.5
States
{
Spawn:
TNT1 A 20
stop
Pain:
TNT1 A 0 A_ChangeFlag("SHOOTABLE",0)
TNT1 A 0 A_ChangeFlag("NOINTERACTION",1)
TNT1 A 1 A_PlaySoundEx("weapon/icebreath","Weapon")
TNT1 A 0 A_GiveToTarget("DaverisCounterFlag",1)
TNT1 A 3 A_GiveToTarget("DaverisCounterAttackIG",1)
stop
}
}

actor DaverisCounterAttackIG : CustomInventory
{
inventory.amount 1
inventory.maxamount 20
states
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 1 A_FireCustomMissile("CounterIG",0,0,0,0)
TNT1 A 2
stop
}
}

actor CounterIG : ProjectileBase
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
Obituary "%o was slain by the wrath of %k"
//seesound "weapon/mbuster"
Speed 100
damagetype "Ice2"
Damage (500)
radius 30
height 30
scale 2.5
States
{
Spawn:
TNT1 A 2
loop
Death:
TNT1 A 1
Stop
XDeath:
Crash:
TNT1 A 1 A_PlaySoundEx("weapon/davig","Weapon")
TNT1 A 1 A_SpawnItemEx("lightningFX")
stop
}
}

actor lightningFX
{
PROJECTILE
-NOGRAVITY
Radius 6
Height 6
scale 2.5
damage 0
damagetype "FCrack2"
speed 5
states
{
Spawn:
DALI ABCD 4
stop
}
}


