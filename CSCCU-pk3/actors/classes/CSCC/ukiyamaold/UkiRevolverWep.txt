actor UkiRevolverWep : Weapon 
{
Weapon.AmmoUse 5 
Weapon.AmmoGive 30 
Weapon.SlotNumber 2 
Obituary "%o was sniped by %k's Uki Revolver." 
Inventory.Pickupmessage "Power Up! Meteor!"
weapon.ammotype "UkiRevolverAmmo" 
inventory.pickupsound "weapon/weaponup" 
+WEAPON.AMMO_OPTIONAL 
+WEAPON.DONTBOB 
+WEAPON.CHEATNOTWEAPON
+INVENTORY.UNDROPPABLE
Scale 2.0
inventory.icon "TNT1A0"
States
{
Ready:
UKIY B 0 ACS_ExecuteAlways(998,0,WCCS_UKIYAMA)
UKIY B 0 A_JumpIfInventory("Once",1,"Ready2")
UKIY B 0 A_GiveInventory("Once",1)
Goto Ready2
Ready2:
UKIY B 15 A_WeaponReady
UKIY B 0 A_GiveInventory("UkiMeteorAmmo",1)
UKIY B 0 A_JumpIf(z-floorz>0,"Ready2")
UKIY B 0 A_GiveInventory("WindTornadoAmmo",2)
Goto Ready2
Deselect: 
TNT1 A 0 
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
UKIY B 1 A_Lower
Loop
Select: 
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
UKIY B 1 A_Raise
Loop
Fire: 
UKIY B 0 ACS_ExecuteAlways(974,0)
UKIY B 0 A_JumpIfNoAmmo("NoAmmo")
UKIY B 1 
UKIY B 0 A_PlaySoundEx("weapon/UkiRevolverShot","Weapon") 
UKIY B 0 A_FireCustomMissile("UkiRevolverProjectile",0,5,15,0) 
UKIY C 2 
UKIY B 4
Goto Hold
Hold:
UKIY B 0 A_JumpIfNoAmmo("NoAmmo")
UKIY B 1
JCHN B 0 A_JumpIfInventory("IsBot", 1, "Fire")
UKIY B 0 A_Refire
Goto Ready+1  
AltFire:
UKIY B 0 A_JumpIfInventory("UkiRevolverAmmo",30,"NoAmmo")
UKIY B 8
UKIY B 0 A_PlaySoundEX("weapon/UkiRevolverReload","Weapon")
UKIY CBCB 2
UKIY B 0 A_GiveInventory("UkiRevolverAmmo",5) 
UKIY B 0 A_GiveInventory("UkiMeteorAmmo",2)
UKIY B 0 A_JumpIf(z-floorz==0,"WindAmmo")
UKIY B 4
goto Ready+1
WindAmmo:
UKIY B 0 A_GiveInventory("WindTornadoAmmo",4)
UKIY B 4
goto Ready+1
NoAmmo: 
UKIY B 1
JCHN B 0 A_JumpIfInventory("IsBot", 1, "BotAltFire")
Goto Ready+1 
BotAltFire:
UKIY B 0 A_JumpIfInventory("UkiRevolverAmmo",25,"AltFire")
UKIY B 8
UKIY B 0 A_PlaySoundEX("weapon/UkiRevolverReload","Weapon")
UKIY CBCB 2
UKIY B 0 A_GiveInventory("UkiRevolverAmmo",5) 
UKIY B 0 A_GiveInventory("UkiMeteorAmmo",2)
UKIY B 0 A_JumpIf(z-floorz==0,"WindAmmo")
UKIY B 4
UKIY B 0 A_WeaponReady
Loop
}
}

actor UkiRevolverAmmo : Ammo 
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 30
}

actor UkiRevolverProjectile 
{
PROJECTILE 
Radius 5 
Height 5 
scale 0.5 
damage (13) 
damagetype "Buster"
+FORCEXYBILLBOARD 
+DontBlast
+NOTARGETSWITCH
bouncecount 8
speed 64 
States
{
Spawn:
UKIY MNOPQRST 1 
loop
Death:
stop 
}
}