actor Rozark : ClassBaseCSCC
{
player.displayname "Rozark"
player.soundclass "RozarkClass"
player.damagescreencolor "red"
player.forwardmove 0.9, 0.9
player.sidemove 0.88, 0.88
player.jumpz 10
player.startitem "OblivionWingsClass"
player.startitem "BloodyBatClass"
player.startitem "OblivionWingsAmmo", 30
player.startitem "RozarkHealthBar"
player.startitem "NoHealthBar2"
player.startitem "RozarkAmmoRegen"
player.startitem "IsRozark"
damagefactor "Normal", 0.95
player.maxhealth 105
health 105
States
{
Spawn:
RESN A 0
RESN B 1 
RESN A 1 
Goto Spawn+2
See:
RESN BCDE 5 
Goto Spawn
Missile:
RESN F 5 
RESN G 4 
goto Spawn
Pain.CopyAlt:
Pain.CopyMain:
CFSK H 0 A_SpawnItemEx("RozarkCopyHitMain",1)
goto pain+1
Death:
RESN H 10 A_GiveInventory("ClassDeathPickup",1)
goto DeathFrames
DeathFrames:
//ICSP H 0 ACS_ExecuteAlways(718, 0, 0)
RESN H 1 A_GiveToTarget("KilledMe",1)
RESN H 19 ACS_ExecuteAlways(999,0,0)
TNT1 A 1 A_SpawnItemEx("Confetti",random(-16, 16),random(-16, 16),Random(18, 36),random(-3,3), random(-3,3), random(10,5),0)
TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("Confetti",random(-16, 16),random(-16, 16),Random(18, 36),random(-3,3), random(-3,3), random(10,5),0)
TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("Confetti",random(-16, 16),random(-16, 16),Random(9, 18),random(-3,3), random(-3,3), random(10,5),0)
PLAY Z 0 A_Stop
PLAY Z 0 A_PlayerScream 
PLAY Z 0
PLAY Z 1 A_CheckPlayerDone
wait
Death.Backstab:
RESN H 0 SetPlayerProperty(0, 0, 4)
RESN H 0 A_TakeInventory("PharaohCharge",999)   
RESN H 0 A_NoBlocking
RESN H 0 A_GiveInventory("CutterFlag",999)
RESN H 0 A_GiveInventory("IsDead",1)
RESN H 0 A_Stop
RESN H 0 A_GiveToTarget("KilledMeStock",1)
RESN H 1 A_GiveToTarget("KilledMe",1)
RESN H 1 A_GiveToTarget("ClearDisguise",1)
RESN H 0 A_GiveToTarget("DisguiseOn",1)
RESN H 0 A_GiveToTarget("MessDisguise",1)
RESN H 0 ACS_ExecuteAlways(775,0,363)
goto BackstabFrames
}
}

actor RozarkHealthBar : Once
{
}



actor RozarkCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("RozarkMorphItem",1)
stop
}
}

actor RozarkCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("RozarkCopyPickupMain",1)
stop
}
}


actor RozarkMorphItem : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYMORPH, 0, 36)
stop
}
}

actor RozarkMorph : Rozark
{
+NOSKIN
player.morphweapon "OblivionWingsClass"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}