actor YDElectrokinesis : BaseMM8BDMWep
{
//$Category MM8BDM-Weapons
Weapon.AmmoUse 1
Weapon.AmmoGive 0
Weapon.SlotNumber 1
Obituary "%o was zapped into submission by %k's Electrokinesis."
Inventory.Pickupmessage "Power Up! Static Shock!"
weapon.ammotype "ElectrokinesisAmmo"
inventory.pickupsound "weapon/weaponup"
dropitem "StaticShockWepGiver"
+WEAPON.AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
Scale 2.0
States
{
Ready:
TBOL S 0 ACS_ExecuteAlways(998,0,43)
YDHD B 0 A_JumpIfInventory("ElectricCharge",5,"UNLIMITEDPOWER")
YDHD B 10 A_WeaponReady
YDHD B 0 A_GiveInventory("ElectroKinesisAmmo",1)
Goto Ready+1
UNLIMITEDPOWER:
YDHD B 10 A_WeaponReady
YDHD B 0 A_GiveInventory("ElectroKinesisAmmo",1)
YDHD B 0 A_SpawnItemEX("YDLightningFX",random(-5,5),random(-5,5),random(0,64),0,random(-3,3),0)
goto Ready+1
Deselect:
YDHD K 0 A_SelectWeapon("YDElectroConstructs")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
YDHD A 1 A_Lower
Loop
Select:
TNT1 A 0 A_TakeInventory("Wep2",1)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
YDHD K 1 A_Raise
Loop
Fire:
YDHD S 0 A_JumpIfInventory("WeaponCharge",10,"Charged")
YDHD S 0 A_JumpIfNoAmmo("NoAmmo")
YDHD B 1 A_GiveInventory("WeaponCharge",1)
TBOL S 0 A_Refire
goto FireSmall
FireSmall:
YDHD S 0 A_TakeInventory("WeaponCharge",999)
YDHD S 0 A_PlaySoundEx("weapon/thunderbolt","Weapon")
YDHD S 0 A_SpawnItemEx("YDBoltFX",-1,8,32,0,0,0)
YDHD S 0 A_FireCustomMissile("YDLightning",0,1,8,0)
YDHD CC 2
TBOL S 0 A_Refire
Goto Ready+1
Charged:
YDHD D 3
YDHD D 0 A_JumpIfInventory("IsBot", 1, "FireBigBot")
TBOL S 0 A_Refire
goto FireBig
FireBigBot:
YDHD S 10
YDHD S 0 A_TakeInventory("WeaponCharge",999)
YDHD S 0 A_JumpIfInventory("ElectricCharge",5,"FireHUEGCharged")
YDHD S 0 A_JumpIfInventory("ElectricCharge",1,"FireBigCharged")
YDHD S 0 A_PlaySoundEx("weapon/thunderbolt","Weapon")
YDHD S 0 A_SpawnItemEx("YDBoltFX2",-1,8,32,0,0,0)
YDHD S 0 A_FireCustomMissile("StaticLightning",0,1,8,0)
YDHD DBC 2
TBOL S 0 A_Refire
Goto Ready+1
FireBig:
YDHD S 0 A_TakeInventory("WeaponCharge",999)
YDHD S 0 A_JumpIfInventory("ElectricCharge",5,"FireHUEGCharged")
YDHD S 0 A_JumpIfInventory("ElectricCharge",1,"FireBigCharged")
YDHD S 0 A_PlaySoundEx("weapon/thunderbolt","Weapon")
YDHD S 0 A_SpawnItemEx("YDBoltFX2",-1,8,32,0,0,0)
YDHD S 0 A_FireCustomMissile("StaticLightning",0,1,8,0)
YDHD DBC 2
TBOL S 0 A_Refire
Goto Ready+1
FireBigCharged:
TBOL S 0 A_JumpIfInventory("ElectrokinesisAmmo",4,"FireBigChargedFire")
goto Ready+1
FireBigChargedFire:
TBOL U 0 A_TakeInventory("ElectroKinesisAmmo",4)
TBOL S 0 A_TakeInventory("ElectricCharge",1)
TBOL S 0 SetPlayerProperty(0,1,0)
TBOL S 0 A_PlaySoundEx("weapon/flashbomb","Weapon")
YDHD C 2 A_FireCustomMissile("OverloadLightning",0,0,8,0)
YDHD BA 2
TBOL S 0 SetPlayerProperty(0,0,0)
TBOL S 0 A_Refire
Goto Ready+1
FireHUEGCharged:
TBOL S 0 A_JumpIfInventory("ElectrokinesisAmmo",14,"FireHUEGChargedFire")
goto Ready+1
FireHUEGChargedFire:
TBOL U 0 A_TakeInventory("ElectroKinesisAmmo",14)
TBOL S 0 A_TakeInventory("ElectricCharge",5)
TBOL S 0 SetPlayerProperty(0,1,0)
YDHD LMNOP 2
YDHD P 0 A_FireCustomMissile("LightningLine",0,0,32,0)
YDHD P 5
YDHD P 0 A_FireCustomMissile("LightningLine",0,0,0,0)
YDHD P 5
YDHD P 0 A_FireCustomMissile("LightningLine",0,0,-32,0)
YDHD P 5
TBOL S 0 SetPlayerProperty(0,0,0)
TBOL S 0 A_Refire
Goto Ready+1
Altfire:
TBOL S 0 A_JumpIfInventory("WeaponCharge",50,"AltCharge2")
TBOL S 0 A_JumpIfInventory("WeaponCharge",10,"AltCharge")
TBOL S 0 A_JumpIfNoAmmo("NoAmmo")
TBOL S 0 SetPlayerProperty(0,1,0)
YDHD B 1 A_GiveInventory("WeaponCharge",1)
TBOL S 0 A_Refire
goto NoCharge
Altcharge:
YDHD B 0 A_JumpIfInventory("WeaponCharge",50,"AltCharge2")
YDHD B 1 A_GiveInventory("WeaponCharge",1)
YDHD B 0 A_Refire
goto MidCharge
AltCharge2:
YDHD D 3
YDHD D 0 A_Refire
FullCharge:
YDHD D 0 A_JumpIfInventory("ElectroKinesisAmmo",14,"FullFire")
goto MidCharge
FullFire:
VLBL A 0 A_SetTranslucent (0.0, 0) 
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 A_Recoil(-150)
TBOL C 0 A_ChangeFlag("SOLID",0)
TBOL C 0 A_PlaySoundEx("weapon/ydlightningform","Weapon")
TBOL C 0 SetPlayerProperty(0,1,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",1)
FullFly:
YDHD C 1 A_FireCustomMissile("LightningRadiusHueg",0,0,0,0)
YDLG A 0 A_SpawnItemEx("YDTrail",0,0,32)
TBOL S 0 A_GiveInventory("WeaponCharge",1)
TBOL S 0 A_JumpIfInventory("WeaponCharge",35,"FullStop")
loop
FullStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 SetPlayerProperty(0,0,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
TBOL C 0 A_ChangeFlag("SOLID",1)
VLBL A 0 A_SetTranslucent (1.0, 0) 
TBOL A 0 A_TakeInventory("ElectroKinesisAmmo",14)
goto Ready+1
MidCharge:
TBOL S 0 A_JumpIfInventory("ElectroKinesisAmmo",7,"MidFire")
goto NoCharge
MidFire:
VLBL A 0 A_SetTranslucent (0.0, 0) 
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 A_Recoil(-50)
TBOL C 0 A_ChangeFlag("SOLID",0)
TBOL C 0 A_PlaySoundEx("weapon/ydlightningform","Weapon")
//TBOL C 0 SetPlayerProperty(0,1,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",1)
MidFly:
YDHD C 1 A_FireCustomMissile("LightningRadiusMid",0,0,0,0)
YDLG A 0 A_SpawnItemEx("YDTrail",0,0,32)
TBOL S 0 A_GiveInventory("WeaponCharge",1)
TBOL S 0 A_JumpIfInventory("WeaponCharge",17,"MidStop")
loop
MidStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 SetPlayerProperty(0,0,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
TBOL C 0 A_ChangeFlag("SOLID",1)
VLBL A 0 A_SetTranslucent (1.0, 0) 
TBOL A 0 A_TakeInventory("ElectrokinesisAmmo",7)
goto Ready+1
NoCharge:
TBOL S 0 A_JumpIfInventory("ElectroKinesisAmmo",4,"SmallFire")
goto YourDum
SmallFire:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 A_Recoil(-20)
//TBOL C 0 A_ChangeFlag("SOLID",0)
TBOL C 0 A_PlaySoundEx("weapon/ydlightningform","Weapon")
TBOL C 0 //SetPlayerProperty(0,1,3)
//TBOL A 0 A_ChangeFlag("INVULNERABLE",1)
SmallFly:
YDHD B 1 A_FireCustomMissile("LightningRadiusSmall",0,0,0,0)
YDHD B 0 A_SpawnItemEx("YDTrail",0,0,32)
YDHD B 0 A_GiveInventory("WeaponCharge",1)
YDHD B 0 A_JumpIfInventory("WeaponCharge",7,"SmallStop")
loop
SmallStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 //SetPlayerProperty(0,0,3)
//TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
//TBOL C 0 A_ChangeFlag("SOLID",1)
TBOL A 0 A_TakeInventory("ElectrokinesisAmmo",4)
goto Ready+1
NoAmmo:
TBOL S 0 ACS_Execute(979,0)
Goto Ready+1
YourDum:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 SetPlayerProperty(0,0,3)
goto Ready+1
}
}

actor ElectroKinesisAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor YDLightning
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
damagetype "YellowDevil"
+PIERCEARMOR
+RIPPER
scale 2.5
Speed 64
Radius 12
Height 12
Damage (5)
States
{
Spawn:
YDLG A 1
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG B 1
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG C 1
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG D 1
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG E 1
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG F 1
YDLG A 0 A_SpawnItemEx("YDTrail")
stop
}
}

actor YDTrail
{
scale 2.5
-SOLID
+NOGRAVITY
+CLIENTSIDEONLY
height 0
radius 0
States
{
Spawn:
YDLG ACDF 2
stop
}
}

actor StaticLightning : MageStaffFX2
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
-RIPPER
-EXTREMEDEATH
damagetype "YellowDevil"
scale 2.5
Speed 34
Radius 12
translation "218:218=198:198", "211:215=192:192"
Height 12
Reactiontime 35
Damage (10)
States
{
Spawn:
YDLG A 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG B 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG C 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG D 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG E 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG F 1 A_MStaffTrack
YDLG A 0 A_CountDown
loop
Death:
YDLG A 0 //A_SpawnItemEx("StaticBall")
stop
XDeath:
YDLG A 0
stop
Crash:
YDLG A 0 //A_SpawnItemEx("StaticLightning2",56,0,2,34,0,0,0)
stop
}
}


actor StaticBall : MageStaffFX2
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
damagetype "YellowDevil"
scale 2.5
Speed 34
Radius 12
Height 12
Damage (3)
States
{
Spawn:
YDLG A 0 A_JumpIfInTargetInventory("CutterFlag",999,"Crash")
YDLG A 1 A_MStaffTrack
YDLG A 0 A_CustomMissile("StaticShield")
stop
Crash:
Stop
}
}

/*
actor StaticLightning2 : StaticLightning
{
+RIPPER
damagetype "YellowDevil"
damage (5)
States
{
Crash:
XDeath:
Death:
YDLG A 1 A_Stop
stop
}
}
*/

actor LightningRadiusHueg
{
+DONTSPLASH
+NOGRAVITY
+MISSILE
+SKYEXPLODE
+NOINTERACTION
+NOCLIP
+BLOODSPLATTER
Damagetype "YellowDevil"
Damage 0
Speed 36
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(10,96,0)
stop
}
}

actor LightningRadiusMid : LightningRadiusHueg
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(7,96,0)
stop
}
}

actor LightningRadiusSmall : LightningRadiusHueg
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(5,96,0)
stop
}
}

actor YDElectroConstructs : YDElectroKinesis
{
Weapon.Slotnumber 2
States
{
Ready:
TBOL S 0 ACS_ExecuteAlways(998,0,43)
YDHD B 0 A_JumpIfInventory("ElectricCharge",5,"UNLIMITEDPOWER")
YDHD A 10 A_WeaponReady
YDHD B 0 A_GiveInventory("ElectroKinesisAmmo",1)
Goto Ready+1
UNLIMITEDPOWER:
YDHD A 10 A_WeaponReady
YDHD B 0 A_GiveInventory("ElectroKinesisAmmo",1)
YDHD B 0 A_SpawnItemEX("YDLightningFX",random(-5,5),random(-5,5),random(0,64),0,random(-3,3),0)
goto Ready+1
Select:
TNT1 A 0 A_GiveInventory("Wep2",1)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
YDHD K 1 A_Raise
Loop
Deselect:
YDHD K 0 A_SelectWeapon("YDElectroKinesis")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
YDHD A 1 A_Lower
Loop
Fire:
TBOL S 0 A_JumpIfInventory("WeaponCharge",25,"Charged")
TBOL S 0 A_JumpIfNoAmmo("NoAmmo")
YDHD A 1 A_GiveInventory("WeaponCharge",1)
TBOL S 0 A_Refire
goto FireSmall
FireSmall:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL S 0 A_PlaySoundEx("weapon/mbuster","Weapon")
TBOL S 0 A_FireCustomMissile("YDBomb",0,1,8,0)
YDHD EFGH 2
YDHD IJK 1 A_WeaponReady
Goto Ready+1
Charged:
YDHD K 3
TBOL S 0 A_Refire
goto FireBig
FireBig:
TBOL S 0 A_JumpifInventory("ElectroKinesisAmmo",4,"FireBigFire")
goto FireSmall
FireBigFire:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
YDHD S 0 A_JumpIfInventory("ElectricCharge",5,"FireHUEGCharged")
TBOL S 0 A_JumpIfInventory("ElectricCharge",1,"FireBigCharged")
TBOL S 0 A_PlaySoundEx("weapon/ydlightningform","Weapon")
TBOL S 0 A_FireCustomMissile("YDSplitBomb",0,0,8,0)
TBOL S 0 A_TakeInventory("ElectroKinesisAmmo",4)
YDHD EFGH 1
YDHD IJK 1 A_WeaponReady
Goto Ready+1
FireBigCharged:
TBOL S 0 A_JumpIfInventory("ElectrokinesisAmmo",8,"FireBigChargedFire")
goto Ready+1
FireBigChargedFire:
TBOL S 0 A_TakeInventory("ElectricCharge",1)
TBOL S 0 SetPlayerProperty(0,1,0)
TBOL U 0 A_TakeInventory("ElectroKinesisAmmo",8)
TBOL S 0 A_PlaySoundEx("weapon/flashbomb","Weapon")
TBOL S 0 A_SpawnItemEx("YDSentry",64,0,8,0,0,0,0) 
TBOL U 0 A_SpawnItemEx("YDSentry",64,0,8,0,0,0,90)
TBOL U 0 A_SpawnItemEx("YDSentry",64,0,8,0,0,0,180)
TBOL U 0 A_SpawnItemEx("YDSentry",64,0,8,0,0,0,270)
YDHD LMNOP 2
YDHD K 3
TBOL S 0 SetPlayerProperty(0,0,0)
TBOL S 0 A_Refire
Goto Ready+1
FireHUEGCharged:
TBOL S 0 A_JumpIfInventory("ElectrokinesisAmmo",14,"FireHUEGChargedFire")
goto Ready+1
FireHUEGChargedFire:
TBOL U 0 A_TakeInventory("ElectroKinesisAmmo",14)
TBOL S 0 A_TakeInventory("ElectricCharge",5)
TBOL S 0 SetPlayerProperty(0,1,0)
YDHD LMNOP 2
YDHD P 0 A_FireCustomMissile("StaticShield",0,0,8,0) //these might lag to high hell
YDHD P 0 A_FireCustomMissile("StaticShield",90,0,8,0)
YDHD P 0 A_FireCustomMissile("StaticShield",180,0,8,0)
YDHD P 0 A_FireCustomMissile("StaticShield",270,0,8,0)
YDHD P 5
TBOL S 0 SetPlayerProperty(0,0,0)
TBOL S 0 A_Refire
Goto Ready+1
FullStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 SetPlayerProperty(0,0,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
TBOL C 0 A_ChangeFlag("SOLID",1)
VLBL A 0 A_SetTranslucent (1.0, 0) 
TBOL A 0 A_TakeInventory("ElectroKinesisAmmo",14)
goto Ready+1
MidStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 SetPlayerProperty(0,0,3)
TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
TBOL C 0 A_ChangeFlag("SOLID",1)
VLBL A 0 A_SetTranslucent (1.0, 0) 
TBOL A 0 A_TakeInventory("ElectrokinesisAmmo",7)
goto Ready+1
SmallStop:
TBOL S 0 A_TakeInventory("WeaponCharge",999)
TBOL A 0 SetPlayerProperty(0,0,0)
TBOL C 0 //SetPlayerProperty(0,0,3)
//TBOL A 0 A_ChangeFlag("INVULNERABLE",0)
//TBOL C 0 A_ChangeFlag("SOLID",1)
TBOL A 0 A_TakeInventory("ElectrokinesisAmmo",4)
goto Ready+1
}
}

actor YDBomb
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
damagetype "YellowDevil"
+PIERCEARMOR
+HEXENBOUNCE
-NOGRAVITY
+RIPPER
scale 2.5
Speed 36
Radius 24
Height 24
Damage (0)
reactiontime 20
bouncefactor 0.1
wallbouncefactor 0.2
States
{
Spawn:
YDLG R 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG S 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG R 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG T 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
loop
Death:
TBOL N 0 A_PlaySoundEx("weapon/thunderbeam","Weapon")
TBOL N 0 A_Explode(15,64,0)
YDLG U 0 A_SpawnItemEx("YDBombExplosion")
stop
}
}

actor BombTrail
{
scale 2.5
-SOLID
+NOGRAVITY
+CLIENTSIDEONLY
height 0
radius 0
States
{
Spawn:
YDLG XY 2
stop
}
}

actor YDBombExplosion
{
scale 4.0
-SOLID
+NOGRAVITY
+CLIENTSIDEONLY
height 0
radius 0
States
{
Spawn:
YDLG UVW 2
stop
}
}


actor YDSplitBomb : YDBomb
{
reactiontime 25
translation "197:197=218:218"
scale 4.0
States
{
Death:
TBOL N 0 A_SpawnItemEx("YDBomb2",0,0,0,random(-7,7),random(-7,7),random(5,15))
TBOL N 0 A_SpawnItemEx("YDBomb2",0,0,0,random(-7,7),random(-7,7),random(5,15))
TBOL N 0 A_SpawnItemEx("YDBomb2",0,0,0,random(-7,7),random(-7,7),random(5,15))
TBOL N 0 A_SpawnItemEx("YDBomb2",0,0,0,random(-7,7),random(-7,7),random(5,15))
YDLG RSRTRS 1
TBOL N 0 A_PlaySoundEx("weapon/thunderbeam","Weapon")
TBOL N 0 A_Explode(20,128,0)
YDLG U 0 A_SpawnItemEx("YDBombExplosion2")
stop
}
}

actor YDBomb2 : YDBomb
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
damagetype "YellowDevil"
-NOGRAVITY
-RIPPER
-HEXENBOUNCE
Damage (5)
reactiontime 25
translation "197:197=218:218"
States
{
Spawn:
YDLG R 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG S 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG R 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
YDLG T 1 A_Countdown
YDLG R 0 A_SpawnItemEx("BombTrail")
loop
Death:
TBOL N 0 A_PlaySoundEx("weapon/thunderbeam","Weapon")
TBOL N 0 A_Explode(15,32,0)
YDLG U 0 A_SpawnItemEx("YDBombExplosion2")
stop
}
}

actor YDBombExplosion2 : YDBombExplosion
{
translation "197:197=218:218"
}

actor YDTrailCharge : YDTrail
{
translation "218:218=198:198", "211:215=192:192"
}

actor YDSentry
{
Health 1
MONSTER
//+MISSILE
+DONTBLAST
+SKYEXPLODE
-SOLID
-COUNTKILL
+FRIENDLY
+SHOOTABLE
+NOBLOOD
+NEVERRESPAWN
speed 14
scale 2.5
+MISSILEMORE
+MISSILEEVENMORE
Radius 12
Height 56
reactiontime 256
meleerange 56
maxstepheight 64
translation "3:8=216:216", "198:198=210:210", "192:192=4:4", "243:247=216:216"
states
{
Spawn:
YDSK A 1 
Look:
PLAY A 0 A_ClearTarget
YDSK AA 6
PLAY A 0 A_GiveInventory("CutterFlag",2)
PLAY A 0 A_JumpIfInventory("CutterFlag",48,"Death")
Goto See
See:
YDSK BBBCCCDDDEEE 1 A_Chase("Melee","")
PLAY A 0 A_GiveInventory("CutterFlag",1)
PLAY A 0 A_JumpIfInventory("CutterFlag",48,"Death")
loop
Melee:
YDSK A 1 A_FaceTarget
Death:
PLAY A 0 A_PlaySoundEx("misc/thunderbolt","Voice")
YDSK G 1 A_CustomMeleeAttack(20,"weapon/thunderbolt","","YellowDevil")
NAPA EFGHIJKLMNOPQRS 1
stop
}
}

actor YDLightningFX
{
PROJECTILE
+NOINTERACTION
+CLIENTSIDEONLY
scale 2.5
Speed 64
Radius 2
Height 2
States
{
Spawn:
YDLG ABCDEF 1
stop
}
}

actor LightningLine
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
speed 26
radius 32
height 6
+RIPPER
+FLOORHUGGER
damage (17)
scale 2.5
States
{
Spawn:
NAPA A 0 A_PlaySoundEx("weapon/ydlightningform", "Weapon")
TNT1 A 5
YDLG PQ 3
KLIT E 0 A_SpawnItemEx("LightningExplosion")
loop
}
}

actor LightningExplosion : LightningRadiusHueg
{
scale 2.5
States
{
Spawn:
NAPA A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
TNT1 A 1 A_Explode(50,128,0)
NAPA EFGHIJKLMNOPQRS 1
stop
}
}

actor StaticShield : MageStaffFX2
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
+SEEKERMISSILE
-RIPPER
+HEXENBOUNCE
damagetype "YellowDevil"
scale 2.5
Speed 34
Radius 12
Height 12
Damage (3)
States
{
Spawn:
YDLG A 0 A_JumpIfInTargetInventory("CutterFlag",999,"Crash")
YDLG A 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG B 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG C 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG D 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG E 1 A_MStaffTrack
YDLG A 0 A_SpawnItemEx("YDTrail")
YDLG F 1 A_MStaffTrack
Death:
YDLG A 0 A_SpawnItemEx("StaticBall")
stop
XDeath:
Crash:
stop
}
}


actor YDBoltFX : ThunderBoltFX
{
translation "228:228=210:210", "73:73=216:216"
}

actor YDBoltFX2 : ThunderBoltFX
{
translation "228:228=192:192", "73:73=198:198"
}

actor OverloadLightning
{
Obituary "%o was zapped into submission by %k's Electrokinesis."
PROJECTILE
+SEEKERMISSILE
+RIPPER
damagetype "YellowDevil"
scale 2.5
Speed 34
Radius 12
translation "218:218=198:198", "211:215=192:192"
Height 12
Damage (6)
States
{
Spawn:
YDLG A 1 
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG B 1 
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG C 1 
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG D 1 
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG E 1 
YDLG A 0 A_SpawnItemEx("YDTrailCharge")
YDLG F 1 
loop
Death:
YDLG A 0 A_Explode(45,128,0)
TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("YDTrailCharge",random(128,-128),random(128,-128),12)
stop
Crash:
TNT1 A 1
stop
}
}