actor StoneFunk : ClassBaseCSCC
{
player.displayname "StoneFunk"
player.soundclass "megaman"
player.startitem "StoneFunkWep"
damagefactor "HyperBomb", 0.8
damagefactor "CrashBomb", 0.8
damagefactor "DrillBomb", 0.8
damagefactor "NapalmBomb", 1.0
damagefactor "DangerWrap", 0.7
damagefactor "BlazRPG", 0.7
damagefactor "KMatraMagic", 0.7
damagefactor "KSD", 0.8
States
{
Spawn:
STOM A 0
STOM B 1
STOM A 1 
Goto Spawn+2
See:
STOM BCDE 5
Goto Spawn
Missile:
STOM F 5 
STOM G 4 
goto Spawn
Pain.CopyAlt:
Pain.CopyMain:
STOM H 0 A_SpawnItemEx("StoneFunkCopyHitMain",1)
goto pain+1
Death.Backstab:
PTIM H 0 SetPlayerProperty(0, 0, 4)
PTIM H 0 A_TakeInventory("PharaohCharge",999)   
PTIM H 0 A_NoBlocking
PTIM H 0 A_GiveInventory("CutterFlag",999)
PTIM H 0 A_GiveInventory("IsDead",1)
PTIM H 0 A_Stop
PTIM H 0 A_GiveToTarget("KilledMeStock",1)
PTIM H 1 A_GiveToTarget("KilledMe",1)
PTIM H 1 A_GiveToTarget("ClearDisguise",1)
PTIM H 0 A_GiveToTarget("DisguiseOn",1)
PTIM H 0 A_GiveToTarget("StonefunkDisguise",1)
STOM H 0 ACS_ExecuteAlways(775,0,40)
goto BackstabFrames
}
}

actor StoneFunkCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("StoneFunkMorphItem",1)
stop
}
}

actor StoneFunkCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("StoneFunkCopyPickupMain",1)
stop
}
}


actor StoneFunkMorphItem : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYMORPH, 0, 32)
stop
}
}

actor StoneFunkMorph : StoneFunk
{
+NOSKIN
player.morphweapon "StoneFunkWep"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}
