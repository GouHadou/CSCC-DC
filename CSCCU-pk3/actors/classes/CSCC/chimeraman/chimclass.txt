actor Chimeraman : ClassBaseCSCC
{
player.displayname "ChimeraMan"
player.soundclass "Chimsfx"
player.forwardmove 0.9, 0.9
player.sidemove 0.8, 0.8
player.startitem "ChimeraBuster"
Player.startitem "ChimeraAmmo", 28
Player.startitem "ChimeraDiceThrow", 3
//player.startitem "MegaHealthBar"
//damagefactor "Normal", 1.1
player.maxhealth 90
health 90

States
{
Spawn:
CHIM A 0
CHIM B 1
CHIM A 1 
Goto Spawn+2
See:
CHIM BCDE 5
Goto Spawn
Missile:
CHIM F 1 
CHIM F 4 A_JumpIfInventory("Clip",1,"Meiou")
CHIM G 4 
goto Spawn
Meiou:
CHIX AABB 1 A_JumpIfInventory("Clip",2,"Meiou2")
loop
Meiou2:
CHIX CDEFGHHGFECD 3
Meiou3:
CHIX AB 2 A_JumpIf(z-floorz==0,"Spawn")
loop
Pain.CopyAlt:
Pain.CopyMain:
CHIM H 0 A_SpawnItemEx("ChimeraManCopyHitMain",1)
goto pain+1
Death.Backstab:
CHIM H 0 SetPlayerProperty(0, 0, 4)
CHIM H 0 A_TakeInventory("PharaohCharge",999)   
CHIM H 0 A_NoBlocking
CHIM H 0 A_GiveInventory("CutterFlag",999)
CHIM H 0 A_GiveInventory("IsDead",1)
CHIM H 0 A_Stop
CHIM H 0 A_GiveToTarget("KilledMeStock",1)
CHIM H 1 A_GiveToTarget("KilledMe",1)
CHIM H 1 A_GiveToTarget("ClearDisguise",1)
CHIM H 0 A_GiveToTarget("DisguiseOn",1)
CHIM H 0 A_GiveToTarget("ChimeraDisguise",1)
CHIM H 0 ACS_ExecuteAlways(775,0,412)
goto BackstabFrames
}
}

actor ChimeraManCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("ChimeraManMorphItem",1)
stop
}
}

actor ChimeraManCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("ChimeraManCopyPickupMain",1)
stop
}
}


actor ChimeraManMorphItem : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYMORPH, 0, 8)
stop
}
}

actor ChimeraManMorph : ChimeraMan
{
+NOSKIN
player.morphweapon "ChimeraBuster"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}
