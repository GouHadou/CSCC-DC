actor EggTossWep : MegaBuster
{
Weapon.AmmoUse 4
Weapon.AmmoGive 28
Weapon.SlotNumber 5
scale 2.0
Obituary "%o was scrambled by %k's Egg Toss."
inventory.pickupsound "weapon/weaponup"
weapon.ammotype "EggTossAmmo"
Inventory.Pickupmessage "Power up! Egg Toss!"
inventory.icon "EGGWI"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
States
{
Spawn:
EGGW A 1
Loop
Ready:
ETOS A 0 ACS_ExecuteAlways(998,0,WCCS_MUTANTYOSHI)
ETOS A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
ETOS A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
ETOS A 1 A_Raise
Loop
Fire:
ETOS B 0 A_JumpIfNoAmmo("NoAmmo")
ETOS B 0 A_PlaySoundEx("weapon/eggtoss","Weapon")
ETOS B 0 A_FireCustomMissile("YoshiEgg2",0,1,8,0)
ETOS BCDEFG 2
TNT1 A 10
ETOS HI 3
ETOS A 0 A_Refire
goto Ready+1
NoAmmo:
ETOS A 1 ACS_Execute(979,0)
Goto Ready+1
}
}

actor EggTossWepCS : EggTossWep
{
}




actor YoshiEgg2
{
PROJECTILE
-NOGRAVITY
damagetype "YoshiEgg"
Speed 35
Damage (0)
radius 5
height 5
scale 2.5
DeathSound "Burst"
Obituary "%o was scrambled by %k's Egg Toss."
States
{
Spawn:
EGGO A 0
EGGO A 0 ThrustThingZ(0, 37, 0, 1)
EGG0 A 1
Goto Spawn+2
Death:
EGG0 A 0 A_Changeflag("NOGRAVITY", 1)
EGG0 A 0 A_SpawnItemEx("EggFirework",0,0,9,0,0,32)
EGG0 A 0 A_Explode(50, 128, 0)
EGG0 A 0 A_PlaySoundEx("weapon/wrapexplode", "Weapon")
NAPA FGHIJKLMNOPQRS 1
stop
}
}

actor EggTossAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 28
}