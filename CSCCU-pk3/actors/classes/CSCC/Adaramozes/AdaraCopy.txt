actor FrozenCapellaWep : Base8BDMWeapon
{
Weapon.AmmoUse 2
Weapon.AmmoGive 28
Weapon.SlotNumber 4
Obituary "%o was attuned by %k's Frozen Capella."
Inventory.Pickupmessage "Power up! Frozen Capella!"
weapon.ammotype "FrozenCapellaAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL 
inventory.icon "CHICA"
Scale 2.0
States
{
Spawn:
ADCC B 1
loop
Ready:
FCAP D 0 ACS_ExecuteAlways(998,0,WCCS_ADARA)
FCAP D 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
FCAP D 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
FCAP D 1 A_Raise
Loop
Fire:
FCAP D 0 A_JumpIfNoAmmo("NoAmmo")

Goto SingleFire
Hold:
FCAP D 0 A_JumpIfNoAmmo("NoAmmo")
FCAP D 3 A_GiveInventory("AdaraCharge",4)
FCAP D 0 A_JumpIfInventory("IsBot", 1, "BotCheck")
FCAP D 0 A_Refire
FCAP D 0 A_JumpIfInventory("AdaraCharge",28,"TwoFire")
goto SingleFire
TwoFire:
FCAP D 0 A_FireCustomMissile("FrozenCapella",8,0,8,0)
FCAP D 0 A_FireCustomMissile("FrozenCapella",-8,1,8,0)
goto ContinueFire
SingleFire:
FCAP D 0 A_FireCustomMissile("FrozenCapella",0,1,8,0)
ContinueFire:
FCAP D 0 A_PlaySoundEx("misc/trainwhistle","Weapon")
FCAP D 0 A_TakeInventory("AdaraCharge",28)
FCAP E 5
FCAP F 8
FCAP F 0 A_Refire
Goto Ready+1
BotCheck:
FCAP D 0 A_Jump(4, 1)
Goto Hold+2
FCAP D 0 
Goto Hold+3
NoAmmo:
FCAP D 1 
Goto Ready+1
}
}

actor FrozenCapellaAmmo : Ammo 
{
inventory.amount 1
inventory.maxamount 28
}

actor FrozenCapellaWepCS : FrozenCapellaWep
{
}



