actor FlareRocketLauncher : MegaBuster
{
Weapon.AmmoUse 3
Weapon.AmmoGive 28
Weapon.SlotNumber 2
Obituary "%o didn't take caution around %k's Flare Rocket."
weapon.ammotype "FlareRocketAmmo"
Inventory.Pickupmessage "Power Up! Fire Storm!"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
+WEAPON.EXPLOSIVE
+INVENTORY.UNDROPPABLE
inventory.icon "TNT1A0"
Scale 2.0
States
{
Spawn:
BLZB Z 0
BLZB Z 1
stop
Ready:
BLZC A 0 ACS_ExecuteAlways(998,0,3)
BLZC A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 A 0 A_SelectWeapon("BlazeThrower")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
goto ready+1
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HEAT G 1 A_Raise
Loop
Fire:
BLZC B 0 A_JumpIfInventory("IsBot", 1, "BotFire")
BLZC B 0 A_JumpIfNoAmmo("NoAmmo")
BLZC B 0 A_PlaySoundEx("weapon/magnetmissile","Weapon")
BLZC B 0 A_FireCustomMissile ("FlareRocket", 0, 1, 8, 0)
BLZC B 0 A_Recoil(5)
BLZC BC 3
BLZC A 35
BLZC A 0 A_Refire
Goto Ready+1
AltFire:
BLZB B 0 A_JumpIfNoAmmo("NoAmmo")
BLZB BC 2
BLZB D 0 A_PlaySoundEx("weapon/chargekick", "Weapon") 
BLZB D 0 A_FireCustomMissile("KnifeSlash",38,0,0,0)
BLZB DE 2
TNT1 A 10
BLZC A 10
Goto Ready+1

Botfire:
JCHN A 0 A_JumpIfCloser(300,"Altfire")
BLZA A 2 A_JumpIfCloser(600, "Deselect")
BLZC B 0 A_PlaySoundEx("weapon/magnetmissile","Weapon")
BLZC B 0 A_FireCustomMissile ("FlareRocket", 0, 0, 8, 0)
BLZC B 0 A_Recoil(5)
BLZC BC 3
BLZC A 35
BLZC A 0 A_Refire
Goto Ready+1

NoAmmo:
BLZC A 1 ACS_Execute(979,0)
Goto Ready+1
}
}

actor FlareRocketAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 28
}

actor FlareRocket
{
PROJECTILE
Radius 8
Height 8
scale 2.5
damagetype "FireSpin"
speed 40 
damage (0) 
States
{
Spawn:
BLZC DE 2 A_PlaySoundEX("weapon/magnetmissile", "Weapon")
loop
Death:
BLZC D 0 A_Stop  
BLZC D 0 A_PlaySoundEx("weapon/crackerexplode", "Weapon")
BLZC D 0 A_Explode(10, 128,0)
BLZB D 0 A_CustomMissile("FlareRocketJump")
NAPA EFGHIJKLMNOPQRS 1 Bright
stop
}
}

actor FlareRocketJump
{
PROJECTILE
Radius 0
Height 0
Scale 2.5
damagetype "Flare"
Speed 0
damage (0)
States
{
Spawn:
BLZC D 0
goto Death
Death:
BLZC D 0 A_Explode(25, 75, 1)
TNT1 A 1
stop
}
}


actor KnifeSlash
{
PROJECTILE 
Radius 30
Height 2 
scale 2.5 
damage (30) 
damagetype "Quick"
obituary "%o got cut up by %k's Knife Slash."
+DONTSPLASH
+DONTBLAST
+FORCEXYBILLBOARD 
speed 20
States
{
Spawn:
TNT1 A 2
stop
Death:
TNT1 A 1 A_PlaySoundEx("Weapon/TommyRicochet", "Weapon")
stop
}
}

actor FlareRocketBot : FlareRocketLauncher
{
States
{
Deselect:
TNT1 A 0 A_SelectWeapon("BlazeThrowerBot")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Fire:
BLZC B 0 A_JumpIfNoAmmo("NoAmmo")
BLZC B 0 A_Jump(128,"Altfire")
BLZC B 0 A_PlaySoundEx("weapon/magnetmissile","Weapon")
BLZC B 0 A_FireCustomMissile ("FlareRocket", 0, 1, 8, 0)
BLZC B 0 A_Recoil(5)
BLZC BC 3
BLZC A 35
Goto Ready+1
AltFire:
BLZB BC 2
BLZB D 0 A_PlaySoundEx("weapon/chargekick", "Weapon") 
BLZB D 0 A_FireCustomMissile("KnifeSlash",38,0,0,0)
BLZB DE 2
TNT1 A 10
BLZC A 10
Goto Ready+1
NoAmmo:
BLZB BC 2
BLZB D 0 A_PlaySoundEx("weapon/chargekick", "Weapon") 
BLZB D 0 A_FireCustomMissile("KnifeSlash",38,0,0,0)
BLZB DE 2
TNT1 A 10
BLZC A 10
Goto Ready+1
}
}