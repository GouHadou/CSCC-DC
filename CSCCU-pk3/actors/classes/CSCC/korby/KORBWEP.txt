actor FIR : Weapon
{
Weapon.AmmoUse 5
Weapon.AmmoGive 100
Weapon.SlotNumber 1
weapon.ammotype "MP"
Obituary "%o WAS SLAIN BY %k's FIRE."
Inventory.Pickupmessage "FIR TREE"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOAUTOAIM
+WEAPON.CHEATNOTWEAPON
+WEAPON.DONTBOB
+INVENTORY.UNDROPPABLE
inventory.icon "TNT1A0"
DropItem "CometWepGiver"
Scale 2.0
States
{
Spawn:
TNT1 A 0
stop
Ready:
KBHU A 0 ACS_ExecuteAlways(998,0,WCCS_KORBY) 
KBHU A 0 
KBHU A 0 A_JumpIfInventory("CD",1,"CD")
KBHU A 5 A_WeaponReady
TNT1 A 0 A_JumpIfInventory("MP",100,2)
TNT1 A 0 A_JumpIf(momx == 0 && momy == 0, "SecondCharge")
TNT1 A 0 A_GiveInventory("MP", 1)
TNT1 A 0 A_JumpIfInventory("IsBot", 1, "BotSwap")
Goto Ready+2
BotSwap:
//KBHU A 0 A_Jump(32, "AltFire") //Dealing with this later.  Bots are weird.
KBHU A 0 A_Jump(8, "ChooseFire", "ChooseIce", "ChooseLit")
Goto Ready+2
ChooseFire:
KBHU A 0 A_SelectWeapon("FIR")
Goto Ready+2
ChooseIce:
KBHU A 0 A_SelectWeapon("ICE")
Goto Ready+2
ChooseLit:
KBHU A 0 A_SelectWeapon("LIT")
Goto Ready+2
SecondCharge:
TNT1 A 0 A_GiveInventory("MP", 1)
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_GiveInventory("MP", 1)
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_GiveInventory("MP", 1)
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_SpawnItemEX("KManaBubbles",random(32,-32),random(32,-32),random(8,16),0,0,3,0)
TNT1 A 0 A_JumpIfInventory("MP",100,"ReadyFull")
KBHU A 1 A_WeaponReady
TNT1 A 0 A_JumpIf(momx == 0 && momy == 0, "SecondCharge")
Goto Ready+2
ReadyFull:
KBHU A 0
Goto Ready+3
CD:
KBHU Z 0 A_WeaponReady(WRF_NOPRIMARY)
KBHU Z 3 A_TakeInventory("CD",1)
KBHU Z 0 A_JumpIfInventory("CD", 1, "CD")

KBHU A 0 A_TakeInventory("KWeaponGet",999)

KBHU A 0 A_TakeInventory("TMFLAG",999)
goto Ready+2
WG:
KBHU Z 10
KBHU A 0 A_TakeInventory("TMFLAG",999)
goto Ready+2
Deselect:
TNT1 A 0 A_TakeInventory("WeaponCharge",999)
//TNT1 A 0 A_SelectWeapon("LIT")
TNT1 A 0 ACS_ExecuteAlways(CSACS_TAKEWEAPON, 0)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
KBHF A 1 A_Raise
Loop
Fire:
KBHU A 0 A_JumpIfNoAmmo("NoAmmo")
KBHU EF 1
goto Hold
Hold:
KBHF G 0 A_JumpIfNoAmmo("NoAmmo")
KBHF G 0 A_JumpIfInventory("WeaponCharge",1,"Hold2")
KBHF G 0 A_JumpIf(momx == 0 && momy == 0, "HoldD")
KBHF F 2 A_GiveInventory("WeaponCharge",1)
//KBHF G 0 ACS_ExecuteAlways(994,0)
KBHF G 0 A_Refire
Goto Fire1
HoldD:
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 0 A_GiveInventory("WeaponCharge",2)
//KBHF G 0 ACS_ExecuteAlways(994,0)
KBHF G 0 A_Refire
Goto Fire1
Hold2:
KBHF G 0 //A_StopSoundEx ("Weapon") 
KBHF G 0 
KBHF G 0 A_JumpIfInventory("WeaponCharge",11,"Hold3")
KBHF G 0 A_JumpIf(momx == 0 && momy == 0, "Hold2D")
KBHF FF 2
KBHF F 0 A_GiveInventory("WeaponCharge",1)
KBHF G 0 A_Refire
Goto Fire1
Hold2D:
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 0 A_GiveInventory("WeaponCharge",2)
KBHF G 0 A_Refire
Goto Fire1
Hold3:
KBHF G 0 //A_StopSoundEx ("Weapon") 
KBHF G 0 
KBHF G 0 A_JumpIfInventory("WeaponCharge",26,"BotCheck")
KBHF G 0 A_JumpIf(momx == 0 && momy == 0, "Hold3D")
KBHF FG 2
KBHF F 0 A_GiveInventory("WeaponCharge",1)
KBHF G 0 A_Refire
Goto Fire2
Hold3D:
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF G 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 1 A_SpawnItemEX("ChargeEffectFire")
KBHF G 1 A_SpawnItemEX("ChargeEffectFire")
KBHF F 0 A_GiveInventory("WeaponCharge",2)
KBHF G 0 A_Refire
Goto Fire2
BotCheck:
KBHF G 0 A_JumpIfInventory("IsBot", 1, "BotRelease")
Goto Hold4
BotRelease:
KBHF G 0 A_Jump(32, "Fire3")
Goto Hold4
Hold4:
KBHF F 0 A_StopSoundEx ("Weapon")
KBHF GH 2
KBHF J 0 
KBHF G 0 A_Refire
Goto Fire3
Fire1:
KBHF F 0 A_JumpIfNoAmmo("NoAmmo")
KBHF F 0 A_TakeInventory("WeaponCharge",999)
KBHF F 0 A_TakeInventory("MP",5)
KBHU D 0 A_PlaySoundEx("weapon/Firestorm","Weapon")
KBHF F 4 A_FireCustomMissile("FIR1",0,0,0,0)
KBHU FE 2
//KBHF A 0 A_GiveInventory("CD",1)
goto Ready+2
Fire2R:
KBHF F 0 A_TakeInventory("WeaponCharge",999)
KBHF F 0 A_TakeInventory("MP",15)
KBHU D 0 A_PlaySoundEx("weapon/Firestorm","Weapon")
KBHF F 0 A_FireCustomMissile("FIR2",0,0,0,0)
KBHU FE 2
//KBHF A 0 A_GiveInventory("CD",2)
goto Ready+2
Fire3R:
KBHF F 0 A_TakeInventory("WeaponCharge",999)
KBHF F 0 A_TakeInventory("MP",30)
KBHU D 0 A_PlaySoundEx("weapon/Firestorm","Weapon")
KBHF F 0 A_FireCustomMissile("FIR3",0,0,0,0)
KBHF F 8
KBHU FE 4
KBHF A 0 A_GiveInventory("CD",8)
goto Ready+2
Fire2:
KBHF F 0 A_JumpIfInventory("MP", 15, "Fire2R")
goto Fire1
Fire3:
KBHF F 0 A_JumpIfInventory("MP", 30, "Fire3R")
goto Fire2
AltFire:
KBHU A 0 A_JumpIfInventory("TMFLAG",1,"WG")
KBHU A 0 A_JumpIfInventory("LIMIF",1 , "LimitGlove")
KBHU BCD 2
KBHU D 0 A_JumpIfInventory("BADBF", 1, "BadBreath")
KBHU D 0 A_JumpIfInventory("FLASF", 1, "KFlash")
KBHU D 0 A_JumpIfInventory("FLAMF", 1, "Flamethrower")
KBHU D 0 A_JumpIfInventory("SELFF", 1, "SelfDestruct")
KBHU D 0 A_JumpIfInventory("THOUF", 1, "BLAMELEGO")
KBHU D 0 A_JumpIfInventory("WHITF", 1, "Whitewind")
KBHU D 0 A_JumpIfInventory("TIMEF",1, "TimeMagic")
KBHU D 0 A_JumpIfInventory("AQUAF", 1, "AquaBreath")
KBHU D 0 A_JumpIfInventory("BLASF", 1, "Blaster")
KBHU D 0 A_JumpIfInventory("MANTF", 1, "MatraMagic")
AltFireH:
KBHU D 1 A_SpawnItemEx("KorbyBMAbsorb1", 38, 0, 0, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
KBHU D 0 A_JumpIfInventory("BMFlag", 1, "BMAcquired")
KBHU D 1 A_Refire("AltFireH")
KBHU DCB 2
Goto Ready+2
BMAcquired:
KBHU DCB 3
KBHU BBBBBBBB 1 A_WeaponReady(WRF_NOSECONDARY)
Goto Ready+2

FLAMFGive:
KBHU D 0 A_GiveInventory("FLAMF",1)
goto AltFinish
THOUFGive:
KBHU D 0 A_GiveInventory("THOUF",1)
goto AltFinish
LIMIFGive:
KBHU D 0 A_GiveInventory("LIMIF",1)
goto AltFinish
MANTFGive:
KBHU D 0 A_GiveInventory("MANTF",1)
goto AltFinish
AQUAFGive:
KBHU D 0 A_GiveInventory("AQUAF",1)
goto AltFinish
TIMEFGive:
KBHU D 0 A_GiveInventory("TIMEF",1)
goto AltFinish
WHITFGive:
KBHU D 0 A_GiveInventory("WHITF",1)
goto AltFinish
FLASFGive:
KBHU D 0 A_GiveInventory("FLASF",1)
goto AltFinish
BLASFGive:
KBHU D 0 A_GiveInventory("BLASF",1)
goto AltFinish
SELFFGive:
KBHU D 0 A_GiveInventory("SELFF",1)
KBHU D 30
goto AltFinish
BADBFGive:
KBHU D 0 A_GiveInventory("BADBF",1)
goto AltFinish

KFlash:
KBHU D 0 A_JumpIfInventory("MP",7,"KFlashR")
KBHU D 2 
KBHU DCB 2
Goto NoAmmo
KFlashR:
KBHU D 0 A_TakeInventory("MP",7)
KBHU D 0 A_FireCustomMissile("KFLASH",0,0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/FlashStopper","Weapon")
KBHU D 20 A_SetBlend("99 99 99", 0.95, 10)
KBHU DCB 2
goto Ready+2
BadBreath:
KBHU D 0 A_JumpIfInventory("MP",8,"BadBreathR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
BadBreathR:
KBHU D 0 A_TakeInventory("MP",8)
KBHU D 0 A_PlaySoundEx("Weapon/BadBreath","Weapon")
KBHU D 2 A_FireCustomMissile("BadBreath",random(-20,20),0,0,0)
KBHU D 2 A_FireCustomMissile("BadBreath",random(-20,20),0,0,0)
KBHU D 2 A_FireCustomMissile("BadBreath",random(-20,20),0,0,0)
KBHU D 2 A_FireCustomMissile("BadBreath",random(-20,20),0,0,0)
KBHU D 2 A_FireCustomMissile("BadBreath",random(-20,20),0,0,0)
KBHU D 0
KBHU D 2
KBHU DCB 2
goto Ready+2
Flamethrower:
KBHU D 0 A_JumpIfInventory("MP",2,"FlamethrowerR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
FlameThrowerR:
KBHU D 0 A_TakeInventory("MP",2)
KBHU D 0 A_PlaySoundEx("weapon/AtomicFire","Weapon")
KBHU D 2 A_FireCustomMissile("FlameThrowerK",random(-10,10),0,0,0)
KBHU D 2 A_FireCustomMissile("FlameThrowerK",random(-10,10),0,0,0)
KBHU D 2 A_FireCustomMissile("FlameThrowerK",random(-10,10),0,0,0)
KBHU D 0 A_ReFire
KBHU D 2
KBHU DCB 2
Goto Ready+2
SelfDestruct:
KBHU D 0 A_SpawnItemEx("KorbySelfDestructFX")
KBHU D 0 A_SpawnItemEX("KSD")
goto Ready+2
BLAMELEGO:
KBHU D 0 A_GiveInventory("NeedleFlag",1000)
KBHU D 0 A_JumpIfInventory("MP",25,"ThousandNeedles")
KBHU D 0 A_TakeInventory("NeedleFlag",1000)
KBHU D 2
KBHU DCB 2
goto NoAmmo
ThousandNeedles:
KBHU D 0 A_TakeInventory("MP",25)
ThousandNeedles2:
KBHU D 0 A_TakeInventory("NeedleFlag",4)
KBHU D 0 A_PlaySoundEx("Korby/Needle","Weapon")
KBHU D 1 A_FireCustomMissile("KNeedle",0,0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("KNeedle",Random(-4, 0),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("KNeedle",Random(0, 4),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("KNeedle",Random(-3, 3),0,random(0,16),random(-8,8),0,Random(-2, 2))
KBHU D 0 A_JumpIfInventory("NeedleFlag",1,"ThousandNeedles2")
KBHU D 2
KBHU DCB 2
goto Ready+2
WhiteWind:
KBHU D 0 A_JumpIfHealthLower(100,"WhiteWindZ")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
WhiteWindz:
KBHU D 0 A_JumpIfInventory("MP",1,"WhiteWindR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
WhiteWindR:
KBHU D 0 A_PlaySoundEx("weapon/GyroAttack","Weapon")
KBHU D 0 A_TakeInventory("MP",1)
KBHU D 0 A_SpawnItemEX("KWhiteWindFX",random(32,-32),random(32,-32),random(8,32),0,0,3,0)
KBHU D 1 A_GiveInventory("Health",2)
KBHU D 0 A_ReFire
KBHU D 2
KBHU DCB 2
Goto Ready+2
TimeMagic:
KBHU D 0 A_JumpIfInventory("MP",16,"TimeMagicR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
TimeMagicR:
KBHU D 0 A_TakeInventory("MP",16)
KBHU D 0 A_PlaySoundEx("weapon/Slow","Weapon")
KBHU D 0 A_FireCustomMissile("Slowga",0,0,0,0)
KBHU D 0 A_GiveInventory("HasteITEM",1)
KBHU D 10
KBHU DCB 2
goto Ready+2
AquaBreath:
KBHU D 0 A_JumpIfInventory("MP",4,"AquaBreathR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
AquaBreathR:
KBHU D 0 A_TakeInventory("MP",4)
KBHU D 0 A_PlaySoundEx("weapon/RainFlush","Weapon")
KBHU D 2 A_FireCustomMissile("AquaBreath",random(-12,12),0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/RainFlush","Weapon")
KBHU D 2 A_FireCustomMissile("AquaBreath",random(-12,12),0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/RainFlush","Weapon")
KBHU D 2 A_FireCustomMissile("AquaBreath",random(-12,12),0,0,0)
KBHU D 0 A_ReFire
KBHU D 2
KBHU DCB 2
Goto Ready+2
Blaster:
KBHU D 0 A_JumpIfInventory("MP",15,"BlasterR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
BlasterR:
KBHU D 0 A_TakeInventory("MP",15)
KBHU D 0 A_PlaySoundEx("Weapon/GravityHold","Weapon")
KBHU D 2 A_FireCustomMissile("KBlaster",0,0,0,0)
KBHU D 5
KBHU DCB 2
goto Ready+2
MatraMagic:
KBHU D 0 A_JumpIfInventory("MP",10,"MatraMagicR")
KBHU D 2
KBHU DCB 2
Goto NoAmmo
MatraMagicR:
KBHU D 0 A_TakeInventory("MP",10)
KBHU D 0 A_PlaySoundEx("Weapon/GravityHold","Weapon")
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 0 A_FireCustomMissile("MatraMagic",random(-16,16),0,random(0,16),random(-8,8),0,0)
KBHU D 35
KBHU DCB 2
goto Ready+2
LimitGlove:
KBHU D 0 A_JumpIfInventory("MP",5,"LimitGloveR")
KBHU D 0 
Goto NoAmmo
LimitGloveR:
KBHU D 0 A_JumpIfHealthLower(25, "LimitGloveP")
KBHU D 0 A_TakeInventory("MP",5)
KBHU D 0 A_PlaySoundEx("misc/wilylightning","Weapon")
KBHU D 0 A_SpawnItemEx ("LimitGlove",cos(-pitch)*56,0,32+(sin(-pitch)*48), momx, momy, 0,0,SXF_ABSOLUTEMOMENTUM,0)
KBHU B 10
KBHU A 2 
goto Ready+2
LimitGloveP:
KBHU D 0 A_TakeInventory("MP",5)
KBHU D 0 A_PlaySoundEx("misc/wilylightning","Weapon")
KBHU D 0 A_SpawnItemEx ("LimitGlove2",cos(-pitch)*56,0,32+(sin(-pitch)*48), momx, momy, 0,0,SXF_ABSOLUTEMOMENTUM,0)
KBHU B 10
KBHU A 2
goto Ready+2

NoAmmo:
KBHU A 1 ACS_Execute(979,0)
KBHU A 0 A_JumpIfInventory("IsBot", 1, "BotAmmo")
KBHU A 0 A_JumpIfInventory("BMFlag", 1, 1)
Goto Ready+2
KBHU A 0
Goto NoAmmo2
NoAmmo2:
KBHU A 1 
KBHU A 1 A_Refire("NoAmmo2")
Goto Ready+2
BotAmmo:
KBHU Z 0 SetPlayerProperty(0, 1, 4)
KBHU Z 10 A_GiveInventory("MP", 50)
KBHU Z 0 SetPlayerProperty(0, 0, 4)
Goto Ready+2

}
}

actor LIT : FIR
{
Weapon.SlotNumber 2
Obituary "%o WAS SLAIN BY %k's LIT."
Inventory.Pickupmessage "LITLITLITLITLITLITLITLITLIT"
States
{
Deselect:
TNT1 A 0 A_TakeInventory("WeaponCharge",999)
//TNT1 A 0 A_SelectWeapon("ICE")
TNT1 A 0 ACS_ExecuteAlways(CSACS_TAKEWEAPON, 0)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
KBHF A 1 A_Raise
Loop
Fire:
KBHL A 0 A_JumpIfNoAmmo("NoAmmo")
KBHU EF 1
goto Hold
Hold:
KBHL G 0 A_JumpIfNoAmmo("NoAmmo")
KBHL G 0 A_JumpIfInventory("WeaponCharge",1,"Hold2")
KBHL G 0 A_JumpIf(momx == 0 && momy == 0, "HoldD")
KBHL F 2 A_GiveInventory("WeaponCharge",1)
//KBHL G 0 ACS_ExecuteAlways(994,0)
KBHL G 0 A_Refire
Goto Fire1
HoldD:
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 0 A_GiveInventory("WeaponCharge",2)
//KBHL G 0 ACS_ExecuteAlways(994,0)
KBHL G 0 A_Refire
Goto Fire1
Hold2:
KBHL G 0 //A_StopSoundEx ("Weapon") 
KBHL G 0 
KBHL G 0 A_JumpIfInventory("WeaponCharge",11,"Hold3")
KBHL G 0 A_JumpIf(momx == 0 && momy == 0, "Hold2D")
KBHL FF 2
KBHL F 0 A_GiveInventory("WeaponCharge",1)
KBHL G 0 A_Refire
Goto Fire1
Hold2D:
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 0 A_GiveInventory("WeaponCharge",2)
KBHL G 0 A_Refire
Goto Fire1
Hold3:
KBHL G 0 //A_StopSoundEx ("Weapon") 
KBHL G 0 
KBHL G 0 A_JumpIfInventory("WeaponCharge",26,"BotCheck")
KBHL G 0 A_JumpIf(momx == 0 && momy == 0, "Hold3D")
KBHL FG 2
KBHL F 0 A_GiveInventory("WeaponCharge",1)
KBHL G 0 A_Refire
Goto Fire2
Hold3D:
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL G 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 1 A_SpawnItemEX("ChargeEffectLit")
KBHL G 1 A_SpawnItemEX("ChargeEffectLit")
KBHL F 0 A_GiveInventory("WeaponCharge",2)
KBHL G 0 A_Refire
Goto Fire2
BotCheck:
KBHF G 0 A_JumpIfInventory("IsBot", 1, "BotRelease")
Goto Hold4
BotRelease:
KBHF G 0 A_Jump(32, "Fire3")
Goto Hold4
Hold4:
KBHL F 0 A_StopSoundEx ("Weapon")
KBHL GH 2
KBHL J 0 
KBHL G 0 A_Refire
Goto Fire3
Fire1:
KBHF F 0 A_JumpIfNoAmmo("NoAmmo")
KBHL F 0 A_TakeInventory("WeaponCharge",999)
KBHL F 0 A_TakeInventory("MP",5)
KBHU D 0 A_PlaySoundEx("misc/wilylightning","Weapon")
KBHL F 4 A_FireCustomMissile("LIT1T",0,0,0,0)
KBHU FE 2
//KBHL A 0 A_GiveInventory("CD",1)
goto Ready+2
Fire2:
KBHF F 0 A_JumpIfInventory("MP", 15, "Fire2R")
goto Fire1
Fire2R:
KBHL F 0 A_TakeInventory("WeaponCharge",999)
KBHL F 0 A_TakeInventory("MP",15)
KBHL F 0 A_FireCustomMissile("LIT2T",0,0,0,0)
KBHU D 0 A_PlaySoundEx("misc/wilylightning","Weapon")
KBHU FE 2
//KBHL A 0 A_GiveInventory("CD",2)
goto Ready+2
Fire3:
KBHF F 0 A_JumpIfInventory("MP", 30, "Fire3R")
goto Fire2
Fire3R:
KBHL F 0 A_TakeInventory("WeaponCharge",999)
KBHL F 0 A_TakeInventory("MP",30)
KBHL F 0 A_FireCustomMissile("LIT3T",0,0,0,0)
KBHU D 0 A_PlaySoundEx("misc/wilylightning","Weapon")
KBHL F 8
KBHU FE 4
KBHL A 0 A_GiveInventory("CD",8)
goto Ready+2
}
}

actor ICE : FIR
{
Weapon.AmmoUse 8
Weapon.SlotNumber 3
Obituary "%o WAS SLAIN BY %k's ICE."
Inventory.Pickupmessage "INTERNAL COMBUSTION ENGINE"
States
{
Deselect:
TNT1 A 0 A_TakeInventory("WeaponCharge",999)
//TNT1 A 0 A_SelectWeapon("FIR")
TNT1 A 0 ACS_ExecuteAlways(CSACS_TAKEWEAPON, 0)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
KBHF A 1 A_Raise
Loop
Fire:
KBHI A 0 A_JumpIfNoAmmo("NoAmmo")
KBHU EF 1
goto Hold
Hold:
KBHI G 0 A_JumpIfNoAmmo("NoAmmo")
KBHI G 0 A_JumpIfInventory("WeaponCharge",1,"Hold2")
KBHI G 0 A_JumpIf(momx == 0 && momy == 0, "HoldD")
KBHI F 2 A_GiveInventory("WeaponCharge",1)
//KBHI G 0 ACS_ExecuteAlways(994,0)
KBHI G 0 A_Refire
Goto Fire1
HoldD:
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 0 A_GiveInventory("WeaponCharge",2)
//KBHI G 0 ACS_ExecuteAlways(994,0)
KBHI G 0 A_Refire
Goto Fire1
Hold2:
KBHI G 0 //A_StopSoundEx ("Weapon") 
KBHI G 0 
KBHI G 0 A_JumpIfInventory("WeaponCharge",10,"Hold3")
KBHI G 0 A_JumpIf(momx == 0 && momy == 0, "Hold2D")
KBHI FF 2
KBHI F 0 A_GiveInventory("WeaponCharge",1)
KBHI G 0 A_Refire
Goto Fire1
Hold2D:
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 0 A_GiveInventory("WeaponCharge",2)
KBHI G 0 A_Refire
Goto Fire1
Hold3:
KBHI G 0 //A_StopSoundEx ("Weapon") 
KBHI G 0 
KBHI G 0 A_JumpIfInventory("WeaponCharge",26,"BotCheck")
KBHI G 0 A_JumpIf(momx == 0 && momy == 0, "Hold3D")
KBHI FG 2
KBHI F 0 A_GiveInventory("WeaponCharge",1)
KBHI G 0 A_Refire
Goto Fire2
Hold3D:
//KBHI FGFGFG 2
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 1 A_SpawnItemEX("ChargeEffectIce")
KBHI G 1 A_SpawnItemEX("ChargeEffectIce")
KBHI G 1 A_SpawnItemEX("ChargeEffectIce")
KBHI F 0 A_GiveInventory("WeaponCharge",2)
KBHI G 0 A_Refire
Goto Fire2
BotCheck:
KBHF G 0 A_JumpIfInventory("IsBot", 1, "BotRelease")
Goto Hold4
BotRelease:
KBHF G 0 A_Jump(32, "Fire3")
Goto Hold4
Hold4:
KBHI F 0 A_StopSoundEx ("Weapon")
KBHI GH 2
KBHI J 0 
KBHI G 0 A_Refire
Goto Fire3
Fire1:
KBHF F 0 A_JumpIfNoAmmo("NoAmmo")
KBHI F 0 A_TakeInventory("WeaponCharge",999)
KBHI F 0 A_TakeInventory("MP",8)
KBHI F 4 A_FireCustomMissile("ICE1",0,0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/mbuster","Weapon")
KBHU FE 2
//KBHI A 0 A_GiveInventory("CD",1)
goto Ready+2
Fire2:
KBHF F 0 A_JumpIfInventory("MP", 18, "Fire2R")
goto Fire1
Fire2R:
KBHI F 0 A_TakeInventory("WeaponCharge",999)
KBHI F 0 A_TakeInventory("MP",18)
KBHI F 0 A_FireCustomMissile("ICE2",0,0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/mbuster","Weapon")
KBHU FE 2
//KBHI A 0 A_GiveInventory("CD",2)
goto Ready+2
Fire3:
KBHF F 0 A_JumpIfInventory("MP", 40, "Fire3R")
goto Fire2
Fire3R:
KBHI F 0 A_TakeInventory("WeaponCharge",999)
KBHI F 0 A_TakeInventory("MP",40)
KBHI F 0 A_FireCustomMissile("ICE3",0,0,0,0)
KBHU D 0 A_PlaySoundEx("weapon/mbuster","Weapon")
KBHI F 8
KBHU FE 4
KBHI A 0 A_GiveInventory("CD",8)
goto Ready+2
}
}

actor MP : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 100
}

actor CD : Inventory
{
inventory.amount 1
inventory.maxamount 4
}

actor KWeaponGet : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor NeedleFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1000
}


actor FIR1
{
Obituary "%o WAS SLAIN BY %k's FIR."
PROJECTILE
+RIPPER
damagetype "KFIR"
Radius 16
Height 16
scale 2.5
damage (9)
-NOGRAVITY
+DONTBLAST
speed 30
States
{
Spawn:
NAPA A 0
NAPA A 0 ThrustThingZ(0, 30, 0, 1)
KFIB ABAB 1
Goto Spawn+2
Death:
NAPA A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_ChangeFlag(NOGRAVITY,1)
TNT1 A 1 A_Explode(5, 128, 0)
TNT1 A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
NAPA EFGHIJKLMNOPQRS 2
stop
}
}

actor FIR2 : FIR1
{
Obituary "%o WAS SLAIN BY %k's FIR2."
Radius 32
Height 32
damage (20)
+CANBOUNCEWATER
+BOUNCEONACTORS
+HEXENBOUNCE
bouncefactor 1.0
wallbouncefactor 1.0
bouncecount 6
scale 2.5
States
{
Spawn:
NAPA A 0
NAPA A 0 ThrustThingZ(0, 30, 0, 1)
KFIB CDCDCDCD 1 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_SpawnItemEX("FIR2TRAIL",0,0,0,0,0,0)
Goto Spawn+2
Death:
NAPA A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_ChangeFlag(NOGRAVITY,1)
TNT1 A 1 A_Explode(10, 128, 0)
TNT1 A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
NAPA EFGHIJKLMNOPQRS 2
stop
}
}

/*actor FIR2 : FIR1
{
Obituary "%o WAS SLAIN BY %k's FIR2."
Radius 16
Damage (9)
States
{
Spawn:
KFIR ABCB 3 
loop
}
}*/

actor FIR3 : FIR2
{
Obituary "%o WAS SLAIN BY %k's FIR3."
Radius 50
Height 50
Damage (10)
bouncecount 10
speed 20
scale 2.5
States
{
Spawn:
NAPA A 0
NAPA A 0 ThrustThingZ(0, 30, 0, 1)
KFIB EFEFEF 1 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_SpawnItemEX("FIR3TRAIL",0,0,0,0,0,0)
Goto Spawn+2
}
}

actor FIR2TRAIL : FIR2
{
-NOGRAVITY
-RIPPER
-HEXENBOUNCE
speed 0
renderstyle add
damage (10)
States
{
Spawn:
KFIB C 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
KFIB CD 1 A_FadeOut(0.02)
loop
Death:
NAPA A 0 A_SetTranslucent(1.0)
NAPA A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_ChangeFlag(NOGRAVITY,1)
TNT1 A 1 A_Explode(10, 128, 0)
TNT1 A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
NAPA EFGHIJKLMNOPQRS 2
stop
}
}

actor FIR3TRAIL : FIR3
{
-NOGRAVITY
-RIPPER
-HEXENBOUNCE
speed 0
renderstyle add
damage (10)
States
{
Spawn:
NAPA A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
KFIB EF 1 A_FadeOut(0.02)
loop
Death:
NAPA A 0 A_SetTranslucent(1.0)
NAPA A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
NAPA A 0 A_ChangeFlag(NOGRAVITY,1)
TNT1 A 1 A_Explode(10, 128, 0)
TNT1 A 0 A_PlaySoundEx("weapon/napalm", "Weapon")
NAPA EFGHIJKLMNOPQRS 2
stop
}
}

actor LIT1T : FastProjectile
{
Obituary "%o WAS SLAIN BY %k'S LIT1."
damagetype "KLIGHT"
+PIERCEARMOR
-SOLID
PROJECTILE
-FORCEXYBILLBOARD
+FORCEYBILLBOARD
Damage (0)
Height 1
Radius 1
Scale 2.5
speed 65
reactiontime 100
States
{
Spawn:
KLIT HG 2 A_Countdown
loop
Crash:
TNT1 A 0 A_SpawnItemEx("Lit1FX")
TNT1 A 1 A_Explode(20,48,0,0,24)
stop
Death:
WWAB A 0 A_SpawnItemEx("LIT1FXX")
stop
}
}

actor LIT2T : LIT1T
{
Obituary "%o WAS SLAIN BY %k'S LIT2."
speed 90
+PIERCEARMOR
States
{
Crash:
TNT1 A 1 A_Explode(40,96,0,0,48)
TNT1 A 0 A_SpawnItemEx("Lit2FX")
stop
Death:
WWAB A 0 A_SpawnItemEx("Lit2FXX")
stop
}
}

actor LIT3T : LIT1T
{
Obituary "%o WAS SLAIN BY %k'S LIT3."
+PIERCEARMOR
speed 110
States
{
Crash:
TNT1 A 0
TNT1 A 1 A_Explode(60,256,0,0,128)
TNT1 A 0 A_SpawnItemEX("LIT3FX")
TNT1 A 0 A_SpawnItemEX("LIT2FXX",192,0,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",-192,0,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",128,128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",128,-128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",-128,128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",-128,-128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",0,192,-5,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",0,-192,-5,0,0,0,0)
stop
Death:
WWAB A 0 A_SpawnItemEx("Lit3FXX")
TNT1 A 0 A_SpawnItemEX("LIT2FXX",192,0,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",-192,0,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",128,128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",128,-128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",-128,128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT1FXX",-128,-128,0,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",0,192,-5,0,0,0,0)
TNT1 A 0 A_SpawnItemEX("LIT2FXX",0,-192,-5,0,0,0,0)
stop
}
}

actor LIT1FX 
{
Obituary "%o WAS SLAIN BY %k'S LIT1."
+FORCEYBILLBOARD
PROJECTILE
Radius 1
Height 1
+NOCLIP
+NOINTERACTION
Speed 0
Scale 2.5
States
{
Spawn:
KLIT AB 2
KLIT AB 2
KLIT AB 2
KLIT AB 2
stop
Death:
TNT1 A 0
stop
}
}

actor LIT1FXX : LIT1FX
{
+DONTBLAST
Obituary "%o WAS SLAIN BY %k'S LIT1."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(20,32,0,0,16)
KLIT ABABABAB 2
stop
}
}

actor LIT2FXX : LIT1FXX
{
Obituary "%o WAS SLAIN BY %k'S LIT2."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(40,64,0,0,32)
KLIT CDCDCDCD 2
stop
}
}

actor LIT3FXX : LIT1FXX
{
Obituary "%o WAS SLAIN BY %k'S LIT3."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(60,128,0,0,64)
KLIT EFEFEFEF 2
stop
}
}

actor LIT2FX : LIT1FX
{
Obituary "%o WAS SLAIN BY %k'S LIT2."
States
{
Spawn:
KLIT CD 2
KLIT CD 2
KLIT CD 2
KLIT CD 2
stop
}
}

actor LIT3FX : LIT1FX
{
Obituary "%o WAS SLAIN BY %k'S LIT3."
States
{
Spawn:
KLIT EF 2
KLIT EF 2
KLIT EF 2
KLIT EF 2
stop
}
}

actor ICE1
{
PROJECTILE
+RIPPER
+DONTBLAST
+DONTSPLASH
+HEXENBOUNCE
+CANBOUNCEWATER
damagetype "KICE"
RenderStyle "Translucent"
Alpha 0.9
+FORCEXYBILLBOARD
//bouncefactor 0.9
//wallbouncefactor 0.9
bouncecount 9999
Radius 32
Height 32
scale 2.5
damage (1)
speed 40
States
{
Spawn:
KBLI B 10
KBLI B 0 A_Stop
KBLI B 3
goto Death
Death:
MMFX B 0 A_SpawnItemEx("ICE1SPAWNER")
//MMFX BCDE 2
stop
}
}

actor ICE2 : ICE1
{
States
{
Spawn:
KBLI C 10
KBLI C 0 A_Stop
KBLI C 3
goto Death
Death:
MMFX B 0 A_SpawnItemEx("ICE2SPAWNER")
//MMFX BCDE 2
stop
}
}

actor ICE3 : ICE1
{
States
{
Spawn:
KBLI D 10
KBLI D 0 A_Stop
KBLI D 3
goto Death
Death:
MMFX B 0 A_SpawnItemEx("ICE3SPAWNER")
//MMFX BCDE 2
stop
}
}

actor ICE1SPAWNER : ICE1
{
-BOUNCEONACTORS
-DONTBLAST
+RIPPER
+THRUGHOST
damage (1)
obituary "%o WAS SLAIN BY %k'S ICE."
reactiontime 2
States
{
Spawn:
/*KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,0)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,30)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,60)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,90)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,120)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,150)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-30)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-60)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-90)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-120)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-150)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,180)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")*/
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,0)
KBLI B 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,30)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,60)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,90)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,120)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,150)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-30)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-60)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-90)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-120)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-150)
KBLI B 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,180)
KBLI B 12
KBLI B 0 A_Countdown
loop
Death:
MMFX BCDE 2
stop
}
}

actor ICE2SPAWNER : ICE1
{
-BOUNCEONACTORS
+RIPPER
+THRUGHOST
-DONTBLAST
damage (1)
obituary "%o WAS SLAIN BY %k'S ICE2."
reactiontime 4
States
{
Spawn:
/*KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,0)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,30)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,60)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,90)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,120)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,150)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-30)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-60)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-90)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-120)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-150)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 1 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,180)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")*/
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,0)
KBLI C 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,30)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,60)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,90)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,120)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,150)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-30)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-60)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-90)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-120)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,-150)
KBLI C 0 A_SpawnItemEx("ICE1FLAKE", 46,0,0,0,0,0,180)
KBLI C 12
KBLI C 0 A_Countdown
loop
Death:
MMFX BCDE 2
stop
}
}

actor ICE3SPAWNER : ICE1
{
-BOUNCEONACTORS
+RIPPER
+THRUGHOST
-DONTBLAST
damage (1)
obituary "%o WAS SLAIN BY %k'S ICE3."
reactiontime 6
States
{
Spawn:
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,0)
KBLI D 0 A_PlaySoundEx("weapon/freezecracker","Weapon")
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,30)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,60)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,90)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,120)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,150)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,-30)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,-60)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,-90)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,-120)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,-150)
KBLI D 0 A_SpawnItemEx("ICE3FLAKE", 46,0,0,0,0,0,180)
KBLI D 12
KBLI D 0 A_Countdown
loop
Death:
MMFX BCDE 2
stop
}
}

actor ICE1FLAKE
{
PROJECTILE
-HEXENBOUNCE
RenderStyle "Translucent"
Alpha 0.9
bouncecount 5
damagetype "KICE"
obituary "%o WAS SLAIN BY %k'S ICE."
radius 16
height 16
damage (6)
speed 0
scale 2.0
States
{
Spawn:
KBLI A 0 
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-36.0)
KBLI A 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-36.0)
KBLI A 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 3 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 4 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 5 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 6 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 7 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)/*
KBLI A 9 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)/*
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 11 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI A 0 A_Setangle(angle-18.0)
KBLI A 12 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)*/
stop
Death:
KBLI A 0
stop
}
}

actor ICE3FLAKE
{
PROJECTILE
+HEXENBOUNCE
-BOUNCEONACTORS
RenderStyle "Translucent"
Alpha 0.9
bouncecount 5
damagetype "KICE"
obituary "%o WAS SLAIN BY %k'S ICE3."
radius 16
speed 0
height 16
damage (8)
scale 2.0
States
{
Spawn:
KBLI B 0 
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-36.0)
KBLI B 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-36.0)
KBLI B 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 1 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 2 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 3 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 4 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 5 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 6 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 7 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)/*
KBLI B 9 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)/*
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 11 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)
KBLI B 0 A_Setangle(angle-18.0)
KBLI B 12 A_ChangeVelocity(30,0,0,CVF_RELATIVE|CVF_REPLACE)*/
stop
Death:
KBLI B 0
stop
}
}

/*
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE BEGIN BLUE MAGIC CODE
*/

actor BadBreath
{
PROJECTILE
+FORCEXYBILLBOARD
+RIPPER
damagetype "BadBreath"
Obituary "%o WAS SLAIN %k's BAD BREATH."
Radius 16
Height 16
scale 2.5
damage (2)
speed 20
States
{
Spawn:
KBAD AB 3
goto Spawn2
Spawn2:
KBAD CDCDCDCDCD 3
stop
Death:
KBAD B 0
stop
}
}

actor KFLASH : FlashStopper
{
damagetype "KFLASH"
Obituary "%o WAS HUMILIATED BY %k's FLASH."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(10, 900,0)
stop
}
}

actor FlamethrowerK : BadBreath
{
damagetype "KFlamethrower"
Obituary "%o WAS SLAIN BY %k's FLAMETHROWER."
speed 25
Radius 8
Height 8
damage (2)
+DONTBLAST
States
{
Spawn:
KFLA BCBCBC 3
stop
Death:
KFLA B 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
stop
}
}

actor KSD
{
Obituary "%o WAS SLAIN BY %k's SELF-DESTRUCT."
damagetype "KSD"
speed 0
damage 0
+DONTBLAST
States
{
Spawn:
TNT1 A 1
TNT1 A 0 A_Explode(255,255,1)
stop
}
}

actor KNeedle
{
PROJECTILE
+FORCEXYBILLBOARD
Obituary "%o WAS SLAIN BY %k's THOUSAND NEEDLES."
damagetype "ThousandNeedle"
Radius 8
Height 2
scale 2.5
damage (3)
speed 40
States
{
Spawn:
KNEE A 3
loop
Death:
KBAD B 0
stop
}
}

actor KNeedleProtect : PowerProtection
{
Powerup.Duration 3
Damagefactor "ThousandNeedle", 0.0
}

actor Slowga
{
Obituary "%o WAS SLAIN BY BY %k's SLOWGA."
-SOLID
+NOGRAVITY
+DONTBLAST
PROJECTILE
damage 0
radius 1
height 1
damagetype "KSlow"
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(10, 500,0)
stop
}
}

actor Totallynotcopypaste : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 1
loop
Pickup:
TNT1 A 0
TNT1 A 0 A_GiveInventory("SlowgaITEM",1)
stop
}
}

actor SlowgaITEM : PowerupGiver
{
Speed 0.5
powerup.duration 200
powerup.type "PowahSlow"
+INVENTORY.AUTOACTIVATE
+INVENTORY.ALWAYSPICKUP
states
{
Pickup:
TNT1 A 0 

TNT1 A 175
stop
}
}

actor HasteITEM : PowerupGiver
{
Speed 1.1
powerup.duration 350
powerup.type "PowahSpeed"
+INVENTORY.AUTOACTIVATE
+INVENTORY.ALWAYSPICKUP
states
{
Pickup:
TNT1 A 0 

TNT1 A 175
stop
}
}

actor PowerPowahSlow : PowerSpeed
{
Speed 0.5
Powerup.Color "00 127 38", 0.4
}

actor PowerPowahSpeed : PowerSpeed
{
Speed 1.5
Powerup.Color "00 255 0", 0.4
}

actor AquaBreath : FlamethrowerK
{
-RIPPER
damagetype "KAquaBreath"
Obituary "%o WAS SLAIN BY %k's AQUA BREATH."
speed 25
damage (7)
States
{
Spawn:
AQBR A 2
AQBB A 2
AQBB A 0 ThrustThingZ(0,10,0,1)
AQBR B 2
AQBB B 2
AQBB A 0 ThrustThingZ(0,10,0,1)
AQBR B 2
AQBB B 2
AQBB A 0 ThrustThingZ(0,10,0,1)
AQBR C 2
AQBB C 2
AQBB A 0 ThrustThingZ(0,10,0,1)
AQBR C 2
AQBB C 2
stop
Death:
KFLA B 0
stop
}
}

actor KBlaster
{
PROJECTILE
+FORCEXYBILLBOARD
+RIPPER
Obituary "%o WAS SLAIN BY %k's BLASTER."
damagetype "KBlaster"
Radius 16
Height 16
scale 2.5
damage (10)
speed 30
States
{
Spawn:
KBUS AA 1 A_SpawnItemEx("KBlasterHorse", 0, 0, 0, momx/30, momy/30, momz/30, 0, SXF_ABSOLUTEMOMENTUM)
loop
Death:
KBAD A 0 
stop
}
}

actor KBlasterHorse : KBlaster
{
+DONTBLAST
-RIPPER
scale 2.5
States
{
Spawn:
KBUS A 1
KBUS A 34 A_Stop
Goto Death
Death:
KBUS A 1 A_Fadeout
wait
}
}

actor BlasterFX : KBlasterHorse
{
damage (0)
}

actor MatraMagic : DiveMissile
{
damagetype "KMatraMagic"
obituary "%o WAS SLAIN BY %k's MATRA MAGIC."
damage (8)
ReactionTime 175
States
{
Spawn:
TNT1 A 1 
MMFX D 2 A_SeekerMissile (2, 10, SMF_LOOK, 50, 10)
MMFX D 0 A_CountDown
Goto Spawn+1
Death:
stop
}
}

actor LimitGlove
{
PROJECTILE
+FORCEXYBILLBOARD
+DONTBLAST
Obituary "%o WAS SLAIN BY %k's LIMIT GLOVE."
damagetype "KLimitGlove"
Radius 40
Height 40
scale 2.5
damage (35)
speed 0
States
{
Spawn:
HARD D 5
stop
}
}

actor LimitGlove2 : LimitGlove
{
damage (70)
Scale 4.0
States
{
Spawn:
HARD D 5
stop
}
}

actor ChargeEffectFire : BlasterFX
{
+DONTBLAST
+NOINTERACTION
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEX("KFireFX",32,0,0,2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",-32,0,0,-2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",0,32,0,0,2,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",0,-32,0,0,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",16,16,0,2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",-16,16,0,-2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",16,-16,0,2,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KFireFX",-16,-16,0,-2,-2,7,0)
stop
}
}

actor ChargeEffectIce : ChargeEffectFire
{
+NOINTERACTION
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEX("KIceFX",32,0,0,2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",-32,0,0,-2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",0,32,0,0,2,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",0,-32,0,0,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",16,16,0,2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",-16,16,0,-2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",16,-16,0,2,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KIceFX",-16,-16,0,-2,-2,7,0)
stop
}
}

actor ChargeEffectLit : ChargeEffectFire
{
+NOINTERACTION
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEX("KLitFX",32,0,0,2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",-32,0,0,-2,0,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",0,32,0,0,2,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",0,-32,0,0,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",16,16,0,2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",-16,16,0,-2,2,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",16,-16,0,2,-2,7,0)
TNT1 A 0 A_SpawnItemEX("KLitFX",-16,-16,0,-2,-2,7,0)
stop
}
}

actor KFireFX : BlasterFX
{
+NOINTERACTION
+DONTBLAST
RenderStyle "Add"
scale 2.0
States
{
Spawn:
KFFX ABABA 1 A_FadeOut
stop
}
}

actor KIceFX : KFireFX
{
RenderStyle "Add"
+NOINTERACTION
scale 2.0
States
{
Spawn:
KIFX ABABA 1 A_FadeOut
stop
}
}

actor KLitFX : KFireFX
{
+NOINTERACTION
RenderStyle "Add"
scale 2.0
States
{
Spawn:
KLFX ABABA 1 A_FadeOut
stop
}
}

actor KManaBubbles : BlasterFX
{
+DONTBLAST
scale 1.5
States
{
Spawn:
KMFX ABBC 2
stop
}
}

actor KWhiteWindFX : BlasterFX
{
+DONTBLAST
scale 1.5
States
{
Spawn:
KWFX AABBC 1
stop
}
}

actor KorbArmor : BasicArmorPickup
{
Armor.Savepercent 90
Armor.Saveamount 100
States
{
Spawn:
PLAY A 1
loop
}
}

actor BaseCopy : Inventory
{
+Inventory.IgnoreSkill
inventory.amount 1
inventory.maxamount 1
+Inventory.AutoActivate
}

actor KorbyLit : BaseCopy
{
}
actor KorbyIce : BaseCopy
{
}

actor KorbySelfDestructFX
{
Scale 13.0
+NOGRAVITY
+NOINTERACTION
+DONTBLAST
States
{
Spawn:
NAPA EFGHIJKLMNOPQRS 1
stop
}
}

actor BreathCounter : Ammo
{
+INVENTORY.AUTOACTIVATE
inventory.amount 1
inventory.maxamount 175
}

actor BreathSoak : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.AUTOACTIVATE
states
{
Spawn:
TNT1 A 1
loop
Use:
TNT1 A 1 A_SpawnItemEx("BreathControl")
stop
Death:
TNT1 A 0
stop
}
}


actor BreathControl
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 1 A_GiveToTarget("BreathDropSpawner")
TNT1 A 0 A_TakeFromTarget("BreathCounter", 1)
TNT1 A 1
TNT1 A 0 A_TakeFromTarget("BreathCounter", 1)
TNT1 A 1 A_JumpIfInTargetInventory("BreathCounter", 1, "Spawn")
Stop
}
}

actor BreathDropSpawner : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.AUTOACTIVATE
States
{
Spawn:
TNT1 A 1
loop
Use:
TNT1 A 1 A_SpawnItemEX("BreathDrop", random(-16,16), random(-16,16), random(0,32))
stop
}
}

actor BreathDrop
{
+MISSILE
-NOGRAVITY
+CLIENTSIDEONLY
Scale 2.5
States
{
Spawn:
SKDR A 1 
SKDR A 0 A_JumpIf(z-floorz>0,"Spawn")
goto Death
Death:
SKDR B 0 A_PlaySoundEX("Weapon/WaterDrop", "Voice")
SKDR BCD 2
stop
}
}

actor BMRemover : CustomInventory 
{
inventory.amount 1
inventory.maxamount 1
//Inventory.RespawnTics 350
inventory.pickupmessage ""
inventory.icon "KORBTRSH"
Inventory.PickupSound "item/1up"
+INVBAR
+COUNTITEM
scale 2.0
States
{
Spawn:
TNT1 A 1
stop
Use:
TNT1 A 0 A_JumpIfInventory("BMFlag", 1, "SoundRemove")
Goto Remove
SoundRemove:
TNT1 A 0 A_PlaySoundEX("weapon/timestopper","Weapon")
Remove:
TNT1 A 0 A_TakeInventory("BLASF", 1)
TNT1 A 0 A_TakeInventory("MANTF", 1)
TNT1 A 0 A_TakeInventory("AQUAF", 1)
TNT1 A 0 A_TakeInventory("WHITF", 1)
TNT1 A 0 A_TakeInventory("THOUF", 1)
TNT1 A 0 A_TakeInventory("FLAMF", 1)
TNT1 A 0 A_TakeInventory("TIMEF", 1)
TNT1 A 0 A_TakeInventory("SELFF", 1)
TNT1 A 0 A_TakeInventory("FLASF", 1)
TNT1 A 0 A_TakeInventory("BADBF", 1)
TNT1 A 0 A_TakeInventory("LIMIF", 1)
TNT1 A 0 A_GiveInventory("BMRemoverFlag", 1)
TNT1 A 0 A_TakeInventory("BMFlag", 1)
Fail
}
}

actor BMRemoverFlag : Powerup
{
Powerup.Duration 35
}


actor BMFlag : Once {}
actor BMHoldFlag : Once {}

actor KorbyBMAbsorb1 
{
+MISSILE
//+RIPPER
+DONTSPLASH
+SHOOTABLE
+GHOST
+NOBLOOD
+NOTARGETSWITCH
+DONTRIP
+DONTBLAST
Damage 0
Height 48
speed 0
health 255
painchance 256
PainThreshold 1
Radius 32
scale 2.5
States
{
Spawn:
TNT1 A 2
stop
Pain:
TNT1 A 0 A_JumpIfInTargetInventory("BMFlag", 1, "Death")
TNT1 A 0 A_ChangeFlag("INVULNERABLE",1)
TNT1 A 0 A_SetArg(3, 255-health)
TNT1 A 0 A_GiveInventory("BMFlag", 1, AAPTR_TARGET)
TNT1 A 0 A_PlaySoundEX("weapon/timestopper","Weapon")
TNT1 A 0 A_JumpIf(Args[3] >= 99, "BADBFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 90, "SELFFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 80, "MANTFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 70, "WHITFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 60, "TIMEFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 50, "FLASFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 40, "BLASFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 30, "FLAMFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 20, "LIMIFGive")
TNT1 A 0 A_JumpIf(Args[3] >= 10, "AQUAFGive")
TNT1 A 0 A_JumpIf(Args[3] > 1, "THOUFGive")
TNT1 A 0 A_JumpIf(Args[3] == 1, "SELFFGive") //Per Korby
stop

FLAMFGive:
TNT1 A 0 A_GiveInventory("FLAMF",1, AAPTR_TARGET)
Goto BMFinish
THOUFGive:
TNT1 A 0 A_GiveInventory("THOUF",1, AAPTR_TARGET)
Goto BMFinish
LIMIFGive:
TNT1 A 0 A_GiveInventory("LIMIF",1, AAPTR_TARGET)
Goto BMFinish
MANTFGive:
TNT1 A 0 A_GiveInventory("MANTF",1, AAPTR_TARGET)
Goto BMFinish
AQUAFGive:
TNT1 A 0 A_GiveInventory("AQUAF",1, AAPTR_TARGET)
Goto BMFinish
TIMEFGive:
TNT1 A 0 A_GiveInventory("TIMEF",1, AAPTR_TARGET)
Goto BMFinish
WHITFGive:
TNT1 A 0 A_GiveInventory("WHITF",1, AAPTR_TARGET)
Goto BMFinish
FLASFGive:
TNT1 A 0 A_GiveInventory("FLASF",1, AAPTR_TARGET)
Goto BMFinish
BLASFGive:
TNT1 A 0 A_GiveInventory("BLASF",1, AAPTR_TARGET)
Goto BMFinish
SELFFGive:
TNT1 A 0 A_GiveInventory("SELFF",1, AAPTR_TARGET)
TNT1 A 30
Goto BMFinish
BADBFGive:
TNT1 A 0 A_GiveInventory("BADBF",1, AAPTR_TARGET)
Goto BMFinish

BMFinish:
TNT1 A 0 
stop
Death:
TNT1 A 0
stop
}
}
/*
actor KorbyBMAbsorb2 : KorbyBMAbsorb1
{
States
{
Spawn:
MIRR B 2
stop
}
}*/