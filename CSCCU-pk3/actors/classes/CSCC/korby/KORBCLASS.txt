actor KorbyClass : ClassBaseCSCC
{
player.displayname "korby"
player.soundclass "korby"
player.startitem "FIR"
player.startitem "LIT"
player.startitem "ICE"
player.startitem "KorbyClassItems"
player.forwardmove 0.6, 0.6
player.sidemove 0.58, 0.58
Health 100
gravity 0.8
//+BOSS
+NOBLOOD
+DONTBLAST
+NODAMAGETHRUST
mass 9999
scale 2.5
+QUICKTORETALIATE
States
{
Spawn:
BLMG A 0
BLMG B 1 
BLMG A 1 
Goto Spawn+2
See:
BLMG BBBBBCCCCCDDDDDEEEEE 1 
Goto Spawn
Missile:
BLMG FFFFF 1 
BLMG GGGG 1 
goto Spawn
Pain.CopyAlt:
Pain.CopyMain:
BLMG H 0 A_SpawnItemEx("KorbyCopyHitMain",1)
goto pain+1
Death.Backstab:
SNIP H 0 SetPlayerProperty(0, 0, 4)
SNIP H 0 A_TakeInventory("PharaohCharge",999)   
SNIP H 0 A_NoBlocking
SNIP H 0 A_GiveInventory("CutterFlag",999)
SNIP H 0 A_GiveInventory("IsDead",1)
SNIP H 0 A_Stop
SNIP H 0 A_GiveToTarget("KilledMeStock",1)
BLMG H 1 A_GiveToTarget("KilledMe",1)
BLMG H 1 A_GiveToTarget("ClearDisguise",1)
SNIP H 0 A_GiveToTarget("DisguiseOn",1)
SNIP H 0 A_GiveToTarget("KorbyDisguise",1)
SNIP H 0 ACS_ExecuteAlways(775,0,500)
goto BackstabFrames
}
}

actor KorbyHUD : Inventory
{
	inventory.amount 1
	inventory.maxamount 1
}

actor BLASF : Inventory
{
	inventory.amount 1
	inventory.maxamount 1
}

actor MANTF : BLASF
{
}

actor AQUAF : BLASF
{
}

actor WHITF : BLASF
{
}

actor THOUF : BLASF
{
}

actor FLAMF : BLASF
{
}

/*actor DOOMF : BLASF
{
}*/

actor TIMEF : BLASF
{
}

actor SELFF : BLASF
{
}

/*actor FROGF : BLASF
{
}*/

actor FLASF : BLASF
{
}

actor BADBF : BLASF
{
}

actor LIMIF : BLASF
{
}

actor TMFLAG : BLASF
{
}


actor KorbyCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("KorbyMorphItem",1)
stop
}
}

actor KorbyCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("KorbyCopyPickupMain",1)
stop
}
}


actor KorbyMorphItem : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYMORPH, 0, 33)
stop
}
}

actor KorbyMorphFire : KorbyClass
{
+NOSKIN
player.morphweapon "FIR"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}

actor KorbyMorphIce : KorbyMorphFire
{
player.morphweapon "ICE"
}

actor KorbyMorphLit : KorbyMorphFire
{
player.morphweapon "LIT"
}

actor IsKorby : Once { }

actor KorbyClassItems : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0
TNT1 A 0 A_GiveInventory("CanPickAmmo", 1)
TNT1 A 0 A_GiveInventory("KorbyHUD", 1)
TNT1 A 0 A_GiveInventory("IsKorby", 1)
TNT1 A 0 A_GiveInventory("NoHealthBar2", 1)
TNT1 A 0 A_GiveInventory("BMRemover", 1)
TNT1 A 0 A_GiveInventory("MP", 100)
stop
}
}
