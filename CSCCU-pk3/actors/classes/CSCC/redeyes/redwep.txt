actor RedEyesWep : MegaBuster
{
Weapon.AmmoUse 0
Weapon.AmmoGive 3
Weapon.SlotNumber 1
Obituary "%o had his life force stolen by %k's Hemomancy."
Inventory.Pickupmessage "YOU HAVE GAINED POWER OVER BLOOD!"
weapon.ammotype "Busterammo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOAUTOFIRE
Scale 2.0
DropItem "WaterBalloonWep"
States
{
Spawn:
WEA4 B 1
stop
Ready:
VLBL A 0 ACS_ExecuteAlways(998,0,WCCS_REDEYES)
TNT1 A 0 A_TakeInventory("ScorchWheelPowerup", 1)
VLBL A 1 A_WeaponReady
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
VLBL A 1 A_Lower
Loop
Select:
TNT1 A 0 A_TakeInventory("Wep2",1)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
VLBL A 1 A_Raise
Loop
Fire:
VLBL A 0 A_JumpIfHealthLower(2,"Single")
VLBL BC 3
VLBL D 5
VLBL A 0 A_PlaySoundEx("weapon/mbuster","Weapon")
VLBL A 0 A_FireCustomMissile("DrainBall",0,0,8,0)
VLBL A 0 A_FireCustomMissile("DrainBall",15,0,8,0)
VLBL A 0 A_FireCustomMissile("DrainBall",-15,0,8,0)
VLBL A 0 ACS_ExecuteAlways(CSACS_REDEYESHEALTH,0,15)//15 >21
VLBL CB 2
goto Hold
Single:
VLBL BC 3
VLBL D 5
VLBL A 0 A_PlaySoundEx("weapon/mbuster","Weapon")
VLBL A 0 A_FireCustomMissile("DrainBall",0,0,8,0)
//VLBL A 0 ACS_ExecuteAlways(CSACS_REDEYESHEALTH,0,15)
VLBL CB 2
Hold:
VLBL B 2
VLBL B 0 A_JumpIfInventory("IsBot", 1, "BotFire")
VLBL B 0 A_Refire
goto Ready+2
BotFire:
VLBL A 0 A_JumpIfHealthLower(2,"Single")
VLBL BC 3
VLBL D 5
VLBL A 0 A_PlaySoundEx("weapon/mbuster","Weapon")
VLBL A 0 A_FireCustomMissile("DrainBall",0,0,8,0)
VLBL A 0 A_FireCustomMissile("DrainBall",15,0,8,0)
VLBL A 0 A_FireCustomMissile("DrainBall",-15,0,8,0)
VLBL A 0 ACS_ExecuteAlways(CSACS_REDEYESHEALTH,0,15)//15 >21
VLBL CB 2
VLBL B 0 A_Refire
goto Ready+2
AltFire:
VLBL A 0 A_JumpIfHealthLower(20,"NoAmmo")
VLBL EF 4
VLBL A 0 ACS_ExecuteAlways(CSACS_REDEYESHEALTH,0,28)//20>28
VLBL A 0 A_GiveInventory("ScorchWheelPowerup", 1)
SWHE G 0 A_PlaySound("splat")
AltHold:
VLBL A 0 A_SetTranslucent (0.0, 0) 
SKLA A 0 A_ChangeFlag("SHOOTABLE",0)
SKLA A 0 A_ChangeFlag("DONTRIP",1)
TNT1 A 0 A_GiveInventory("ScorchWheelPowerup", 1)
TNT1 A 0 A_JumpIfInventory("PoolCount",15,"Throw")
TNT1 A 0 A_GiveInventory("PoolCount",1)
TNT1 AA 2 A_SpawnItemEx("SanguinePool",0,0,0,momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
TNT1 AA 2 A_SpawnItemEx("SanguinePool2",0,0,0,momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
TNT1 A 0 A_Refire
Goto Throw
Throw:
TNT1 A 0 A_TakeInventory("ScorchWheelPowerup", 1)
TNT1 A 0 A_TakeInventory("PoolCount",99)
SKLA A 0 A_ChangeFlag("SHOOTABLE",1)
SKLA A 0 A_ChangeFlag("DONTRIP",0)
VLBL A 0 A_SetTranslucent (1.0, 0) 
VLBL FE 2 A_ClearRefire
Goto Ready+1
NoAmmo:
VLBL A 1
Goto Ready+1
}
}

actor RedEyesWepB : MegaBuster
{
Weapon.AmmoUse 0
Weapon.AmmoGive 3
Weapon.SlotNumber 2
Obituary "%o was speared by %k The Impaler."
Inventory.Pickupmessage "YOU HAVE GAINED POWER OVER BLOOD! AGAIN!"
weapon.ammotype "Busterammo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.NOAUTOFIRE
Scale 2.0
DropItem "WaterBalloonWep"
States
{
Ready:
VLBL A 0 ACS_ExecuteAlways(998,0,WCCS_REDEYES)
TNT1 A 0 A_TakeInventory("ScorchWheelPowerup", 1)
VLBL OP 7 A_WeaponReady //this weapon is OP
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
VLBL A 1 A_Lower
Loop
Select:
TNT1 A 0 A_GiveInventory("Wep2",1)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
VLBL A 1 A_Raise
Loop
Fire:
VLBL A 0 A_JumpIfInventory("BloodSpearCount",4,"Four")
VLBL A 0 A_JumpIfInventory("BloodSpearCount",3,"Three")
VLBL A 0 A_JumpIfInventory("BloodSpearCount",2,"Two")
VLBL A 0 A_JumpIfInventory("BloodSpearCount",1,"One")
goto Ready+2
Four:
VLBL A 0 A_TakeInventory("BloodSpearCount",999)
VLBL JK 2
VLBL L 4
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL M 15
VLBL FE 2
goto Ready+2
Three:
VLBL A 0 A_TakeInventory("BloodSpearCount",999)
VLBL JK 2
VLBL L 4
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL M 15
VLBL FE 2
goto Ready+2
Two:
VLBL A 0 A_TakeInventory("BloodSpearCount",999)
VLBL JK 2
VLBL L 4
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL L 2
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL M 15
VLBL FE 2
goto Ready+2
One:
VLBL A 0 A_TakeInventory("BloodSpearCount",999)
VLBL JK 2
VLBL L 4
VLBL A 0 A_PlaySoundEx("weapon/leafshield","Weapon")
VLBL A 0 A_FireCustomMissile("BloodSpear",0,0,8,0)
VLBL M 15
VLBL FE 2
goto Ready+2
AltFire:
VLBL A 0 A_JumpIfInventory("BloodSpearCount",4,"NoAmmo")
VLBL A 0 A_JumpIfHealthLower(7,"NoAmmo")
VLBL EF 4
AltHold:
VLBL A 0 A_JumpIfInventory("BloodSpearCount",4,"NoAmmo")
VLBL A 0 A_JumpIfHealthLower(5,"NoAmmo")
VLBL A 0 ACS_ExecuteAlways(CSACS_REDEYESHEALTH,0,7) //5>7
TNT1 A 0 A_GiveInventory("BloodSpearCount",1)
VLBL F 8
VLBL F 0 A_Refire
VLBL FE 4
Goto Ready+1
NoAmmo:
VLBL O 1
Goto Ready+1
}
}

actor DrainBall : MageStaffFX2
{
Obituary "%o had his life force stolen by %k's Hemomancy."
PROJECTILE
+DONTBLAST
+SEEKERMISSILE
-EXTREMEDEATH
damagetype "Blood"
Speed 27
Damage (7)
radius 5
height 5
scale 0.5
States
{
Spawn:
TNT1 A 2
BLBA ABCDABCDABCDABCDABCDABCD 1 A_MStaffTrack
Death:
XDeath:
BLBA A 1 A_SpawnItemEx("NashGore_FlyingBlood",0,0,0,10,0,5,0)
VFX6 A 0 A_PlaySound("Splat")
stop
Crash:
BUST A 0 A_CustomMissile("ReturningBall",0,0,0,0)
VFX6 A 0 A_PlaySound("Splat")
stop
}
}

actor ReturningBall : DrainBall
{
damage 0
scale 1.0
Speed 64
+RIPPER
+NOINTERACTION
+NOTARGETSWITCH
//+GHOST
States
{
Spawn:
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(128,"Death")
BLBA AAAA 1 A_FaceTarget
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(128,"Death")
RCUT B 0 //A_Recoil(-22)
BLBA BBBB 1 A_FaceTarget
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(128,"Death")
RCUT B 0 //A_Recoil(-22)
BLBA CCCC 1 A_FaceTarget
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(128,"Death")
RCUT B 0 //A_Recoil(-22)
BLBA DDDD 1 A_FaceTarget
loop
Death:
BUST A 0 A_GiveToTarget("Health",7)
BUST A 0 A_PlaySound("item/energyup")
Stop
}
}

actor PoolCount : Inventory
{
inventory.amount 1
inventory.maxamount 70
}

actor SanguinePool
{
PROJECTILE
+RIPPER
+NOINTERACTION
damagetype "Blood"
Speed 0
Damage (0)
radius 5
height 5
scale 2.5
States
{
Spawn:
VLBL G 4
Death:
TNT1 A 0
stop
}
}

actor SanguinePool2 : SanguinePool
{
States
{
Spawn:
VLBL H 4
Death:
TNT1 A 0
stop
}
}

actor BloodSpear //: MageStaffFX2
{
Obituary "%o was speared by %k The Impaler."
PROJECTILE
+DONTBLAST
//+SEEKERMISSILE
damagetype "Blood"
Speed 64
Damage (15)//20>15
radius 7
height 7
scale 2.5
reactiontime 60
States
{
Spawn:
VLBL I 1 //A_MStaffTrack
loop
Death:
TNT1 A 1 A_SpawnItemEx("NashGore_FlyingBlood",0,0,0,10,0,5,0)
VFX6 A 0 A_PlaySound("Splat")
stop
}
}

actor BloodSpearCount : Inventory
{
inventory.amount 1
inventory.maxamount 4
inventory.icon "BLOODSP"
+COUNTITEM
+INVBAR
}