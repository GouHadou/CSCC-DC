//TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
//Noted

actor TsukiClassWeapon : Weapon
{
Weapon.SlotNumber 1
scale 2.0
Inventory.Pickupmessage "Power Up! Sentinel Wisps!"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
+WEAPON.CHEATNOTWEAPON
+INVENTORY.UNDROPPABLE
dropitem "SpectralWaveWepGiver"
States
{
Spawn:
TNT1 A 0 
stop
Ready:
TSU0 A 0 ACS_ExecuteAlways(998,0,415)
TSU0 A 0 A_GunFlash
goto Ready2
Ready2:
TSU0 A 1 A_WeaponReady
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
loop
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
TrueDeselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
TSU0 A 1 A_Raise
Loop
Fire:
TSU0 A 0 A_JumpIfInventory("IsBot", 1, "BotFire")
TSU0 A 0 A_JumpIfInventory("TsuSpeedFlag",1,"SpeedShot")
TSU0 A 0 A_JumpIfInventory("TsuSpreadFlag",1,"SpreadShot")
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedPower")
TSU0 A 1 A_GiveInventory("TsuPowerCounter",1)
TSU0 A 0 A_Refire
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 A 0 A_JumpIfInventory("TsuPowerCounter",35,"ChargedPower")
TSU0 B 0 A_FireCustomMissile("FoxFirePower1",0,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 20//8
goto Ready2

BotFire:
TSU0 A 0 A_Jump(1, "BotSpeed","Power","Spread")
TSU0 A 0 A_JumpIfInventory("TsuSpeedFlag",1,"BotSpeedShot")
TSU0 A 0 A_JumpIfInventory("TsuSpreadFlag",1,"BotSpreadShot")
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedPower")
TSU0 A 1 A_GiveInventory("TsuPowerCounter",1)
TSU0 A 0 A_JumpIfInventory("TsuPowerCounter",35,"ChargedPower")
JCHN A 0 A_JumpIfCloser(600,"PowerRelease")
TSU0 A 0 A_Refire
PowerRelease:
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 B 0 A_FireCustomMissile("FoxFirePower1",0,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 8
goto Ready2

BotSpreadShot:
TSU0 A 0 A_Jump(1, "BotSpeed","Power","Spread")
TSU0 A 0 A_JumpIfInventory("TsuPowerFlag",1,"Fire")
TSU0 A 0 A_JumpIfInventory("TsuSpeedFlag",1,"SpeedShot")
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedSpread")
TSU0 A 1 A_GiveInventory("TsuSpreadCounter",1)
TSU0 A 0 A_JumpIfInventory("TsuSpreadCounter",70,"ChargedSpread")
JCHN A 0 A_JumpIfCloser(600,"SpreadRelease")
TSU0 A 0 A_Refire
SpreadRelease:
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")

TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",0,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",-10,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",10,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 8
goto Ready2

BotSpeedShot:
TSU0 A 0 A_Jump(5, "BotSpeed","Power","Spread")
TSU0 A 0 A_JumpIfInventory("TsuPowerFlag",1,"Fire")
TSU0 A 0 A_JumpIfInventory("TsuSpreadFlag",1,"SpreadShot")
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedSpeed")
//TSU0 A 0 A_GiveInventory("TsuSpeedCounter",1)
//TSU0 A 0 A_JumpIfInventory("TsuSpeedCounter",35,"ChargedSpeedLock")
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 B 0 A_FireCustomMissile("FoxFireSpeed1",0,0)
TSU0 B 2
TSU0 A 4
goto Ready2


BotSpeed:
TSU0 A 0 A_PlaySoundEx("item/refill","Voice")
TSU0 A 0 A_TakeInventory("TsuPowerFlag",1)
TSU0 A 0 A_GiveInventory("TsuSpeedFlag",1)
TSU0 A 0 A_TakeInventory("TsuSpreadFlag",1)
goto Ready2
Power:
TSU0 A 0 A_PlaySoundEx("item/refill","Voice")
TSU0 A 0 A_GiveInventory("TsuPowerFlag",1)
TSU0 A 0 A_TakeInventory("TsuSpeedFlag",1)
TSU0 A 0 A_TakeInventory("TsuSpreadFlag",1)
goto Ready2
Spread:
TSU0 A 0 A_PlaySoundEx("item/refill","Voice")
TSU0 A 0 A_TakeInventory("TsuPowerFlag",1)
TSU0 A 0 A_TakeInventory("TsuSpeedFlag",1)
TSU0 A 0 A_GiveInventory("TsuSpreadFlag",1)
goto Ready2


/*
BotFire:
//ICEH A 0 A_Jump(48, "Swap")
TSU0 A 5
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 A 0 A_JumpIfInventory("TsuPowerCounter",35,"ChargedPower")
TSU0 B 0 A_FireCustomMissile("FoxFirePower1",0,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 8
goto Ready2*/

ChargedPower:
TSU0 B 0 A_FireCustomMissile("FoxFirePower2",0,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 20//8
goto Ready2
SpeedShot:
TSU0 A 0 A_JumpIfInventory("TsuPowerFlag",1,"Fire")
TSU0 A 0 A_JumpIfInventory("TsuSpreadFlag",1,"SpreadShot")
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedSpeed")
TSU0 A 0 A_GiveInventory("TsuSpeedCounter",1)
TSU0 A 0 A_JumpIfInventory("TsuSpeedCounter",35,"ChargedSpeedLock")
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 B 0 A_FireCustomMissile("FoxFireSpeed1",0,0)
TSU0 B 2
TSU0 A 4
goto Ready2
ChargedSpeedLock:
TSU0 A 1 A_GiveInventory("TsuPowerCounter",1)
TSU0 A 0 A_Refire
goto ChargedSpeed
ChargedSpeed:
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 B 0 A_FireCustomMissile("FoxFireSpeed2",0,0)
TSU0 B 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 B 4
TSU0 A 8
goto Ready2
SpreadShot:
TSU0 A 0 A_JumpIfInventory("TsuPowerFlag",1,"Fire")
TSU0 A 0 A_JumpIfInventory("TsuSpeedFlag",1,"SpeedShot")
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_JumpIfInventory("TsuChargeLock",1,"ChargedSpread")
TSU0 A 1 A_GiveInventory("TsuSpreadCounter",1)
TSU0 A 0 A_Refire
TSU0 A 0 A_PlaySoundEx("weapon/pharaoh2","Weapon")
TSU0 A 0 A_JumpIfInventory("TsuSpreadCounter",70,"ChargedSpread")
TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",0,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",-10,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread1",10,0)
TSU0 B 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 B 4
TSU0 A 8
goto Ready2
ChargedSpread:
TSU0 B 0 A_FireCustomMissile("FoxFireSpread2",0,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread2",-10,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread2",10,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread2",-20,0)
TSU0 B 0 A_FireCustomMissile("FoxFireSpread2",20,0)
TSU0 B 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 B 4
TSU0 A 8
goto Ready2
AltFire:
TSU0 A 0 A_TakeInventory("TsuPowerCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpeedCounter",35)
TSU0 A 0 A_TakeInventory("TsuSpreadCounter",70)
TSU0 A 0 A_PlaySoundEx("weapon/tsukimiss","Weapon")
TSU0 B 0 A_FireCustomMissile("SpiritRadarSpawner",0,0)
TSU0 B 3 
TSU0 A 20
goto Ready2
Flash:
TNT1 A 1 A_TakeInventory("TsuChargeLock",1)
TNT1 A 0 A_JumpIfInventory("TsukiClassWeapon",1,"Flash") 
TNT1 A 0 A_JumpIfInventory("TsukiClassCosmicWeapon",1,"Flash") 
Stop
}
}

actor TsuPowerCounter : Inventory
{
inventory.amount 1
inventory.maxamount 35
}

actor TsuSpeedCounter : Inventory
{
inventory.amount 1
inventory.maxamount 35
}

actor TsuSpreadCounter : Inventory
{
inventory.amount 1
inventory.maxamount 70
}

actor TsuChargeLock : Inventory
{
inventory.amount 1
inventory.maxamount 350
}

actor TsuCosmicCounter : Inventory
{
inventory.amount 1
inventory.maxamount 175
}

//Mode Changer Section begins here

actor TsuFlagBase : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor TsuChangerBase : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
inventory.icon "TNT1A0"
scale 2.0
+INVENTORY.UNDROPPABLE
+COUNTITEM
+INVBAR
states
{
Spawn:
TNT1 A 0
stop
Use:
TNT1 A 0
stop
NoChange:
TNT1 A 0
fail
}
}

actor TsuPowerFlag : TsuFlagBase
{
}

actor TsuPowerChanger : TsuChangerBase
{
inventory.icon "TZPOWER"
states
{
Use:
TNT1 A 0 A_JumpIfInventory("TsuPowerFlag",1,"NoChange")
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_GiveInventory("TsuPowerFlag",1)
TNT1 A 0 A_TakeInventory("TsuSpeedFlag",1)
TNT1 A 0 A_TakeInventory("TsuSpreadFlag",1)
fail
}
}

actor TsuSpeedFlag : TsuFlagBase
{
}

actor TsuSpeedChanger : TsuChangerBase
{
inventory.icon "TZSPEED"
states
{
Use:
TNT1 A 0 A_JumpIfInventory("TsuSpeedFlag",1,"NoChange")
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_GiveInventory("TsuSpeedFlag",1)
TNT1 A 0 A_TakeInventory("TsuPowerFlag",1)
TNT1 A 0 A_TakeInventory("TsuSpreadFlag",1)
fail
}
}

actor TsuSpreadFlag : TsuFlagBase
{
}

actor TsuSpreadChanger : TsuChangerBase
{
inventory.icon "TZSPREAD"
states
{
Use:
TNT1 A 0 A_JumpIfInventory("TsuSpreadFlag",1,"NoChange")
TNT1 A 0 A_PlaySoundEx("item/refill","Voice")
TNT1 A 0 A_GiveInventory("TsuSpreadFlag",1)
TNT1 A 0 A_TakeInventory("TsuPowerFlag",1)
TNT1 A 0 A_TakeInventory("TsuSpeedFlag",1)
fail
}
}

//Mode Changer Section ends here

actor TsuDetect : Inventory
{
inventory.amount 1
inventory.maxamount 35
}


actor TsuAlert : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.UNDROPPABLE
+INVENTORY.AUTOACTIVATE
states
{
Spawn:
TNT1 A 0
stop
Use:
TNT1 A 0 A_PlaySoundEx("weapon/tsukigotcha","Weapon")
TNT1 A 0 A_SpawnItemEx("TsuAlertSign",0,0,72,0,0,0,0,SXF_NOCHECKPOSITION)
stop
}
}

actor TsuAlertSilent : TsuAlert
{
states
{
Use:
TNT1 A 0 A_SpawnItemEx("TsuAlertSign",0,0,72,0,0,0,0,SXF_NOCHECKPOSITION)
stop
}
}
actor TsuConfuse : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.UNDROPPABLE
+INVENTORY.AUTOACTIVATE
states
{
Spawn:
TNT1 A 0
stop
Use:
TNT1 A 0 A_PlaySoundEx("weapon/tsukimiss","Weapon")
stop
}
}

// Projectiles begins here:

actor FoxFirePower1
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+FORCEXYBILLBOARD
+DONTBLAST
+BRIGHT
Radius 5
Height 5
Obituary "%o had been consumed by %k's Fox-Fire."
scale 2.5
damage (0)
damagetype "FoxFirePower"
speed 40
States
{
Spawn:
TSU0 FG 2
loop
Death:
TSU0 M 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TSU0 M 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 M 2 A_SpawnItemEx("FoxFireBurn1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 N 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 N 2 A_SpawnItemEx("FoxFireBurn1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 O 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 O 2 A_SpawnItemEx("FoxFireBurn1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 P 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 P 2 A_SpawnItemEx("FoxFireBurn1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 Q 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 Q 2 A_SpawnItemEx("FoxFireBurn1",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
stop
}
}

actor FoxFireBurn1
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
+FORCEXYBILLBOARD
+RIPPER
Speed 0
damagetype "FoxFirePower"
Obituary "%o was foolish enough to touch %k's Fox-Fire."
Damage (5)
Height 24
Radius 20
States
{
Spawn:
TNT1 A 1
Stop
}
}

actor FoxFirePower2 : FoxFirePower1
{
damage (0)//10
States
{
Death:
TSU0 M 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TSU0 M 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 M 2 A_SpawnItemEx("FoxFireBurn2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 N 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 N 2 A_SpawnItemEx("FoxFireBurn2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 O 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 O 2 A_SpawnItemEx("FoxFireBurn2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 P 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 P 2 A_SpawnItemEx("FoxFireBurn2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
TSU0 Q 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 Q 2 A_SpawnItemEx("FoxFireBurn2",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
stop
}
}

actor FoxFireBurn2 : FoxFireBurn1
{
Damage (10)
}

actor FoxFireSpeed1 : FastProjectile
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+FORCEXYBILLBOARD
+DONTBLAST
+BRIGHT
Radius 5
Height 5
Obituary "%o was caught in %k's Fox-Fire Stream."
scale 2.5
damage (5)
damagetype "FoxFireSpeed"
speed 80
States
{
Spawn:
TSU0 FG 2
loop
Death:
TNT1 A 1
TSU0 H 0 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 HIJKLH 1
stop
}
}

actor FoxFireSpeed2 : FoxFireSpeed1
{
Obituary "%o stood bravely in the path of %k's Fox-Fire Sniper."
damage (25)
speed 480
}

actor FoxFireSpread1 : FastProjectile
{
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+FORCEXYBILLBOARD
+DONTBLAST
+BRIGHT
Radius 5
Height 5
Obituary "%o could not avoid %k's Fox-Fire Spread."
scale 2.5
damage (10)
damagetype "FoxFireSpread"
speed 60
States
{
Spawn:
TSU0 FG 2
loop
Death:
TSU0 H 1 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 HIJKLH 1
stop
}
}

actor FoxFireSpread2 : FoxFireSpread1
{
damage (15)
damagetype "FoxFireSpread"
speed 80
States
{
Spawn:
TSU0 FG 2
loop
Death:
TSU0 H 1 A_PlaySoundEx("weapon/firestorm","Voice")
TSU0 HIJKLH 1
stop
}
}

//ALT Projectiles Begins

actor SpiritRadarSpawner
{
PROJECTILE
+FORCEXYBILLBOARD
+SKYEXPLODE
+DONTBLAST
+NOINTERACTION
+NOTIMEFREEZE
Radius 0
Height 0
damage (0)
speed 0
States
{
Spawn:
TNT1 A 1
TNT1 A 0 A_SpawnItemEx("SpiritRadar1",0,0,-16,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpiritRadar2",0,0,-32,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpiritRadar3",0,0,-64,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpiritRadar4",0,0,-128,0,0,0,0,SXF_NOCHECKPOSITION)
stop
}
}

actor SpiritRadar1
{
PROJECTILE
+FORCEXYBILLBOARD
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
+NOTIMEFREEZE
Speed 0
Damage (0)
radius 32
height 32
States
{
Spawn:
TNT1 A 1
stop
Death:
TNT1 A 0
Stop
XDeath:
TNT1 A 0 A_GiveToTarget("TsuDetect",35)
TNT1 A 0 A_GiveToTarget("TsuAlert",1)
stop
}
}

actor SpiritRadar2 : SpiritRadar1
{
radius 64
height 64
}

actor SpiritRadar3 : SpiritRadar1
{
radius 128
height 128
}

actor SpiritRadar4 : SpiritRadar1
{
radius 256
height 256
}

actor TsuAlertSign
{
PROJECTILE
+FORCEXYBILLBOARD
+SKYEXPLODE
+DONTBLAST
+NOINTERACTION
//+NONETID //Not sure if should... Or not...
//+CLIENTSIDEONLY //Not sure if should... Or not...
+NOTIMEFREEZE //You are going to thank me for this!
Radius 0
Height 0
scale 2.5 
damage (0)
speed 0
States
{
Spawn:
TSU0 TT 1 A_Stop //Please change the sprite's name to something else. TSU0T0 is in use
TSU0 T 0 A_JumpIfInTargetInventory("TsuDetect",1,"GiveAlert")
Stop
GiveAlert:
TSU0 T 0 A_TakeFromTarget("TsuDetect",1)
TSU0 T 0 A_GiveToTarget("TsuAlertSilent",1)
stop
}
}

//Failsafe
actor TsukiClassWeaponX : TsukiClassWeapon
{
Weapon.AmmoGive 0
States
{
Deselect:
TNT1 A 0 A_JumpIfInventory("IsDead",1,"TrueDeselect")
TNT1 A 0 A_SelectWeapon("TsukiClassWeapon")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Select:
TNT1 A 0 A_SelectWeapon("TsukiClassWeapon")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
TNT1 A 1 A_Raise
Loop
}
}