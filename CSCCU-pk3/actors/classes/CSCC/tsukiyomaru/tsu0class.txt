actor TsukiyomaruZero : ClassBaseCSCC
{
player.displayname "Tsukiyomaru Zero"
player.soundclass "Tsuki"
+NOSKIN
Gravity 0.4 //or 0.6?
player.startitem "TsukiClassWeapon"
player.startitem "TsuPowerFlag",1
player.startitem "TsuPowerChanger",1
player.startitem "TsuSpeedChanger",1
player.startitem "TsuSpreadChanger",1
player.startitem "NoHealthBar2"
player.startitem "TsukiHUD",1
+NOTARGET
damagefactor "Instagib", 5.0
damagefactor "Dummy", 0.0
//New resistances, perhaps. This time being resistant to the weapons:
//Gravity Hold, Astro crush, Flash Bomb, Wind storm, Flame Sword, Star Crash
//Weaknesses to buster stays, but I'd advise to change them to 1.25
//While resistances should revolve around 0.75
States
{
Spawn:
TSUC A 0 //TNT1 A 0
TSUC B 1 
TSUC A 1 A_ClearTarget
Goto Spawn+2
See:
TSUC BBBCCCDDD 1 A_ClearTarget
Goto Spawn+2
Missile:
TSUC F 1 A_ClearTarget
TSUC F 3 
TSUC G 3 
goto Spawn+2
Pain.CopyAlt:
Pain.CopyMain:
TSUC H 0 A_SpawnItemEx("TsukiCopyHitMain",1)
goto pain+1
Death:
TSUC H 0 A_GiveInventory("ClassDeathPickup",1)
TSUC H 0 A_SetTranslucent(1,0)
TSUC H 0 A_ChangeFlag("NoInteraction",1)
TSUC H 0 A_ChangeFlag("NoGravity",1)
goto DeathFrames
Pain.WilyIce:
TSUC H 0
goto WilyIceFrames
/*Death.Backstab:
TSUC H 0 SetPlayerProperty(0, 0, 4)
TSUC H 0 A_TakeInventory("PharaohCharge",999)   
TSUC H 0 A_NoBlocking
TSUC H 0 A_GiveInventory("CutterFlag",999)
TSUC H 0 A_GiveInventory("IsDead",1)
TSUC H 0 A_Stop
TSUC H 0 A_GiveToTarget("KilledMeStock",1)
TSUC H 1 A_GiveToTarget("KilledMe",1)
TSUC H 1 A_GiveToTarget("ClearDisguise",1)
TSUC H 0 A_GiveToTarget("DisguiseOn",1)
TSUC H 0 A_GiveToTarget("TsukiDisguise",1)
TSUC H 0 ACS_ExecuteAlways(775,0,0)
goto BackstabFrames*/

WalkForward: 
TSUC BBBBBCCCCC 1 A_Recoil(-0.8)
loop
CreditWalk:
TSUC BCD 8
loop
CreditRun:
TSUC BCD 5
loop

Death.Beam:
Death.Gravity:
Death.instagib:
PLAY Z 1 A_GiveInventory("ClassDeathPickup",1)
goto DeathBoom
DeathBoom:
TSUC H 0 SetPlayerProperty(0, 0, 4)
TSUC H 0 A_TakeInventory("TsukiClassWeapon",1)
TSUC H 0 A_PlayerScream
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,0)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,45)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,90)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,135)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,-45)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,-90)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,-135)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX1",0,0,15,10,0,0,180)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,0)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,45)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,90)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,135)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,-45)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,-90)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,-135)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX2",0,0,15,5,0,0,180)
TSUC Z 0 A_SpawnItemEx("TsukiDeathFX3",0,0,15,0,0,0,0)
TSUC Z -1
stop
Death.Falling:
TSUC X 0 A_SetTranslucent(1,0)
goto "ClassBaseCSCC::Death.Falling"


DeathFrames:
TSUC H 1 A_GiveToTarget("KilledMe",1)
TSUC H 0 //A_GiveToTarget("tsucannongiver",1)
TSUC H 0 A_TakeInventory("TsuDetect",99)
TSUC H 19 ACS_ExecuteAlways(999,0,0)
goto DeathBoom
/*
BackstabFrames:
TSUC H 1 ACS_ExecuteAlways(999,0,0)
TSUC H 1 A_SetTranslucent (0.9, 0) 
TSUC H 1 A_SetTranslucent (0.8, 0) 
TSUC H 1 A_SetTranslucent (0.7, 0) 
TSUC H 1 A_SetTranslucent (0.6, 0) 
TSUC H 1 A_SetTranslucent (0.5, 0) 
TSUC H 1 A_SetTranslucent (0.4, 0) 
TSUC H 1 A_SetTranslucent (0.3, 0) 
TSUC H 1 A_SetTranslucent (0.2, 0) 
TSUC H 1 A_SetTranslucent (0.1, 0) 
TSUC H 1 A_SetTranslucent (0.0, 0)
PLAY Z -1*/
}
}

actor TsukiDeathFX1
{
height 1
radius 1
+NOINTERACTION
+NOGRAVITY
-SOLID
+DONTBLAST
+CLIENTSIDEONLY //MAYBE?!
scale 2.5
PROJECTILE
Speed 10
States
{
Spawn:
TSU0 HIJKL 2
TSU0 X 0 A_Stop
TSU0 IJKLH 2
stop
}
}

actor TsukiDeathFX2 : TsukiDeathFX1
{
speed 5
}

actor TsukiDeathFX3 : TsukiDeathFX1
{
speed 0
}

actor TsukiHUD : Inventory
{
	inventory.amount 1
	inventory.maxamount 1
}

actor TsukiCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("TsukiMorphItem",1)
stop
}
}

actor TsukiCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("TsukiCopyPickupMain",1)
stop
}
}


actor TsukiMorphItem : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYMORPH, 0, 16)
stop
}
}

actor TsukiMorph : TsukiyomaruZero
{
+NOSKIN
Gravity 0.4
player.morphweapon "TsukiClassWeapon"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}
