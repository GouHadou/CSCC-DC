actor MegamanCSCC : ClassBaseCSCC
{
player.displayname "megaman"
player.soundclass "megaman"
player.startitem "MegaBuster"
player.startitem "BusterAmmo", 3
player.startitem "CanCopyWeapons"
player.startitem "CanUseItems"
+NOSKIN
States
{
Spawn:
PLAY A 0
PLAY B 1 
PLAY A 1 
Goto Spawn+2
See:
PLAY BCDE 5
Goto Spawn
Missile:
PLAY F 5 
PLAY G 4 
goto Spawn+2
Pain.CopyAlt:
Pain.CopyMain:
CFSK H 0 A_SpawnItemEx("MegaCopyHitMain",1)
goto pain+1
PainFix:
PLAY H 0
goto PainFrames
DeathFix:
PLAY H 0
goto DeathFrames
IceDeathFix:
PLAY H 0
goto IceDeathFrames
Pain.WilyIce:
PLAY H 0
goto WilyIceFrames
TheEnd:
PLAY G 4
loop
CreditWalk:
PLAY BCDE 8
loop
CreditRun:
PLAY BCDE 5
loop
Death.WindStorm:
Death.GravityHold:
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_ChangeFlag("NOINTERACTION", 1)
PLAY H 0 A_TakeInventory("WeaponCharge",999)
PLAY H 0 A_NoBlocking
PLAY H 0 A_TakeInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY H 0 A_Stop
PLAY H 0 A_GiveToTarget("KilledMeStock",1)
PLAY H 1 A_GiveToTarget("KilledMe",1)
PLAY H 0 ACS_ExecuteAlways(999,0,0)
PLAY H 0 SetPlayerProperty(0, 0, 4)
RiseMyMegaman:
PLAY H 1 ThrustThingZ(0,10,0,1)
PLAY H 0 A_JumpIf(ceilingz-z<64, "ExplodeNow")
PLAY H 0 A_GiveInventory("Cutterflag", 1)
PLAY H 0 A_JumpIfInventory("CutterFlag", 35, "ExplodeNow")
Goto RiseMyMegaman
ExplodeNow:
PLAY H 0 A_Stop
PLAY H 0 A_PlayerScream
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_SpawnItemEx("FakeDeathFX", 0, 0, 0)
PLAY Z 1 A_CheckPlayerDone
wait
}
}

actor MegaCopyPickupMain : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 A_GiveToTarget("WeaponCopyFlag",tid)
TNT1 A 0 A_GiveToTarget("WeaponCopyAbility",1)
stop
}
}

actor MegaCopyHitMain
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_GiveToTarget("MegaCopyPickupMain",1)
stop
}
}

actor WeaponCopyAbility : CustomInventory
{
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0 ACS_ExecuteAlways(CSACS_COPYCOPYWEP, 0)
stop
}
}