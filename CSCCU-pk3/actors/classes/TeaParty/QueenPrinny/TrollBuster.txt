actor TrollBuster : MegaBuster
{
Weapon.AmmoUse 1
Weapon.AmmoGive 3
Weapon.SlotNumber 1
scale 2.0
Obituary "%o was Trolled to death by %k's Troll Buster!"
Inventory.Pickupmessage "You got the Troll Buster!"
weapon.ammotype "BusterAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
+INVENTORY.UNDROPPABLE
DropItem "WaterBalloonWep"
States
{
Spawn:
PQKB A 1
stop
Ready:
PQKB A 0 ACS_ExecuteAlways(998,0,425)
PQKB A 0 A_JumpIfInventory("Once",1,"Ready2")
PQKB A 0 A_GiveInventory("Once",1)
Goto Ready2+1
Ready2:
PQKB A 0 ACS_ExecuteAlways(998,0,209)
PQKB A 1 A_WeaponReady(WRF_NOSWITCH)
Goto Ready2+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
PQKB A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
PQKB A 1 A_Raise
Loop
Fire:
PQKB B 0 //SetPlayerProperty(0,1,0)
PQKB B 0 A_PlaySoundEx("weapon/mbuster","Weapon")
PQKB B 0 A_FireCustomMissile("KnockbackShot",random(-3,3),0,8,0)
PQKB BC 1
PQKB B 1
PQKB B 0 A_Refire
PQKB B 0 //SetPlayerProperty(0,0,0)
goto Ready2+1
Hold:
Goto Fire
AltFire:
PQKB B 0 A_PlaySoundEx("weapon/pshot","Weapon")
PQKB B 0 A_FireCustomMissile("KnockbackShot2",0,0,8,0)
PQKB B 6
PQKB BC 6
PQKB B 5
PQKB B 0 A_WeaponReady(WRF_NOSWITCH)
goto Ready2+1
}
}


actor KnockbackShot : FastProjectile
{
Obituary "%o was Trolled to death by %k's Troll Buster!"
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
+FORCEXYBILLBOARD
damagetype "TrollBuster"
//seesound "weapon/mbuster"
Speed 64
Damage (2)
radius 5
height 5
scale 2.5
States
{
Spawn:
TNT1 A 1
PQKS A 1
PQKS A 1
Goto Spawn+1
Death:
PQKS A 1
stop
}
}

actor KnockbackShot2
{
Obituary "%o was Trolled to death by %k's Troll Buster!"
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
+FORCEXYBILLBOARD
damagetype "SparkShock"
Speed 60
Damage (6)
radius 20
height 20
scale 2.5
States
{
Spawn:
PQBS AB 2
loop
Death:
TNT1 A 0
MMFX B 2
stop
}
}