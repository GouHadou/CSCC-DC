actor ToastCannonWep : MegaBuster 31356
{
Weapon.AmmoUse 1
Weapon.AmmoGive 56
Weapon.SlotNumber 4
Inventory.Pickupmessage "Power up! Toast Cannon!"
weapon.ammotype "ToastAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
+WEAPON.CHEATNOTWEAPON
Scale 2.0
DropItem "POilSliderWep"
States
{
Spawn:
TNT1 A 0
stop
Ready:
NEDC B 0 A_TakeInventory("OilSliderFlag", 999)
NEDC B 0 ACS_ExecuteAlways(998,0,14)
NEDC B 0 A_JumpIfInventory("OilSliderFlag",1,"SlideBegin")
NEDC B 1 A_WeaponReady
NEDC B 0 A_GiveInventory("ToastAmmo", 1)
goto Ready+2


Deselect:
NEDC B 0 A_TakeInventory("OilSliderFlag", 999)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
NEDC B 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
NEDC B 1 A_Raise
Loop
AltFire:
Fire:
OILL A 0 A_JumpIfInventory("OilBoat",1,"OilPogo")
NEDC B 0 A_JumpIfInventory("OilSliderFlag",1,"SlideBegin")
NEDC B 0 A_JumpIfNoAmmo("NoAmmo")
NEDC B 1
goto Hold
Hold:
NEDC B 0 A_JumpIfNoAmmo("NoAmmo")
NEDC B 0 A_JumpIfInventory("WeaponCharge",1,"Hold2")
NEDC B 2 A_GiveInventory("WeaponCharge",1)
NEDC B 0 
NEDC B 0 A_Refire
Goto Fire1
Hold2:
NEDC C 0 A_StopSoundEx ("Weapon") 
NEDC C 0 
NEDC C 0 A_JumpIfInventory("WeaponCharge",13,"Hold3")
NEDC C 1 
NEDC C 0 
NEDC C 1 A_GiveInventory("WeaponCharge",1)
NEDC C 0 A_Refire
Goto Fire1
Hold3:
NEDC C 0 A_StopSoundEx ("Weapon") 
NEDC C 0 
NEDC C 0 A_JumpIfInventory("WeaponCharge",21,"BotCheck")
NEDC C 1 
NEDC C 1 
NEDC C 0 A_GiveInventory("WeaponCharge",1)
NEDC C 0 A_Refire
Goto Fire2
BotCheck:
NEDC C 0 
Goto Hold4
Hold4:
NEDC D 0 A_StopSoundEx ("Weapon")
NEDC D 0 
NEDC D 1 
NEDC D 1 
NEDC D 0 A_Refire
Goto Fire3

Fire1:
NEDC B 0 A_StopSoundEx ("Weapon") 
NEDC B 0 A_TakeInventory("WeaponCharge",500)
NEDC B 0 A_ClearRefire
NEDC B 0 A_PlaySoundEx("weapon/oilshot","Weapon")
NEDC B 0 A_FireCustomMissile("ButterSlickShot",0,1,8,0)
NEDC CD 2
OILL A 0 A_JumpIfInventory("OilSliderFlag",1,"SlideBegin")
Goto Ready+2
Fire2:
NEDC B 0 A_StopSoundEx ("Weapon") 
NEDC B 0 A_TakeInventory("WeaponCharge",500)
NEDC B 0 A_ClearRefire
NEDC B 0 A_PlaySoundEx("weapon/oilshot","Weapon")
NEDC B 0 A_FireCustomMissile("ButterSlickShot",0,1,8,0)
NEDC CD 3
OILL A 0 A_JumpIfInventory("OilSliderFlag",1,"SlideBegin")
Goto Ready+2
Fire3:
NEDC B 0 A_StopSoundEx ("Weapon") 
NEDC B 0 A_TakeInventory("WeaponCharge",500)
NEDC B 0 A_ClearRefire
NEDC B 0 A_JumpIfInventory("ToastAmmo", 25, "Fire3r")
NEDC B 0 A_PlaySoundEx("weapon/oilshot","Weapon")
NEDC B 0 A_FireCustomMissile("ButterSlickShot",0,1,8,0)
NEDC CD 2
OILL A 0 A_JumpIfInventory("OilSliderFlag",1,"SlideBegin")
NEDC B 3
Goto Ready+2
Fire3r:
NEDC B 0 A_PlaySoundEx("weapon/pshot","Weapon")
NEDC B 0 A_TakeInventory("ToastAmmo", 25)
NEDC B 0 A_FireCustomMissile("ButteredToast",0,0,8,0)
NEDC CD 5
NEDC B 7
Goto Ready+2
SlideBegin:
NEDC B 0 A_GiveInventory("OilSliderFlag",30)
//NEDC B 0 A_TakeInventory("OilSliderAmmo",4,TIF_NOTAKEINFINITE)
NEDC B 0 A_GiveInventory("OilBoat", 1)
NEDC B 0 A_GunFlash
NEDC B 0 A_JumpIfInventory("IsBot", 1, "BotSlide") //If Player is Bot, change
NEDC B 0 A_GiveInventory("FlyDeactivate", 1)
NEDC B 0 A_SpawnItemEx("OilSlider", 24, 0, 2, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
NEDC BBBBB 1 //A_WeaponReady(WRF_NOSWITCH)
NEDC B 0 A_JumpIfInventory("OilSliderFlag",1,"Slide")
Goto SlideEnd



Slide:
NEDC B 0 SetPlayerProperty(0, 1, 0)
NEDC B 0 A_TakeInventory("OilSliderFlag",1)
NEDC B 0 A_JumpIfInventory("IsUnderWater", 1, "UnderWater")
Goto SlideContinue

SlideAir:
NEDC B 0 SetPlayerProperty(0,1,3)
NEDC B 0 A_JumpIf(ACS_ExecuteWithResult(250)==1, "UnderWater")
NEDC B 0 SetPlayerProperty(0,0,3)
Goto SlideContinue
UnderWater:
NEDC B 0 A_JumpIf(z-floorz > 32, 1)
Goto SlideContinue
NEDC B 0 A_JumpIf(momz <= 0, 2)
NEDC B 0 ThrustThingZ(0, 7, 0, 1)
Goto SlideContinue
NEDC B 0 A_GiveInventory("FlyActivate", 1)
NEDC B 0 ThrustThingZ(0, 5, 0, 0)
Goto SlideContinue+1

SlideContinue:
NEDC B 0 A_GiveInventory("FlyDeactivate", 1)
NEDC B 0 A_SpawnItemEx("ButterSlider", 24, 0, 2, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
NEDC BBBBB 1 A_WeaponReady(WRF_NOSWITCH)
NEDC B 0 A_JumpIfInventory("OilSliderFlag", 1, "Slide")
Goto SlideEnd


BotSlide:
NEDC B 0 A_SpawnItemEx("OilSlider", 24, 0, 2, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
NEDC BBBBB 1
NEDC B 0 A_PlaySoundEx("weapon/OilSlider","Weapon")
NEDC B 0 A_GiveInventory("CutterFlag", 1)
NEDC B 0 A_TakeInventory("OilSliderFlag",1)
NEDC B 0 A_JumpIfInventory("Cutterflag", 15, 1)
Loop
NEDC B 0 A_TakeInventory("Cutterflag", 999)
NEDC B 0 A_Jump(224, "OilPogo")
Goto SlideEnd

OilPogo:
NEDC B 0
NEDC B 0 A_Recoil(5)
NEDC B 0 ThrustThingZ(0, 30, 0, 0)
NEDC B 0 A_Jump(256,"SlideEnd")
Goto SlideEnd

NoAmmo:
NEDC B 1 ACS_Execute(979,0)
goto Ready+2
SlideEnd:
NEDC B 0 SetPlayerProperty(0,0,0)
//OILL A 0 SetPlayerProperty(0,0,3)
NEDC B 0 A_GiveInventory("FlyDeactivate", 1)
NEDC B 0 A_StopSound(CHAN_WEAPON)
NEDC B 0 A_TakeInventory("OilSoundTime", 1)
NEDC B 0 A_TakeInventory("OilSliderFlag", 999)
NEDC B 0 A_TakeInventory("OilBoat",999)
NEDC B 10
goto Ready+2

Flash:
TNT1 A 0 A_PlaySoundEx("weapon/OilSlider","Weapon")
TNT1 A 0 A_GiveInventory("OilSoundTime", 1)
FlashLoop:
TNT1 A 0 A_CheckFloor("FlashGround")
TNT1 A 0 A_Recoil(-2)
Goto FlashEnd
FlashGround:
TNT1 A 0 A_Recoil(-4)
FlashEnd:
TNT1 A 2
TNT1 A 0 A_JumpIfInventory("OilSoundTime", 1, "FlashLoop")
TNT1 A 0 A_JumpIfInventory("OilSliderFlag", 1, "Flash")
TNT1 A 1
stop


}
}

actor ToastCharge : Inventory
{
inventory.amount 1
inventory.maxamount 52
}


actor ToastAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 56
}


actor ButterSlickShot
{
Translation "247:247=229:229", "47:47=136:136"
PROJECTILE
Obituary "%o slipped out of the universe due to %k's Butter Slick Shot."
Radius 10
Height 10
scale 2.5
-NOGRAVITY
damagetype "OilSlider"
speed 30
damage (5)
States
{
Spawn:
OILL D 3
loop
Crash:
XDeath:
OILL D 1
stop
Death:
OILL D 0 
OILL D 0 A_JumpIf(z-floorz<=0,"Death2")
OILL D 1 A_GiveInventory("CutterFlag", 1)
OILL D 0 A_JumpIfInventory("CutterFlag", 175, "Xdeath")
loop
Death2:
OILL D 1 A_SpawnItemEx("ButterSlick",0,0,0)
stop
}
}

actor ButterSlick
{
Translation "247:247=229:229", "47:47=136:136"
Obituary "%o slipped out of the universe due to %k's Butter Slick Shot."
+MISSILE
+NODAMAGETHRUST
+NOBLOOD
+DONTSPLASH
+NOEXPLODEFLOOR
+NOTARGETSWITCH
Damage (15)
damagetype "Butter"
Height 10
Radius 8
scale 2.5
mass 99999
reactiontime 176
painchance 256
states
{
Spawn:
OILL G 0
OILL G 1 
OILL G 0 A_ChangeFlag("SHOOTABLE",1)
Spawn2:
OILL G 1 A_Stop
Goto SlideWait
SlideWait:
OILL E 1 A_JumpIfCloser(40, "Slide")
OILL E 0 A_GiveInventory("CutterFlag", 1)
OILL E 0 A_JumpIf(z-floorz>0,"NewShot")
OILL E 0 A_JumpIfInventory("CutterFlag", 175, "Death")
loop
Spawn3:
OILL G 0
OILL G 1 //A_GiveToTarget("OilSledAmmo",16)
stop
Slide:
OILL E 0
OILL E 0 A_JumpIfInTargetInventory("OilSliderFlag", 1,"Spawn3")
TNT1 A 2 A_GiveToTarget("OilSliderFlag",1)
stop
NewShot:
OILL E 0 A_SpawnItemEx("ButterSlickShot", 0, 0, 0, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM)
Goto Death 
Death:
TNT1 A 0
stop
}
}

actor ButteredToast
{
Obituary "%o was destroyed by %k's power of a nutritious breakfast."
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
damagetype "FireStorm"
//seesound "weapon/mbuster"
Speed 40
Damage (33)
radius 20
height 20
scale 2.5
States
{
Spawn:
PROC ABC 2
goto DropShot
DropShot:
PROC A 8 A_SpawnItemEx("ButterSlickShot", 0,0,0,0,0,0,0,0)
loop
}
}

actor ButterSlider
{
Translation "247:247=229:229", "47:47=136:136"
PROJECTILE
+RIPPER
+DONTBLAST
+NOCLIP
+NOINTERACTION
Radius 8
Height 16
scale 2.5
damage (0)
damagetype "OilSlider"
speed 20
States
{
Spawn:
OILL F 0 
OILL F 0 A_SpawnItemEx("SliderDamager", 0, 0, 8)
OILL F 5 
stop
}
}





actor SlickCheck : Inventory 
{
inventory.amount 1
inventory.maxamount 1
}