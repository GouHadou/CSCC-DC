actor ClaytonWep : MegaBuster
{
Weapon.AmmoUse 2
Weapon.AmmoGive 52
Weapon.SlotNumber 1
weapon.ammotype "ClayAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
Scale 2.0
DropItem "ConcreteShotWep"
States
{
Spawn:
WEAP M 1
loop
Ready:
CLAN C 0 ACS_ExecuteAlways(998,0,431)
CLAN C 1 A_WeaponReady
CLAN C 0 A_GiveInventory("ClayAmmo",1)
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
CLAN C 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
CLAN C 1 A_Raise
Loop
Fire:
CLAN D 0 A_JumpIfNoAmmo("NoAmmo")
CLAN C 0 A_TakeInventory("ClayAmmo",1)
CLAN D 0 A_PlaySoundEx("weapon/pshot","Weapon")
CLAN D 0 A_FireCustomMissile("ClaytonPebbles",0,1,8,0)
CLSR HG 2
CLAN D 0 A_FireCustomMissile("ClaytonPebbles",0,1,8,0)
CLSR HG 2
CLAN D 0 A_FireCustomMissile("ClaytonPebbles",0,1,8,0)
CLSR HG 2
CLAN D 0 A_FireCustomMissile("ClaytonPebbles",0,1,8,0)
CLSR HG 10
CLAN C 0 A_Refire
Goto Ready+1
Altfire:
CLAN D 0 A_JumpIfInventory("ClayAmmo",6,"Spear")
Goto NoAmmo
Spear:
CLAN C 0 A_TakeInventory("ClayAmmo",6)
CLAN D 0 A_PlaySoundEx("weapon/pshot","Weapon")
CLAN D 0 A_FireCustomMissile("ClaytonSpear",0,1,8,0)
CLSR HG 5
CLAN C 15
CLAN C 0 A_Refire
Goto Ready+1
NoAmmo:
CLAN C 1 ACS_Execute(979,0)
Goto Ready+1
}
}

actor ClaytonSpear
{
PROJECTILE
+RIPPER
-NOGRAVITY
Radius 6
Height 6
Obituary "%o was exactly sliced by %k's X-Acto Knife."
DamageType "YamatoSpear"
scale 2.5
damage (8)
speed 40
States
{
Spawn:
SPCL AB 2 ThrustThingZ(0,1,0,1)
loop
Death:
SPCL B 0 A_JumpIf(z-floorz<5, "Floor")
SPCL B 0 A_JumpIf(z-ceilingz==0-6, "Ceiling")
SPCL B 0 A_SpawnItemEx("ClaytonSpearStuck",0,0,0,0,0,0,0,0)
stop
Floor:
SPCL B 0 A_SpawnItemEx("ClaytonSpearStuckFloor",0,0,0,0,0,0,0,0)
stop
Ceiling:
Goto XDeath
XDeath:
SPCL E 0 A_PlaySound("weapon/napalm")
SPCL E 1 A_Explode(20,64,0)
SPCL FG 2
stop
}
}

actor ClaytonSpearStuck
{
PROJECTILE
Radius 4
Height 4
Obituary "%o ran into %k's X-Acto Knife."
DamageType "YamatoSpear"
scale 2.5
damage (1)
speed 0
health 1
States
{
Spawn:
SPCL B 0 A_ChangeFlag("SHOOTABLE",1)
SPCL B 3 A_PlaySound("weapon/adapterreturn")
SPCL AAAAAAAAAAAAAA 8
Goto Death
Death:
SPCL E 0 A_PlaySound("weapon/napalm")
SPCL E 1 A_Explode(20,64,0)
SPCL FG 2
stop
}
}

actor ClaytonSpearStuckFloor
{
PROJECTILE
Radius 4
Height 8
Obituary "%o ran into %k's X-Acto Knife."
DamageType "YamatoSpear"
scale 2.5
damage (1)
speed 0
health 1
States
{
Spawn:
SPCL C 0 A_ChangeFlag("SHOOTABLE",1)
SPCL C 3 A_PlaySound("weapon/adapterreturn")
SPCL DDDDDDDDDDDDDD 8
Goto Death
Death:
SPCL E 0 A_PlaySound("weapon/napalm")
SPCL E 1 A_Explode(25,64,0)
SPCL FG 2
stop
}
}

actor ClayAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 52
}


actor ClaytonPebbles
{
PROJECTILE
Radius 5
Height 5
Obituary "%o was pelted by %k's Clay Balls."
damagetype "YamatoSpear"
scale 2.5
damage (8)
+FORCEXYBILLBOARD
speed 64
States
{
Spawn:
PRCL ABCDEFGH 1
loop
Death:
PRCL I 0 A_PlaySoundEx("weapon/minchrgshot","Weapon")
PRCL IJK 3
stop
}
}

actor Claytonwep2 : MegaBuster
{
Weapon.AmmoUse 4
Weapon.AmmoGive 52
Weapon.SlotNumber 1
weapon.ammotype "ClayAmmo"
Obituary "%o was pummeled %k's rock slide."
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
inventory.icon "WEY5J0"
Scale 2.0
States
{
Spawn:
WEAP M 1
loop
Ready:
CLAN C 0 ACS_ExecuteAlways(998,0,111)
CLAN C 1 A_WeaponReady
CLAN C 0 A_GiveInventory("ClayAmmo",1)
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
CLAN C 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
CLAN C 1 A_Raise
Loop
Fire:
CLAN C 0 A_JumpIfNoAmmo("NoAmmo")
CLAN C 0 A_TakeInventory("ClayAmmo",2)
CLAN C 0 A_PlaySoundEx("weapon/superarmuse","Weapon")
CLAN C 0 A_FireCustomMissile("ClaytonRock",0,1,8,0)
CLAH KL 4
CLAH MN 3
CLAN C 10
CLAN C 0 A_Refire
Goto Ready+1
AltFire:
CLAN G 0 A_JumpIfNoAmmo("NoAmmo")
CLAN G 1
goto Hold
Hold:
CLAP L 0 A_JumpIfNoAmmo("NoAmmo")
CLAP K 0 A_JumpIfInventory("WeaponCharge",1,"Hold2")
CLAP L 2 A_GiveInventory("WeaponCharge",1)
CLAP K 0 A_Refire
Goto Fire1
Hold2:
CLAP L 0 A_StopSoundEx ("Weapon") 
CLAP K 0 A_PlaySoundEx("weapon/heat1", "Weapon")
CLAP L 0 A_JumpIfInventory("WeaponCharge",48,"Hold3")
CLAP K 1 A_GiveInventory("WeaponCharge",1)
CLAP L 0 A_Refire
Goto Fire1
Hold3:
CLAP L 0 A_StopSoundEx ("Weapon") 
CLAP K 0 A_PlaySoundEx("weapon/heat2", "Weapon")
CLAP L 0 A_JumpIfInventory("WeaponCharge",71,"BotCheck")
CLAP K 0 A_GiveInventory("WeaponCharge",1)
CLAP L 0 A_Refire
Goto Fire2
BotCheck:
CLAP G 0 ACS_ExecuteAlways(974,0)
Goto Hold4
Hold4:
CLAN K 0 SetPlayerProperty(0,1,0)
CLAN D 0 A_StopSoundEx ("Weapon")
CLAN D 0 A_PlaySoundEx("weapon/heat3", "Weapon")
CLAN D 0 A_Refire
Goto Fire3
Fire1:
CLHR I 0 A_StopSoundEx ("Weapon") 
CLHR I 0 A_TakeInventory("WeaponCharge",500)
CLHR I 0 A_ClearRefire
CLHR I 0 A_PlaySoundEx("weapon/atomicfire","Weapon")
CLHR I 0 A_TakeInventory("ClayAmmo",2)
CLHR I 0 A_FireCustomMissile("ClayBang1",0,0,8,0)
CLHR JK 2
CLHR K 0 SetPlayerProperty(0,0,0)
Goto Ready+1
Fire2:
CLHR I 0 A_StopSoundEx ("Weapon") 
CLHR I 0 A_TakeInventory("WeaponCharge",500)
CLHR I 0 A_ClearRefire
CLHR I 0 A_PlaySoundEx("weapon/atomicfire","Weapon")
CLHR I 0 A_JumpIfInventory("ClayAmmo", 5, "Fire2r")
CLHR I 0 A_TakeInventory("ClayAmmo",5)
CLHR I 0 A_FireCustomMissile("ClayBang1",0,0,8,0)
CLHR JK 2
CLHR K 0 SetPlayerProperty(0,0,0)
Goto Ready+1
Fire2r:
CLHR I 0 A_TakeInventory("ClayAmmo",5)
CLHR I 0 A_FireCustomMissile("ClayBang2",0,0,8,0)
CLHR JK 2
CLHR K 0 SetPlayerProperty(0,0,0)
Goto Ready+1
Fire3:
CLHR I 0 A_StopSoundEx ("Weapon") 
CLHR I 0 A_TakeInventory("WeaponCharge",500)
CLHR I 0 A_ClearRefire
CLHR I 0 A_PlaySoundEx("weapon/atomicfire","Weapon")
CLHR I 0 A_JumpIfInventory("ClayAmmo", 10, "Fire3r")
CLHR I 0 A_JumpIfInventory("ClayAmmo", 5, "Fire2r")
CLHR I 0 A_TakeInventory("ClayAmmo",2)
CLHR I 0 A_FireCustomMissile("ClayBang1",0,0,8,0)
CLHR JK 3
CLHR K 3
CLHR K 0 SetPlayerProperty(0,0,0)
Goto Ready+1
Fire3r:
CLHR I 0 A_TakeInventory("ClayAmmo",10)
CLHR I 0 A_FireCustomMissile("ClayBang3",0,0,8,0)
CLHR JK 5
CLHR K 4
CLHR K 0 SetPlayerProperty(0,0,0)
NoAmmo:
CLAN C 1 ACS_Execute(979,0)
Goto Ready+1
}
}


actor ClaytonRock
{
PROJECTILE
-NOGRAVITY
Radius 5
Height 5
damagetype "Clay"
scale 2.5
Damage (25)
+FORCEXYBILLBOARD
Speed 40
States
{
Spawn:
POWX D 0 ThrustThingZ(0, 1, 0, 1)
POWX D 1
loop
Death:
POWX E 0 A_PlaySoundEx("weapon/cfire","Weapon")
POWX E 0 A_ChangeFlag("NOGRAVITY", 1)
POWX EF 2
stop
}
}

actor ClayBang1
{
+NOGRAVITY
+MISSILE
+SKYEXPLODE
+NOINTERACTION
height 1
radius 150
damage (30)
damagetype "Clay"
Obituary "%o came too close to clay %k."
-SOLID
States
{
Spawn:
TNT1 A 1
stop
}
}

actor ClayBang2
{
+NOGRAVITY
+MISSILE
+SKYEXPLODE
+NOINTERACTION
height 1
radius 250
damage (30)
damagetype "Clay"
Obituary "%o came too close to clay %k."
-SOLID
States
{
Spawn:
TNT1 A 1
stop
}
}

actor ClayBang3
{
+NOGRAVITY
+MISSILE
+SKYEXPLODE
+NOINTERACTION
height 1
radius 350
damage (40)
damagetype "Clay"
Obituary "%o came too close to clay %k."
-SOLID
States
{
Spawn:
TNT1 A 1
stop
}
}


actor Claytonwep3 : MegaBuster
{
Weapon.AmmoUse 6
Weapon.AmmoGive 52
Weapon.SlotNumber 1
weapon.ammotype "ClayAmmo"
Obituary "%o was wrecked %k's rock wrecker."
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
inventory.icon "WEY2A0"
Scale 2.0
States
{
Spawn:
WEAP M 1
loop
Ready:
CLAN C 0 ACS_ExecuteAlways(998,0,111)
CLAN C 1 A_WeaponReady
CLAN C 0 A_GiveInventory("ClayAmmo",1)
Goto Ready+1
Deselect:
CLAN C 0 A_JumpIfInventory("BoulderTemp",1,24)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
CLAN C 1 A_Lower
Goto Deselect+1
CLAT F 0
CLAT F 0 A_TakeInventory("ClayAmmo",6)
CLAT F 0 A_FireCustomMissile("ClaytonBoulder",0,1,0,56)//A_SpawnItemEx("GutRock",0,0,56,20,0,-4,0,0,0)
CLAT FGHIJ 2
TNT1 A 1
CLAN C 0 A_TakeInventory("BoulderTemp",1)
Goto Deselect+1
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
CLAN C 1 A_Raise
Loop
Fire:
TNT1 A 0 A_JumpIfInventory("BoulderTemp",1,"Throw")
TNT1 A 0 A_JumpIfNoAmmo("NoAmmo")
CLAN C 0 A_PlaySoundEx("misc/hugequake2","Weapon")
CLAN C 0 A_GiveInventory("BoulderTemp",1)

CLAN DD 0 A_SpawnItemEx("TempClaytonBoulder",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
CLAN EE 0 A_SpawnItemEx("TempClaytonBoulder",0,0,16,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 AA 0 A_SpawnItemEx("TempClaytonBoulder",0,0,36,0,0,0,0,SXF_NOCHECKPOSITION)
CLAT CC 0 A_SpawnItemEx("TempClaytonBoulder",0,0,56,0,0,0,0,SXF_NOCHECKPOSITION)
CLAT DD 0 A_SpawnItemEx("TempClaytonBoulder",0,0,72,0,0,0,0,SXF_NOCHECKPOSITION)
CLAT EE 0 A_SpawnItemEx("TempClaytonBoulder",0,0,88,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 AAAAA 0 A_SpawnItemEx("TempClaytonBoulder", 0, 0, 88, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
TNT1 A 0 A_SpawnItemEx("TempClaytonBoulder", 0, 0, 88, momx, momy, momz, 0, SXF_ABSOLUTEMOMENTUM, 0)
TNT1 A 0 A_WeaponReady
loop
Goto Fire+20
Throw:
CLAT F 0 A_TakeInventory("ClayAmmo",6)
CLAT F 0 A_FireCustomMissile("ClaytonBoulder",0,1,0,56)//A_SpawnItemEx("GutRock",0,0,56,20,0,-4,0,0,0)
CLAT F 0 A_TakeInventory("BoulderTemp",1)
CLAT FGHIJ 3
TNT1 A 3

CLAT A 30
Goto Ready+1
Hold:
CLAN C 1 ACS_Execute(979,0)
Goto Ready+1
NoAmmo:
CLAN C 0 ACS_Execute(979,0)
Goto Hold
}
}

actor BoulderTemp : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor TempClaytonBoulder
{
+NOINTERACTION
-SOLID
+NOGRAVITY
radius 0
height 0
scale 2.5
States
{
Spawn:
ROCS HH 2
stop
}
}


actor ClaytonBoulder
{
PROJECTILE
-NOGRAVITY
Damage (40)
DamageType "SuperArm"
Height 5
Radius 6
speed 20
Scale 2.5
States
{
Spawn:
ROCS JHIK 4 ThrustThingZ(0, -15, 0, 1)
ROCS JHIK 4
loop
Death:
TNT1 A 0 A_JumpIf(z-floorz==0,"Death2")
TNT1 A 1
stop
XDeath:
TNT1 A 1
stop
Death2:
TNT1 A 0 A_PlaySoundEx("weapon/boulderland","Weapon")
TNT1 A 1 A_SpawnItemEx("ClaytonBoulderRoll",0,0,0,18,0,0,0,0,0)
stop
}
}

actor ClaytonBoulderRoll
{
-SOLID
PROJECTILE
-NOGRAVITY
Damage (36)
DamageType "SuperArm"
Height 16
Radius 20
Scale 2.5
gravity 3.0
speed 18
States
{
Spawn:
ROCS J 0  A_PlaySoundEx("weapon/drillfly","Weapon")
ROCS J 0 A_GiveInventory("Clip",1)
ROCS JHIK 4
loop
Death:
RCKW F 0 A_JumpIfInventory("Clip",1,"Continue")
RCKW FGH 3
stop
XDeath:
RCKW FGH 3
stop
Continue:
TNT1 A 0  A_CustomMissile("ClaytonBoulderRoll",0,0,0,2,0)
TNT1 A 1
stop
}
}