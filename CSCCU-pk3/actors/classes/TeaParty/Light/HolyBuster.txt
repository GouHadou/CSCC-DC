actor HolyBuster : BaseMM8BDMWep
{
Weapon.AmmoUse 1
Weapon.AmmoGive 3
Weapon.SlotNumber 1
scale 2.0
Obituary "%o was purified by %k's Holy Buster!"
Inventory.Pickupmessage "You got the Holy Buster!"
weapon.ammotype "BusterAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
+INVENTORY.UNDROPPABLE
+WEAPON.CHEATNOTWEAPON
DropItem "TenguBladeWep"
States
{
Spawn:
KDSW A 1
stop
Ready:
LIBS A 0 ACS_ExecuteAlways(998,0,427)
LIBS A 0 A_JumpIfInventory("Once",1,"Ready2")
LIBS A 0 A_GiveInventory("Once",1)
Goto Ready2+1
Ready2:
LIBS A 0 ACS_ExecuteAlways(998,0,210)
LIBS A 1 A_WeaponReady
Goto Ready2+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower 
LIBS A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
LIBS A 1 A_Raise
Loop
Fire:
LIBS B 0 A_PlaySoundEx("weapon/pshot","Weapon")
LIBS B 0 A_FireCustomMissile("HolyShot",0,0,8,0)
LIBS B 0
LIBS BC 6
LIBS B 4
LIBS B 0 A_Refire
goto Ready2+1
AltFire:
LIBS A 0 A_PlaySoundEx("weapon/chargekick","Weapon")
LIBS A 0 SetPlayerProperty(0,1,0)
LIBS D 2 A_Recoil(-25)
LIBS D 2// A_FireCustomMissile("LightKick",0,1,0,0)
LIBS E 8 SetPlayerProperty(0,0,0)
LIBS D 5
LIBS A 5
LIBS A 0 A_Refire
goto Ready2+1
}
}

actor HolyShot
{
Obituary "%o was purified by %k's Holy Buster!"
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
+FORCEXYBILLBOARD
//damagetype "CentaurFlash"
Speed 60
Damage (12)
radius 20
height 20
scale 2.5
+HEXENBOUNCE
+DOOMBOUNCE
+CANBOUNCEWATER
BounceFactor 1.0
bouncecount 3
reactiontime 150
States
{
Spawn:
LISH ABCDEFG 2
loop
Death:
TNT1 A 0
MMFX B 2
stop
}
}

actor LightKick
{
PROJECTILE
Obituary "%o was Sparta kicked by %k"
Radius 14
Height 25
scale 2.5
damage (0)
damagetype "ChargeKick"
speed 40
States
{
Spawn:
CKIC D 0
CKIC D 0 //A_RadiusThrust(500,64,0)
CKIC DEF 2
stop
}
}

actor HolySword : BaseMM8BDMWep
{
Weapon.AmmoUse 1
Weapon.AmmoGive 3
Weapon.SlotNumber 4
Obituary "%o was slashed and purified by %k's Holy Sword"
Inventory.Pickupmessage "Power up! Holy Sword!"
weapon.ammotype "BusterAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
Scale 2.0
DropItem "TenguBladeWep"
States
{
Spawn:
KDSW A 1
loop
Ready:
LISD A 0 ACS_ExecuteAlways(998,0,427)
LISD A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
LISD A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
LISD A 1 A_Raise
Loop
Fire:
LISD A 0
LISD BC 1
LISD A 0 A_PlaySoundEx("weapon/slashclaw","Weapon")
LISD A 0 A_FireCustomMissile("HolySlash",0,1,11,-8)
LISD DE 2
LISD F 4
LISD G 15
LISD CBA 2 A_WeaponReady
Goto Ready+1
NoAmmo:
LISD A 1 ACS_Execute(979,0)
Goto Ready+1
AltFire:
LIBS A 0 A_PlaySoundEx("weapon/chargekick","Weapon")
LIBS A 0 SetPlayerProperty(0,1,0)
LIBS D 2 A_Recoil(-25)
LIBS D 2 //A_FireCustomMissile("LightKick",0,1,0,0)
LIBS E 8 SetPlayerProperty(0,0,0)
LIBS D 5
LIBS A 5
LIBS A 0 A_Refire
goto Ready+1
}
}

actor HolySlash
{
Obituary "%o was slashed and purified by %k's Holy Sword"
PROJECTILE
Radius 5
Height 5
scale 2.5
damage (8)
+RIPPER
damagetype "HolySword"
speed 15
States
{
Spawn:
SCLA HIJKL 1 A_Explode(8,80,0)
stop
}
}

actor PureLightWep : Weapon
{
Weapon.AmmoUse 10
Weapon.AmmoGive 28
Weapon.AmmoUse2 2
Weapon.AmmoGive2 28
Weapon.SlotNumber 1
scale 2.0
Obituary "%o's darkness was burned by %k's \cjPure \cfLight \c-Buster."
Inventory.Pickupmessage "Powerup! Overheat Needle!"
weapon.ammotype "LightEnergy"
weapon.ammotype2 "LightEnergy"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
States
{
Spawn:
WEA4 K 1
stop
Ready:
VUST A 0 A_JumpIfInventory("Once",1,"Ready2")
VUST A 0 ACS_ExecuteAlways(520,0)
VUST A 0 A_GiveInventory("Once",1)
Goto Ready2
Ready2:
VUST B 0 ACS_ExecuteAlways(998,0,210)
VUST B 0 A_TakeInventory("WeaponCharge",999)
VUST B 4 A_WeaponReady
VUST B 0 A_GiveInventory("LightEnergy",1)
Goto Ready2+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
VUST B 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
VUST B 1 A_Raise
Loop
Fire:
VUST B 0 A_JumpIfNoAmmo("Hold")
VUST B 0 A_PlaySoundEx("weapon/mbuster","Weapon")
VUST B 0 A_FireCustomMissile("MegaShot",0,0,8,0)
VUST B 1 A_TakeInventory("WeaponCharge",999)
VUST CD 2
VUST B 1
VUST B 0 A_Refire
goto Ready2+1
Fire2:
VUST B 0 A_JumpIfNoAmmo("NoAmmo")
VUST B 0 A_TakeInventory("WeaponCharge",999)
VUST C 0 A_PlaySoundEx("weapon/minchrgshot","Weapon")
VUST C 0 A_FireCustomMissile("KirtMidShot",0,0,8,0)
VUST CD 3 ACS_ExecuteAlways(998,0,210)
VUST B 0 A_Refire
goto Ready2+1
BotCheck:
VUST B 0 A_Jump(224, "Charge2")
VUST B 0 ACS_ExecuteAlways(974,0)
Goto Charge2
Fire3:
VUST B 0 A_JumpIfNoAmmo("NoAmmo")
VUST B 0 A_TakeInventory("WeaponCharge",999)
VUST B 0 A_PlaySoundEx("weapon/cfire","Weapon")
VUST C 0 ACS_ExecuteAlways(998,0,210)
VUST C 0 A_FireCustomMissile("KirtArrowShot",0,1,8,0)
VUST CD 3 
VUST C 9
VUST B 0 A_Refire
goto Ready2+1
Charge:
VUST B 0 A_JumpIfInventory("WeaponCharge",34,"Charge2")
VUST B 0 A_JumpIfInventory("WeaponCharge",19,"Charge1")
VUST B 0 A_PlaySoundEx("weapon/coilstart","Weapon")
Goto Charge1
Charge1:
VUST B 0 A_JumpIfInventory("WeaponCharge",34,"Charge2")
CHBU H 1 ACS_ExecuteAlways(991,0,92)
VUST B 1 ACS_ExecuteAlways(991,0,210)
VUST B 0 A_GiveInventory("WeaponCharge",1)
CHBU H 0 A_Refire
Goto Fire2
Charge2:
VUST B 1 ACS_ExecuteAlways(991,0,93)
CHBU I 1 ACS_ExecuteAlways(991,0,94)
CHBU J 1 ACS_ExecuteAlways(991,0,210)
VUST B 0 A_JumpIfInventory("WeaponCharge", 35, 3)
VUST B 0 A_GiveInventory("WeaponCharge",1)
VUST B 0 A_GunFlash
VUST B 0 A_Refire
Goto Fire3
Hold:
VUST B 0 A_JumpIfInventory("WeaponCharge",34,"BotCheck")
VUST B 0 A_JumpIfInventory("WeaponCharge",18,"Charge")
VUST B 1 A_GiveInventory("WeaponCharge",1)
VUST B 0 A_Refire
Goto Ready+1
BotCheck:
VUST B 0 A_Jump(224, "Charge2")
VUST B 0 ACS_ExecuteAlways(974,0)
Goto Charge2
Flash:
TNT1 H 5 A_PlaySoundEx("weapon/coilcharge", "Weapon")
TNT1 H 0 A_JumpIfInventory("WeaponCharge",1,"Flash")
stop
AltFire:
VMPS A 0 A_JumpIfNoAmmo("NoAmmo")
VMPS A 0 A_PlaySoundEx("weapon/flamesword","Weapon")
VMPS A 0 A_TakeInventory("LightEnergy",2)
VMPS A 0
VMPS A 0 A_Jump(128,"AirSwing")
VMPS C 2 A_FireCustomMissile("DarkFlameSword",50,0,-16,0,0,-10)
VMPS D 2 A_FireCustomMissile("DarkFlameSword",25,0,-8,0,0,-5)
VMPS E 2 A_FireCustomMissile("DarkFlameSword",0,0,0,0,0,0)
VMPS F 2 A_FireCustomMissile("DarkFlameSword",-25,0,8,0,0,10)
VMPS G 2 A_FireCustomMissile("DarkFlameSword",-50,0,16,0,0,20)
Goto Finish
AirSwing:
VMPS J 0 //A_GiveInventory("FlameSwordFlag", 1)
VMPS J 2 A_FireCustomMissile("DarkFlameSword2",-50,0,16,0,0,20)
VMPS K 2 A_FireCustomMissile("DarkFlameSword2",-25,0,8,0,0,10)
VMPS L 2 A_FireCustomMissile("DarkFlameSword2",0,0,0,0,0,0)
VMPS M 2 A_FireCustomMissile("DarkFlameSword2",25,0,-8,0,0,-5)
VMPS N 2 A_FireCustomMissile("DarkFlameSword2",50,0,-16,0,0,-10)
Goto Finish
Finish:
TNT1 A 3
VMPS HIA 3
VMPS A 0 //A_TakeInventory("FlameSwordFlag", 1)
VMPS A 0 A_Refire
Goto Ready2+1
NoAmmo:
VUST B 0 A_PlaySoundEx("weapon/mbuster","Weapon")
VUST B 0 A_FireCustomMissile("MegaShot",0,0,8,0)
VUST B 2 A_TakeInventory("WeaponCharge",999)
VUST CD 3
VUST B 2
VUST B 0 
goto Ready2+2
}
}

actor KirtMidShot
{
Obituary "%o's darkness was burned by %k's \cjPure \cfLight \c-Buster."
PROJECTILE
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
damagetype "Buster"
//seesound "weapon/mbuster"
Speed 32
Damage (24)
radius 20
height 20
scale 2.5
States
{
Spawn:
TNT1 A 0
MBUS AB 2
Goto Spawn+1
}
}


actor KirtArrowShot
{
Obituary "%o's darkness was burned by %k's \cjPure \cfLight \c-Buster."
PROJECTILE
+FORCEXYBILLBOARD
+DONTBLAST
damagetype "VampBurn"
Speed 64
Damage (1)
radius 8
height 8
scale 2.5
//Obituary "%o was destroyed by %k's Arrow Shot."
States
{
Spawn:
ARRS ABACAD 1
Loop
Death:
ARRS F 0 A_PlaySoundEx("weapon/napalm", "Weapon")
ARRS F 0 A_SpawnItemEx("KirtArrowShotExplode",0,0,0,0,0,0,0,0,0)
stop
}
}

actor KirtArrowShotExplode
{
Obituary "%o's darkness was burned by %k's \cjPure \cfLight \c-Buster."
PROJECTILE
+FORCEXYBILLBOARD
+DONTBLAST
damagetype "VampBust"
Speed 64
Damage (0)
radius 24
height 24
scale 2.5
//Obituary "%o was destroyed by %k's Arrow Shot."
States
{
Spawn:
ASEX A 0
Death:
ASEX ABC 1 
ASEX C 0 A_Explode(40,80,0)
ASEX DEF 1
stop
}
}

actor LightEnergy : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor DarkFlameSword
{
PROJECTILE
+RIPPER
+DONTBLAST
Obituary "%o had his darkness drained by %k's \cjPure \cfLight \c-Sword."
damage (4)
damagetype "Vampire"
height 8
radius 8
Speed 40
scale 2.5
states
{
Spawn:
TNT1 A 0
TNT1 AAAAA 1 A_SpawnItemEx("DarkFlameSwordTrail")
Goto Death
Death:
TNT1 A 0 
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
stop
}
}

actor DarkFlameSword2 : DarkFlameSword
{
States
{
Spawn:
TNT1 A 0
TNT1 AAAAA 1 A_SpawnItemEx("DarkFlameSwordTrail2")
Goto Death
}
}

actor DarkFlameSwordTrail
{
+FORCEXYBILLBOARD
PROJECTILE
+DONTBLAST
Obituary "%o had his darkness drained by %k's \cjPure \cfLight \c-Sword."
height 8
radius 8
damage (2) 
damagetype "Vampire2"
scale 2.5 
States
{
Spawn:
VSWD D 0 
VSWD D 0 A_ChangeVelocity(0, -15, 0, CVF_RELATIVE | CVF_REPLACE)
VSWD DGEHFI 1 
stop
}
}

actor DarkFlameSwordTrail2 : DarkFlameSwordTrail
{
States
{
Spawn:
VSWD D 0 
VSWD D 0 A_ChangeVelocity(0, 15, 0, CVF_RELATIVE | CVF_REPLACE)
VSWD DGEHFI 1 
stop
}
}


actor DarkFSSParkSpawner
{
scale 2.5
PROJECTILE
+RIPPER
-SOLID
-NOGRAVITY
+NOINTERACTION
radius 1
height 1
speed 0
ReactionTime 10
states
{
Spawn:
TNT1 A 1 A_SpawnItemEx("DarkFlameSwordSpark",Random(0,16),Random(-16, -8),8,random(50,55),random(-15,15),random(0,15),0, 0, 0)
TNT1 A 0 A_SpawnItemEx("DarkFlameSwordSpark",Random(0,16),0,8,random(45,55),random(-15,15),random(-15,15),0, 0, 0)
TNT1 A 0 A_SpawnItemEx("DarkFlameSwordSpark",Random(0,16),Random(8, 16),8,random(40,55),random(-15,15),random(0,15),0, 0, 0)
TNT1 A 0 A_CountDown
loop
Death:
TNT1 A 0
stop
}
}

actor DarkFlameSwordSpark : DarkFlameSwordTrail
{
+DONTSPLASH
damage (1)
damagetype "Vampire3"
Obituary "%o had his darkness drained by %k's \cjPure \cfLight \c-Sword."
height 4
radius 4
Scale 2.0
States
{
Spawn:
VSPK A 0
VSPK AEBFCGDH 1
stop
}
}

actor BombJump : CustomInventory
{
inventory.amount 1
inventory.maxamount 3
inventory.pickupmessage "Support Item! Bomb Jump!"
inventory.icon "BOMBSI"
Inventory.PickupSound "item/1up"
scale 2.0
+COUNTITEM
+INVBAR
states
{
Spawn:
WEAP H 1
loop
Use:
WEAP B 0 A_PlaySoundEx("item/refill","Voice")
WEAP B 0 A_SpawnItemEx("BombTeleport", 64, 0, 0, 0, 0, 0, 0, SXF_NOCHECKPOSITION, 0)
stop
}
}

actor BombTeleport
{
Radius 12
Height 32
scale 2.5
+NOINTERACTION
PROJECTILE
+DONTBLAST
states
{
Spawn:
BOMB A 0
BOMB A 6
BOMB A 0 A_SpawnItemEx("BombForLaunch",0,0,0,0,0,momz,0,SXF_ABSOLUTEMOMENTUM,0)
stop
Death:
TNT1 A 0
stop
}
}

actor BombForLaunch
{
-SOLID
+NOGRAVITY
+MISSILE
+DONTBLAST
+NOCLIP
+SKYEXPLODE
+FLOORHUGGER
speed 0
scale 2.5
Radius 16
Height 32
reactiontime 100
meleerange 40
states
{
Spawn:
BOMB A 0 A_ChangeFlag("MISSILE",0)
BOMB A 0 
BOMB A 0 //A_PlaySound("support/rushsummon")
BOMB A 1 A_JumpIf(z-floorz<=0, "Look")
Goto Spawn+4
Look:
BOMB A 0 A_ChangeFlag("NOCLIP",0)
BOMB AA 2
BOMB AAAAAA 1 A_Chase
BOMB A 0 A_CountDown
Goto Look+3
Melee:
BOMB A 1 A_JumpIfInTargetInventory("StrongSpring",1,"Melee2")
BOMB A 9 A_GiveToTarget("SpringActivate1a",1)
BOMB A 0 A_Die
Goto Death
Melee2:
BOMB A 10 A_GiveToTarget("SpringActivate2a",1)
BOMB A 0 A_Die
Goto Death
Death:
BOMB A 0 A_PlaySoundEx("weapon/hyperbomb", "Weapon")
BOMB A 0 A_Explode(30,100,0)
BOMB BCDEFGHIJKLMNOPQR 1
stop
}
}

actor SpringActivate1a : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
+AUTOACTIVATE
States
{
Spawn:
TNT1 A 1
loop
Use:
TNT1 A 1 A_Recoil(-64)
TNT1 A 1 ThrustThingZ(0, 56, 0, 0)
TNT1 A 1 A_TakeInventory("JumpCancler",1)
stop
}
}

actor SpringActivate2a : SpringActivate
{
States
{
Use:
TNT1 A 1 A_Recoil(-128)
TNT1 A 1 ThrustThingZ(0, 112, 0, 0)
TNT1 A 1 A_TakeInventory("JumpCancler",1)
stop
}
}

actor LightWallWep : BaseMM8BDMWep
{
Weapon.AmmoUse 28
Weapon.AmmoGive 28
Weapon.SlotNumber 1
scale 2.0
Obituary "%o was Repelled by %k's Light Screen"
Inventory.Pickupmessage "You got the Holy Buster!"
weapon.ammotype "LightEnergy"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.DONTBOB
+INVENTORY.UNDROPPABLE
States
{
Spawn:
KDSW A 1
stop
Ready:
LIBS A 0 ACS_ExecuteAlways(998,0,427)
LIBS A 0 A_TakeInventory("WeaponCharge",999)
LIBS A 4 A_WeaponReady
LIBS A 0 A_GiveInventory("LightEnergy",1)
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
LIBS A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
LIBS A 1 A_Raise
Loop
Fire:
LIBS B 0 A_JumpIfInventory("LightEnergy", 28, "Fire2")
LIBS B 4
goto Ready+1
Fire2:
LIBS B 0 A_JumpIfInventory("CantBeSummoned", 28, "NoAmmo")
LIBS B 0 A_PlaySoundEx("weapon/pshot","Weapon")
LIBS B 0 A_TakeInventory("LightEnergy",28)
LIBS B 0 A_SpawnItemEx("LightWall", 128,0,0)
LIBS B 0 A_GiveInventory("CantBeSummoned",1)
LIBS BC 4 
LIBS B 12 
LIBS B 0 A_Refire
goto Ready+1

AltFire:
LIBS A 0 A_PlaySoundEx("weapon/chargekick","Weapon")
LIBS A 0 SetPlayerProperty(0,1,0)
LIBS D 2 A_Recoil(-25)
LIBS D 2 //A_FireCustomMissile("LightKick",0,1,0,0)
LIBS E 8 SetPlayerProperty(0,0,0)
LIBS D 5
LIBS A 5
LIBS A 0 A_Refire
goto Ready+1
NoAmmo:
LIBS B 5
LIBS B 0 
goto Ready+2
}
}

actor LightWall
{
Obituary "%o was Repelled by %k's Light Screen"
PROJECTILE
+SOLID
+NODAMAGETHRUST
+FORCEYBILLBOARD
+NOBLOOD
+DONTBLAST
+DONTRIP
+NOGRAVITY
-NOBLOCKMAP
//+NOBLOCKMAP
damagetype "LightScreen"
mass 999999
radius 80
height 64
scale 4.5
reactiontime 35
Damage(0)
speed 0
States
{
Spawn:
TNT1 A 0 A_Explode(5,160,0)
LISH A 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH B 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH C 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH D 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH E 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH F 3 A_CountDown
TNT1 A 0 A_Explode(5,160,0)
LISH G 3 A_CountDown
loop
Death:
TNT1 A 0 A_TakeFromTarget("CantBeSummoned",1)
TNT1 A 1 A_Stop
TNT1 A 0 
stop
}
}



actor LightWallDamager
{
Obituary "%o was Repelled by %k's Light Screen"
+NOGRAVITY
PROJECTILE
damage 0
radius 1
height 1
damagetype "LightScreen"
States
{
Spawn:
TNT1 A 0 A_Explode(5,160,0)
TNT1 A 1 
stop
}
}

Actor CantBeSummoned : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor JunkShieldShot
{
PROJECTILE
Damage (0)
+RIPPER
+DONTBLAST
Height 10
Radius 21
scale 2.5
Speed 18
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Recoil(-100) // Distance
TNT1 A 0 A_SpawnItemEx("JunkShieldSegment")
stop
}
}

actor JunkShieldSegment
{
damagetype "Junk"
+MISSILE
+NOGRAVITY
-SOLID
+NOBLOOD
+DONTBLAST
Damage (2)
health 999
painchance 0
+RIPPER
+SHOOTABLE
Height 20
Radius 20
scale 2.5
Speed 0
States
{
Spawn:
JSHI V 2
stop
}
}

 