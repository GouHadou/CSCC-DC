actor RocketJumpWep : Base8BDMWeapon
{
Weapon.AmmoUse 2
Weapon.AmmoGive 28
Weapon.SlotNumber 3
Scale 2.0
Obituary "%o was caught in %k's Rocket Jump."
Inventory.Pickupmessage "Alice's Rocket Jump!"
weapon.ammotype "RJumpAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
+WEAPON.CHEATNOTWEAPON
inventory.icon "RJUMPI"
DropItem "ShadowBladeWep"
States
{
Spawn:
TNT1 A 1
stop
Ready:
ALBS A 0 ACS_ExecuteAlways(998,0,423)
ALBS A 20 A_WeaponReady
ALBS A 0 A_GiveInventory("RJumpAmmo", 1)
Goto Ready+1
Deselect:
ALBS A 0 A_SelectWeapon("ShurikenBuster")
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
ALBS A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
ALBS A 1 A_Raise
Loop
Fire:
ALBS A 0 A_JumpIfNoAmmo("NoAmmo")
ALBS A 0 A_PlaySoundEx("weapon/junkshield", "Weapon")
ALBS A 0 A_TakeInventory("RJumpAmmo",2)
ALBS A 0 SetPlayerProperty(0,1,0)
ALBS A 1 ThrustThingZ(0, 40, 0, 0)
ALBS A 0 A_Recoil(-10)
ALBS A 0 A_PlaySoundEx("weapon/drillexplode", "Weapon")
ALBS E 5 A_SpawnItemEx ("RocketThrust", 0, 0, 0, 0, 0, 0, 0)
ALBS F 1 SetPlayerProperty(0,0,0)
ALBS A 2
ALBS A 0 A_Refire
Goto Ready+1
AltHold:
AltFire:
RJMP B 0 A_JumpIfNoAmmo("NoAmmo")
RJMP B 0 A_JumpIfInventory("RJumpAmmo",1,"Bomb77")
goto NoAmmo
Bomb77:
RJMP C 0 A_JumpIfNoAmmo("NoAmmo")
RJMP C 0 A_TakeInventory("RJumpAmmo",1)
RJMP C 0 SetPlayerProperty(0,1,0)
RJMP C 1 A_ChangeVelocity(35,0,momz,CVF_RELATIVE|CVF_REPLACE)
RJMP C 0 A_PlaySoundEx("weapon/drillexplode", "Weapon")
RJMP B 5 A_SpawnItemEx ("RocketThrust", 0, 0, 0, 0, 0, 0, 0)
RJMP A 1 SetPlayerProperty(0,0,0)
RJMP B 1
RJMP C 0 A_Refire
Goto Ready+1

NoAmmo:
ALBS E 1 ACS_Execute(979,0)
Goto Ready+1
}
}

actor RJumpAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor RocketThrust
{
Speed 0
Damage (0)
damagetype "NapalmBomb"
Scale 2.5
Height 0
Radius 0
+NOGRAVITY
+DONTBLAST
-SOLID
States
{
Spawn:
NAPA EFGHIJKL 2
NAPA MNOPQRS 2
stop
}
}