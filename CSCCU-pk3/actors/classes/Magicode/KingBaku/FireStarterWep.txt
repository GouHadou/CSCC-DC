actor FireStarterWep : MegaBuster
{
Weapon.AmmoUse 0
Weapon.AmmoUse2 0
Weapon.AmmoGive 0
Weapon.AmmoGive2 0
Weapon.SlotNumber 1
Obituary "%k lit a fire but instead of using fire wood they used %o."
weapon.ammotype "FireStarterAmmo"
weapon.ammotype2 "BombJumperAmmo"
inventory.pickupsound "weapon/weaponup"
+WEAPON.AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
inventory.icon "FRSTI0"
Scale 2.0
Tag "Fire Starter"
States
{
Spawn:
FRST I 1
loop
Ready:
FKKB A 0 ACS_ExecuteAlways(998,0,774)
FKKB A 0 A_Gunflash
FKKB A 0 A_JumpIfInventory("User1_Trigger",1,"BombJump")
FKKB A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 A 0 A_TakeInventory("FSActive",999)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 0 A_TakeInventory("FireStarterAmmo",2)
TNT1 A 0 A_TakeInventory("CyberPackAmmo",2)
TNT1 A 0 A_TakeInventory("BombJumperAmmo",2)
TNT1 A 0 A_TakeInventory("MagicPackAmmo",2)
FKKB A 1 A_Lower
goto Deselect+1
Select:
TNT1 A 0 A_GiveInventory("FSActive",1)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
FKKB A 1 A_Raise
goto Select+1
Fire:
FKKB D 0 A_JumpIfInventory("SmashFlag",1,"FinalSmash")
FKKB D 0 A_JumpIfInventory("FireStarterAmmo",56,"SpiralSpewerUse")
FKKB D 0 A_PlaySoundEX("weapon/BNBombToss","Weapon")
FKKB D 0 A_FireCustomMissile("LavaRollerResidue",0,0,8,0)
FKKB D 2
FKKB C 2
FKKB B 2
FKKB A 2
Goto Ready+1
LavaRollerUse:
FKKB D 0 A_TakeInventory("FireStarterAmmo",112)
FKKB D 0 A_PlaySoundEx("weapon/BNBombToss","Weapon")
FKKB D 0 A_FireCustomMissile("LavaRoller",0,0,8,0)
FKKB D 2
FKKB C 2
FKKB B 2
FKKB A 10
Goto Ready+1
Altfire:
FKKB A 0 A_JumpIfNoAmmo("NoAmmo")
FKKB A 0 A_JumpIfInventory("FireStarterAmmo",112,"LavaRollerUse")
FKKB B 1
goto Ready+1
SpiralSpewerUse:
FKKB D 0 A_PlaySoundEX("weapon/BNBombToss","Weapon")
FKKB D 0 A_TakeInventory("FireStarterAmmo",56,0)
FKKB D 0 A_FireCustomMissile("SpiralSpewer",0,0,8,0)
FKKB D 2
FKKB C 2
FKKB B 2
FKKB A 6
goto Ready+1
FinalSmash:
FKKB B 25 A_PlaySoundEx("baku/finalsmash1","Voice")
FKKB D 0 A_FireCustomMissile("ClusterFuckBomb",random(-5,5),0,8,0,0,random(-5,5))
FKKB D 0 A_TakeInventory("SmashFlag",999)
FKKB D 2
FKKB C 2
FKKB B 2
FKKB A 14
goto Ready+1
BombJump:
TNT1 A 0
FKKB A 1
FKKB A 0 A_JumpIfInventory("BombJumperAmmo",300,"BombJumpUse")
FKKB A 0 A_Giveinventory("InputClearer")
goto NoAmmo
BombJumpUse:
FKKB A 0
FKKB A 0 A_TakeInventory("BombJumperAmmo",999)
FKKB A 0 A_PlaySoundEx("weapon/hyperbomb", "Weapon")
FKKB A 0 A_SpawnItemEX("BombJumpBoom")
FKKB A 0 A_ChangeVelocity(17,0,17,CVF_RELATIVE|CVF_REPLACE)
FKKB A 0 A_Recoil(-20)
FKKB A 0 A_Giveinventory("InputClearer")
FKKB A 1
goto Ready+1
Flash:
TNT1 A 0
TNT1 A 1
TNT1 A 0 A_GiveInventory("FireStarterAmmo",1)
TNT1 A 0 A_GiveInventory("CyberPackAmmo",1)
TNT1 A 0 A_GiveInventory("BombJumperAmmo",1)
TNT1 A 0 A_GiveInventory("MagicPackAmmo",1)
TNT1 A 39
loop
NoAmmo:
FKKB A 0 ACS_Execute(979,0)
Goto Ready+1
}
}

actor FireStarterAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 224
}

actor BombJumperAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 300
}


Actor BakuFireProtect : PowerProtection
{
PowerUp.Duration 10
DamageFactor "BakuFire", 0
}

Actor BakuFire2Protect : PowerProtection
{
PowerUp.Duration 4
DamageFactor "BakuFire2", 0
}

actor LavaRoller
{
PROJECTILE
Radius 4
Height 4
scale 2
damagetype "BakuFire2"
Obituary "%o was slathered in %k's Lava Roller, \crTOASTY!"
damage (20)
-NOGRAVITY
speed 50
+EXPLODEONWATER
+Ripper
States
{
Spawn:
FIRE D 1
loop
Death:
TNT1 A 1 A_Stop
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TNT1 A 0 A_PlaySoundEx("weapon/firestorm", "Weapon")
TNT1 A 0 A_JumpIf(ceilingz-z<16,"DeathUp")
TNT1 A 0 A_SpawnItemEX("LavaRollerGround",0,0,0,15,0,0,0)
stop
DeathUp:
TNT1 A 0
TNT1 A 1 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-16,0,0,random(-1,-10),random(-5,-20),random(0,359))
stop
}
}

actor LavaRollerResidue // : MaceFX1
{
PROJECTILE
Damage (2)
Height 5
Radius 6
damagetype "BakuFire"
Obituary "%o was burned up by %k's Lava Roller residue... bless their soul."
+DONTBLAST
-NOGRAVITY
+Ripper
Scale 2.5
speed 28
States
{
Spawn:
FLMB H 0
FLMB H 4 A_CheckFloor("Death")
Loop
XDeath:
Crash:
FLMB H 0
stop
Death:
FLMB H 0 A_JumpIf(CeilingZ - FloorZ <=48 , "FireCheckOnly")
FLMB H 0 A_CheckFloor("Floor")
FLMB H 0 A_JumpIf(CeilingZ-Z < 8, "Floor")
Goto Wall
Wall:
FLMB H 0 A_SpawnItemEx("ResidueWallPillar",-24,0,0)
stop
Floor:
FLMB H 0 A_SpawnItemEx("LavaRollerPillar",0,0,0)
stop
FireCheckOnly:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,-16)
stop
}
}

actor ResidueWallPillar
{
PROJECTILE
+DONTBLAST
+RIPPER
Scale 3.5
Height 5
damagetype "BakuFire"
Obituary "%o died a rare death of %k's Lava Roller residue on the wall, the hell's wrong with you man!?"
Speed 0
Radius 16
Damage (8)
ReactionTime 10
States
{
Spawn:
FLMB I 0
TNT1 A 0 A_CountDown
FLMB IJKLMNONONONONO 1 
loop
Death:
FLMB A 0 
stop
}
}

actor LavaRollerPillar
{
PROJECTILE
-MISSILE
+DONTBLAST
+RIPPER
Scale 3.5
-NOGRAVITY
+NOEXPLODEFLOOR
Height 48
damagetype "BakuFire"
Obituary "%o was slathered in %k's Lava Roller, \crTOASTY!"
Speed 0
Radius 10
Damage (10)
ReactionTime 10
States
{
Spawn:
FLMB H 0 
FLMB H 0 A_ChangeFlag("MISSILE",1)
FLMB H 1 A_CheckFloor("Flame")
Goto Spawn+2
Flame:
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
FLMB A 0 A_ChangeFlag("FLOORHUGGER",1)
TNT1 A 0 A_CountDown
FLMB ABCDEFGFGFGFGFG 1 
loop
Death:
FLMB A 0 
stop
}
}

actor LavaRollerGround // : MaceFX1
{
PROJECTILE
-NOGRAVITY
+DONTBLAST
+RIPPER
//+NOEXPLODEFLOOR
Damage (8)
damagetype "BakuFire2"
Obituary "%o found out what getting ran over by lava felt like thanks to %k's lava roller."
Height 5
Radius 6
Scale 2.5
Speed 15
ReactionTime 15
States
{
Spawn:
TNT1 A 0
FIRT AAA 1
FIRT A 0 A_SpawnItemEX("LavaRollerPillar",random(-10,10),0,random(0,-5),0,0,0,0)
FIRT BBB 1
FIRT B 0 A_SpawnItemEX("LavaRollerPillar",random(-10,10),0,random(0,-5),0,0,0,0)
FIRT CCC 1
FIRT C 0 A_SpawnItemEX("LavaRollerPillar",random(-10,10),0,random(0,-5),0,0,0,0)
FIRT C 0 A_CountDown
Loop
Death:
TNT1 A 0
TNT1 A 1 A_Stop
TNT1 A 0 A_PlaySoundEx("misc/mm3explosion", "Weapon")
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(1,10),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(1,10),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(5,15),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(10,20),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(10,20),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(1,10),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(1,10),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(5,15),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(10,20),random(0,359))
TNT1 A 0 A_SpawnItemEX("LavaRollerResidue",0,-10,0,0,random(1,20),random(10,20),random(0,359))
TNT1 A 0 A_Explode(15,128,0)
ASEX ABCDEF 2
stop
}
}

actor SpiralSpewer
{
PROJECTILE
Radius 4
Height 4
scale 2
damagetype "BakuFire2"
Obituary "%o was emberassed by %k's 1 damage projectile."
damage (1)
-NOGRAVITY
speed 50
+EXPLODEONWATER
Translation "64:64=177:177", "62:62=47:47"
States
{
Spawn:
BALA ABCD 3
loop
Death:
TNT1 A 1 A_Stop
TNT1 A 0 A_SpawnItemEx("OilPitIgnite",0,0,8)
TNT1 A 0 A_PlaySoundEx("baku/baku1", "Weapon")
TNT1 A 0 A_SpawnItemEX("SpiralSpawner",0,0,0)
stop
}
}

Actor SpiralSpawner
{
Projectile
Radius 1
Height 1
Scale 2.5
var int user_SpewedSpiraldist;
damagetype "BakuFire"
obituary "How the fuck did %o die to a spawner?"
damage (0)
+RIPPER
Speed 0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_SpewedSpiraldist",40)
Spawn2:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("CutterFlag",20,"Death")
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,60,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,120,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,180,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,240,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("SpewedSpiral",user_SpewedSpiraldist,8,0,0,0,0,300,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SetUserVar("user_SpewedSpiraldist",user_SpewedSpiraldist+5)
TNT1 A 1 A_SetAngle(angle+10.0)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
loop
Death:
TNT1 A 0
stop
}
}

actor SpewedSpiral
{
PROJECTILE
+DONTBLAST
damagetype "BakuFire"
Obituary "%k commited arson all over %o's body using Spiral Spewer."
Radius 12
Height 14
scale 5
+RIPPER
damage (12)
speed 10
States
{
Spawn:
FSTA B 0
FSTA BCD 2 A_FadeOut(0.5)
goto Death
Death:
TNT1 A 1 A_SpawnItemEx("OilPitIgnite",0,0,8)
stop
}
}

actor BombJumperItem : CustomInventory
{
inventory.amount 1
//Inventory.RespawnTics 350
inventory.maxamount 1
inventory.pickupmessage "How the hell did you do this"
inventory.icon "KBBJI0"
Inventory.PickupSound "item/1up"
+INVBAR
+COUNTITEM
scale 2.0
States
{
Spawn:
KBBJ I 0 
KBBJ I 1
Goto Spawn+2
Use:
EBAL E 0 A_JumpIfInventory("BombJumperAmmo",300,"Success")
fail
Success:
WEAP H 0 A_GiveInventory("BombJumpAnim")
WEAP H 0 A_GiveInventory("BombJumperFlag",1)
fail
Death:
TNT1 A 0
stop
}
}

Actor BombJumpAnim : Inventory {Inventory.MaxAmount 1}

Actor BombJumperFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.IGNORESKILL
}

Actor BombJumpBoom
{
Projectile
Radius 1
Height 1
Scale 3.5
damagetype "HyperBomb"
obituary "%k bomb jumped and %o's dumbass thought it'd be a good idea to get in the way."
damage (0)
+RIPPER
Speed 0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEX("baku/baku1","Weapon")
TNT1 A 0 A_Explode(25,128,0)
BEXP ABCDEFG 2
stop
Death:
TNT1 A 0
stop
}
}

actor ClusterFuckBomb
{
PROJECTILE
Radius 4
Height 4
scale 3
damagetype "HyperBomb"
Obituary "How?"
damage (0)
-NoGravity
+HEXENBOUNCE
+CANBOUNCEWATER
+FORCEXYBILLBOARD
speed 40
Bouncefactor 0.7
Reactiontime 35
States
{
Spawn:
KBCL A 1
KBCL A 0 A_CountDown
loop
Death:
TNT1 A 0 A_Stop
TNT1 A 0 A_SpawnItemEX("AClusterFuck")
stop
}
}

actor AClusterFuck
{
PROJECTILE
+NOTARGETSWITCH
+FORCEXYBILLBOARD
+RIPPER
+NOCLIP
Obituary "%o was vaporized by %k's Royal Warhead."
Radius 40
Height 40
Scale 2.5
Damage(0)
Damagetype "HyperBomb"
Speed 0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("CutterFlag",20,"Death")
TNT1 A 0 A_PlaySoundEX("baku/baku1","Weapon")
TNT1 A 0 A_SpawnItemEx("ClusterBoom",random(-128,128),random(-128,128),random(-128,128),0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 0 A_SpawnItemEx("ClusterBoom",random(-128,128),random(-128,128),random(-128,128),0,0,0,0,SXF_NOCHECKPOSITION)
TNT1 A 4
TNT1 A 0 A_Jump(256,"Spiraler","XPlode","LavaRoller","LiteCluster","EnergyRain")
loop
Spiraler:
TNT1 A 1 A_SpawnItemEX("SpiralSpewer",0,0,0,random(1,30),0,random(5,15),random(0,180))
TNT1 A 0 A_SpawnItemEX("SpiralSpewer",0,0,0,random(1,30),0,random(5,15),random(181,359))
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
XPlode:
TNT1 A 1 A_SpawnItemEX("Xploder",0,0,0,random(1,30),0,random(5,15),random(0,180))
TNT1 A 0 A_SpawnItemEX("Xploder",0,0,0,random(1,30),0,random(5,15),random(181,359))
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
LavaRoller:
TNT1 A 1 A_SpawnItemEX("LavaRoller",0,0,0,random(1,30),0,random(5,15),random(0,180))
TNT1 A 0 A_SpawnItemEX("LavaRoller",0,0,0,random(1,30),0,random(5,15),random(181,359))
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
LiteCluster:
TNT1 A 1 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(20,40),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(-40,-20),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(20,40),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(-40,-20),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(20,40),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(-40,-20),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(20,40),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(-40,-20),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(20,40),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(-40,-20),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(20,40),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(-40,-20),random(0,180))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(20,40),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(20,40),random(-40,-20),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(20,40),random(181,359))
TNT1 A 0 A_SpawnItemEX("MiniCluster",0,0,0,0,random(-40,-20),random(-40,-20),random(181,359))
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
EnergyRain:
TNT1 A 1 A_SpawnItemEX("StormCapsule",0,0,0,0,15,0,random(0,359))
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
Death:
TNT1 A 0
stop
}
}


Actor ClusterBoom : BasicExplosion//TestExplosion
{
Obituary "%o was vaporized by %k's Royal Warhead."
Damage(0)
Scale 4.0
States
{
Spawn:
TNT1 A 0
BEXP A 0 A_PlaySoundEx("misc/mm3explosion","Weapon")
BEXP A 0 A_Explode(13,350,0,0,350)
BEXP ABCDEFG 2
stop
}
}