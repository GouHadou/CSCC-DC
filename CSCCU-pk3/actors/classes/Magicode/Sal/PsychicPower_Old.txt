//Mainfire no longer uses ammo on PsychicPower
//Mainfire on PsychicPower slightly altered.

actor PsychicPower : MegaBuster
{
Weapon.AmmoUse 5
Weapon.AmmoGive 0
Weapon.SlotNumber 1
inventory.pickupmessage "\ctMay your mind be sharp..."
inventory.pickupsound "weapon/weaponup"
Obituary "%o's mind got crushed by %k."
weapon.ammotype "PsychicEnergy"
+WEAPON.AMMO_OPTIONAL
+INVENTORY.UNDROPPABLE
+WEAPON.CHEATNOTWEAPON
Tag "Psychic Form (Swift/Psyshock/Feint Attack)"
inventory.icon "FATKA0"
Scale 2.0
States
{
Spawn:
WEAP X 1
loop
Ready:
SHUD A 0 A_JumpIfInventory("StarActive",1,1)
SHUD A 0 ACS_ExecuteAlways(998,0,504)
SHUD A 0 A_GunFlash
SHUD A 10 A_WeaponReady
SHUD AA 1 A_WeaponReady
//SHUD A 0 A_JumpIfInventory("User1_Trigger",1,"AmmoCheck")
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
Goto Ready+4
Deselect:
TNT1 A 0 A_TakeInventory("User1_Trigger",999)
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
SHUD A 1 A_Lower
goto Deselect+1
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SHUD A 1 A_Raise
Loop
Fire:
SHUD A 0 A_JumpIfInventory("UpgradeSphereFlag",1,"UpgradeFireStateCheck")
SHUD A 0 A_JumpIfInventory("SmashFlag",1,"VoidFall")
SHUD BC 2
goto Hold
Hold:
SHUD A 0 A_JumpIfInventory("UpgradeFire",3,"Hold4")
SHUD A 0 A_JumpIfInventory("UpgradeFire",2,"Hold3")
SHUD A 0 A_JumpIfInventory("UpgradeFire",1,"Hold2")
SHUD C 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 0 A_FireCustomMissile("MainSwiftMagicStar",0,0,8,0)
SHUD C 3 A_FireCustomMissile("SwiftMagicStar",random(-4,4),0,8,0,0,random(-4,4))
SHUD C 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD C 0 A_GiveInventory("PsychicEnergy",2) //so you get a passive charge while firing since you aren't in ready state.
SHUD A 0 A_Refire("Hold")
SHUD CB 4
Goto Ready+4
Hold2:
SHUD C 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 0 A_FireCustomMissile("MainSwiftMagicStarX",0,0,8,0)
SHUD C 3 A_FireCustomMissile("SwiftMagicStar",random(-4,4),0,8,0,0,random(-4,4))
SHUD C 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD C 0 A_GiveInventory("PsychicEnergy",2)
SHUD A 0 A_Refire("Hold2")
SHUD CB 4
Goto Ready+4
Hold3:
SHUD C 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 0 A_FireCustomMissile("MainSwiftMagicStarX",0,0,8,0)
SHUD C 3 A_FireCustomMissile("SwiftMagicStarX",random(-4,4),0,8,0,0,random(-4,4))
SHUD C 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD C 0 A_GiveInventory("PsychicEnergy",2)
SHUD A 0 A_Refire("Hold3")
SHUD CB 4
Goto Ready+4
Hold4:
SHUD C 0 A_JumpIfInventory("KnightFlag",11,"Hold4EX")
SHUD C 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 0 A_FireCustomMissile("MainSwiftMagicStarX",0,0,8,0)
SHUD C 3 A_FireCustomMissile("SwiftMagicStarX",random(-4,4),0,8,0,0,random(-4,4))
SHUD C 0 A_GiveInventory("KnightFlag",1)
SHUD C 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD C 0 A_GiveInventory("PsychicEnergy",2)
SHUD A 0 A_Refire("Hold4")
SHUD A 0 A_TakeInventory("KnightFlag",999)
SHUD CB 4
Goto Ready+4
Hold4EX:
SHUD C 0 A_TakeInventory("KnightFlag",999)
SHUD C 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 0 A_FireCustomMissile("MainSwiftMagicStarX",0,0,8,0)
SHUD C 0 A_FireCustomMissile("SwiftMagicStarXX",-5,0,8,0)
SHUD C 0 A_FireCustomMissile("SwiftMagicStarXX",5,0,8,0)
SHUD C 3 A_FireCustomMissile("SwiftMagicStarX",random(-4,4),0,8,0,0,random(-4,4))
SHUD C 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD C 0 A_GiveInventory("PsychicEnergy",2)
SHUD A 0 A_Refire("Hold4")
SHUD CB 4
Goto Ready+4
UpgradeFireStateCheck:
SHUD A 0 A_JumpIfInventory("UpgradeFire",3,"UpgradeFireRedirect")
goto UpgradeFireState
UpgradeFireRedirect:
goto Fire+2
UpgradeFireState:
SHUD A 0 A_JumpIfInventory("UpgradeFire",3,"NoAmmo2")
SHUD A 0 A_JumpIfInventory("UpgradeFire",2,"UpgradeFireState3")
SHUD A 0 A_JumpIfInventory("UpgradeFire",1,"UpgradeFireState2")
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeFire",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,1)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
UpgradeFireState2:
SHUD A 0 A_JumpIfInventory("UpgradeFire",3,"NoAmmo2")
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeFire",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
UpgradeFireState3:
SHUD A 0 A_JumpIfInventory("UpgradeFire",3,"NoAmmo2")
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeFire",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,3)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
Flash:
TNT1 A 0 A_GiveInventory("SalHPChecker",1)
TNT1 A 0 A_JumpIfInventory("IsDead",1,"FlashStop")
TNT1 AAA 1 A_JumpIfInventory("SalCarryFlag",1,"CarryFlash")
//TNT1 A 0 A_GiveInventory("FeintAttackEnergy",2)
loop
CarryFlash:
SHUD A 0 A_GiveInventory("SalHPChecker",1)
SHUD A 0 A_JumpIfInventory("IsDead",1,"FlashStop")
SPSY HHI 1
//SPSY A 0 A_GiveInventory("FeintAttackEnergy",2)
SHUD A 0 A_JumpIfInventory("SalCarryFlag",1,1)
goto CarryStop
SHUD A 0 A_GiveInventory("SalHPChecker",1)
SHUD A 0 A_JumpIfInventory("IsDead",1,"FlashStop")
SPSY IJJ 1
//SPSY A 0 A_GiveInventory("FeintAttackEnergy",2)
SHUD A 0 A_JumpIfInventory("SalCarryFlag",1,"CarryFlash")
goto CarryStop
CarryStop:
SHUD A 0 A_JumpIfInventory("IsDead",1,"FlashStop")
SHUD A 0 A_GiveInventory("SalHPChecker",1)
//SPSY A 0 A_GiveInventory("FeintAttackEnergy",2)
SPSY BCD 1
SHUD A 0 A_JumpIfInventory("IsDead",1,"FlashStop")
SHUD A 0 A_GiveInventory("SalHPChecker",1)
//SPSY A 0 A_GiveInventory("FeintAttackEnergy",2)
SPSY EFG 1
goto Flash
FlashStop:
TNT1 A 1
stop
Altfire:
SHUD A 0 A_JumpIfInventory("UpgradeSphereFlag",1,"UpgradeAltStateCheck")
SHUD A 0 A_JumpIfInventory("KamikazeFlag",1,"KamikazeYeet")
SHUD A 0 A_JumpIfInventory("BDroneFlag",1,"BDroneMissile")
SHUD A 0 A_JumpIfInventory("KLaserFlag",1,"KLaserShot")
SHUD A 0 A_JumpIfInventory("QuickieFlag",1,"YellowFoeBoost")
SHUD A 0 A_JumpIfInventory("ScuttleBlueFlag",1,"YeetThatBlueBug")
SHUD A 0 A_JumpIfInventory("DevionPowerupItem",1,"DevionFistCheck")
SHUD A 0 A_JumpIfInventory("UpgradeAlt",2,"AltfireXXCheck")
SHUD A 0 A_JumpIfInventory("UpgradeAlt",1,"AltfireX")
goto AltfireRope
AltfireXXCheck:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",300,"AltfireXX")
goto AltfireX
AltfireRope:
SHUD B 2
SHUD C 40 A_FireCustomMissile("PsychicRope",0,0,8,0)
SHUD B 2
SHUD A 0 A_Refire
goto Ready+4
UpgradeAltStateCheck:
SHUD A 0 A_JumpIfInventory("UpgradeAlt",3,"UpgradeAltRedirect")
goto UpgradeAltState
UpgradeAltRedirect:
goto Altfire+1
UpgradeAltState:
SHUD A 0 A_JumpIfInventory("UpgradeAlt",3,"NoAmmo2")
SHUD A 0 A_JumpIfInventory("UpgradeAlt",2,"UpgradeAltState3")
SHUD A 0 A_JumpIfInventory("UpgradeAlt",1,"UpgradeAltState2")
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeAlt",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,4)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
UpgradeAltState2:
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeAlt",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,5)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
UpgradeAltState3:
SHUD B 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD B 0 A_GiveInventory("UpgradeAlt",1)
SHUD B 0 A_TakeInventory("UpgradeSphereFlag",999)
SHUD B 0 A_PlaySoundEx("FORMUP","Weapon")
SHUD B 0 ACS_ExecuteAlways(736,0,6)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD F 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD I 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
SHUD L 2
SHUD A 0 A_GiveInventory("PsychicEnergy",3)
SHUD A 0 A_GiveInventory("ShadowBeamEnergy",1)
SHUD A 0 A_GiveInventory("DarkEnergy",2)
goto Ready+4
AltfireX:
SHUD B 0 A_JumpIfInventory("UpgradeAlt",3,"AltfireXXX")
SHUD B 2
SHUD C 40 A_FireCustomMissile("PsychicRopeX",0,0,8,0)
SHUD B 2
SHUD A 0 A_Refire
goto Ready+4
AltfireXX:
SHUD B 2 A_TakeInventory("PsychicEnergy",300)
SHUD C 40 A_FireCustomMissile("PsychicBlast",0,0,8,0)
SHUD B 2
SHUD A 0 A_Refire
goto Ready+4
AltfireXXX:
SHUD B 2
SHUD C 40 A_FireCustomMissile("PsychicRopeXX",0,0,8,0)
SHUD B 2
SHUD A 0 A_Refire
goto Ready+4
BDroneMissile:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",75,"BDroneSuccess")
goto NoAmmo2
BDroneSuccess:
SHUD KL 2
SHUD K 0 A_TakeInventory("PsychicEnergy",75)
SHUD F 0 A_FireCustomMissile("BallisticsMissileS",0,0,8,0)
SHUD FILFIL 2
SHUD F 0 A_FireCustomMissile("BallisticsMissileS",0,0,8,0)
SHUD FILFIL 2
SHUD A 0 A_JumpIfInventory("PsychicEnergy",75,"BDroneDirect")
goto BDroneFinish
BDroneDirect:
goto BDroneSuccess+2
BDroneFinish:
SHUD CB 2
SHUD FI 3
SHUD L 8
SHUD L 0 A_PlaySoundEx("CUTAR","Weapon")
SHUD L 0 A_FireCustomMissile("BDroneFakeDeathFX",0,0,-30,12)
SHUD L 0 A_TakeInventory("SalCarryFlag",999)
SHUD L 10 A_TakeInventory("BDroneFlag",999)
SHUD CB 2
goto Ready+4
KamikazeYeet:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",200,"KamikazeSuccess")
goto NoAmmo2
KamikazeSuccess:
SHUD KL 2
SHUD K 0 A_TakeInventory("PsychicEnergy",200)
SHUD FILFI 2
SHUD L 0 A_TakeInventory("SalCarryFlag",999)
SHUD L 0 A_TakeInventory("KamikazeFlag",999)
SHUD L 0 A_PlaySoundEx("CUTAR","Weapon")
SHUD F 0 A_FireCustomMissile("KamikazeBodyShot",0,0,-30,16,0,0)
SHUD L 20
SHUD CB 2
goto Ready+4
KLaserShot:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",200,"KLaserSuccess")
goto NoAmmo2
KLaserSuccess:
SHUD KL 2
SHUD K 0 A_TakeInventory("PsychicEnergy",200)
SHUD FILFI 2
SHUD L 20 A_FireCustomMissile("PsybeamMain",0,0,8,0)
SHUD CB 2
SHUD FI 3
SHUD L 8
SHUD L 0 A_PlaySoundEx("CUTAR","Weapon")
SHUD L 0 A_FireCustomMissile("LaserBallFakeDeathFX",0,0,-20,12)
SHUD L 0 A_TakeInventory("SalCarryFlag",999)
SHUD L 0 A_TakeInventory("KLaserFlag",999)
SHUD CB 2
goto Ready+4
YellowFoeBoost:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",300,"YFoeSuccess")
goto NoAmmo2
YFoeSuccess:
SHUD K 2
SHUD K 0 A_TakeInventory("PsychicEnergy",300)
SHUD LFI 3
SHUD L 0 A_PlaySoundEx("weapon/gravityhold","Weapon")
SHUD L 0 A_GiveInventory("YellowFoeSpeedBoost",1)
SHUD L 20 A_GiveInventory("YellowFoeWepSpeed",1)
SHUD FI 3
SHUD L 0 A_TakeInventory("SalCarryFlag",999)
SHUD L 0 A_TakeInventory("QuickieFlag",999)
SHUD L 0 A_PlaySoundEx("CUTAR","Weapon")
SHUD L 15 A_FireCustomMissile("YellowFoeFakeDeathFX",0,0,-25,16,0,0) 
SHUD CB 2
goto Ready+4
YeetThatBlueBug:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",200,"BlueBugSuccess")
goto NoAmmo2
BlueBugSuccess:
SHUD KL 2
SHUD K 0 A_TakeInventory("PsychicEnergy",200)
SHUD FI 2
SHUD L 0 A_TakeInventory("SalCarryFlag",999)
SHUD L 0 A_TakeInventory("ScuttleBlueFlag",999)
SHUD L 0 A_PlaySoundEx("CUTAR","Weapon")
SHUD L 20 A_FireCustomMissile("ScuttleBlueBodyShot",0,0,-25,16,0,0)
SHUD CB 2
goto Ready+4
DevionFistCheck:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",6,1)
goto NoAmmo2
DevionFists:
SHUD FI 2
FistHold1:
SHUD A 0 A_JumpIfInventory("PsychicEnergy",6,1)
goto NoAmmo2
SHUD L 0 A_TakeInventory("PsychicEnergy",6)
SHUD L 0 A_PlaySoundEx("devion/punch1","Weapon")
SHUD LLL 1 A_FireCustomMissile("DevionPunch",0,0,random(-35,35),random(-25,25),0,0)
SHUD L 0 A_Refire("FistHold2")
SHUD CB 2
Goto Ready+4
FistHold2:
SHUD L 0 A_JumpIfInventory("PsychicEnergy",6,1)
goto NoAmmo2
SHUD L 0 A_PlaySoundEx("devion/punch2","Weapon")
SHUD L 0 A_TakeInventory("PsychicEnergy",6)
SHUD LLL 1 A_FireCustomMissile("DevionPunch",0,0,random(-35,35),random(-25,25),0,0)
SHUD A 0 A_Refire("FistHold1")
SHUD CB 2
Goto Ready+4
FAttack:
//SHUD A 0 A_TakeInventory("FeintAttackEnergy",999)
//SHUD A 0 SetPlayerProperty(0,1,0)
//SHUD A 0 A_ChangeFlag("SHOOTABLE",0)
SHUD A 0 A_PlaySoundEx("pokemon/feintattack","Weapon")
SHUD A 1 A_SetTranslucent(0.8)
SHUD A 1 A_SetTranslucent(0.6)
SHUD A 1 A_SetTranslucent(0.4)
SHUD A 1 A_SetTranslucent(0.2)
SHUD A 1 A_SetTranslucent(0.0)
SHUD A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,1)
SHUD BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB 0 A_SpawnItemEx("SBallDeathFX",0,0,16,random(-10,10),random(-10,10),random(-10,10))
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD B 0 A_SpawnItemEx("FeintAttackDamager",0,0,16)
SHUD B 2 A_ChangeVelocity(cos(pitch)*15,0,-sin(pitch)*15,CVF_RELATIVE)
SHUD BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB 0 A_SpawnItemEx("SBallDeathFX",0,0,16,random(-10,10),random(-10,10),random(-10,10))
SHUD B 0 A_PlaySoundEx("misc/mm3explosion","Weapon")
SHUD B 1 A_SetTranslucent(0.2)
SHUD B 1 A_SetTranslucent(0.4)
SHUD B 1 A_SetTranslucent(0.6)
SHUD B 1 A_SetTranslucent(0.8)
SHUD B 1 A_SetTranslucent(1.0)
SHUD B 0 A_Stop
SHUD B 0 A_SpawnItemEx("FeintAttackBigDamager",0,0,16)
//SHUD B 0 SetPlayerProperty(0,0,0)
SHUD B 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
SHUD B 10 A_TakeInventory("User1_Trigger",999)
goto Ready+4
VoidFall:
SHUD A 0 A_TakeInventory("SmashFlag",999)
//SHUD A 0 SetPlayerProperty(0,1,0)
//SHUD A 0 SetPlayerProperty(0,2,5)
SHUD A 0 A_SpawnItemEx("StarFallSpawner",0,0,40,0,0,70)
SHUD A 25 A_PlaySoundEx("misc/elementsfx","Weapon")
SHUD JK 3
SHUD L 20
SHUD K 3
SHUD J 25
SHUD KL 3
SHUD L 60 A_FireCustomMissile("VoidStormSpawner",0,0,8,0)
SHUD C 3 SetPlayerProperty(0,0,0)
SHUD B 3 SetPlayerProperty(0,0,4)
SHUD A 5
goto Ready+4
NoAmmo:
SHUD A 0 A_PlaySoundEx("misc/swift","Weapon")
SHUD C 7 A_FireCustomMissile("SwiftMagicStar",random(-8,8),0,8,0,0,random(-8,8))
SHUD A 0 A_Refire
SHUD CB 2
goto Ready+4
NoAmmo2:
SHUD A 1 ACS_Execute(979,0)
goto Ready+4
}
}

actor PsybeamEnergy : Ammo
{
inventory.amount 1
inventory.maxamount 200
+INVENTORY.IGNORESKILL
}

actor FiringBeamFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1
+INVENTORY.IGNORESKILL
}

actor PsychicEnergy : Ammo
{
inventory.amount 1
inventory.maxamount 300
}

actor SwiftMagicStar
{
PROJECTILE
Translation "220:223=253:253", "209:215=237:237"
Radius 10 //9
Height 10 //9
Damage(2) //15
Damagetype "Swift"
Obituary "%o saw %k's stars in their eyes."
scale 1.5
Speed 55
States
{
Spawn:
KIRC A 0
KIRC ABCD 2 A_SpawnItemEx("SwiftMagicStarFX")
loop
Death:
TNT1 A 0
stop
}
}

actor SwiftMagicStarX : SwiftMagicStar
{
+SCREENSEEKER
+SEEKERMISSILE
Speed 40
Translation "220:223=178:178", "209:215=180:180"
Reactiontime 40
States
{
Spawn:
KIRC A 0
KIRC AB 2 A_SpawnItemEx("SwiftMagicStarFX3")
KIRC A 0 A_SeekerMissile(10,15,SMF_LOOK,128,10)
KIRC CD 2 A_SpawnItemEx("SwiftMagicStarFX3")
KIRC A 0 A_SeekerMissile(10,15,SMF_LOOK,128,10)
KIRC A 0 A_Countdown
goto Spawn+2
}
}

actor SwiftMagicStarXX : SwiftMagicStar
{
+FOILINVUL
+BRIGHT
Renderstyle "Add"
Alpha 0.7
Speed 18
Damage(10)
Translation "220:223=110:110", "209:215=111:111"
States
{
Spawn:
KIRC A 0
KIRC AB 2 A_SpawnItemEx("SwiftMagicStarFX4",-8,0,0)
KIRC A 0 A_ScaleVelocity(1.1)
KIRC CD 2 A_SpawnItemEx("SwiftMagicStarFX4",-8,0,0)
KIRC A 0 A_ScaleVelocity(1.1)
goto Spawn+1
}
}

//
//Used for the one that is fired directly.
//

actor MainSwiftMagicStar
{
PROJECTILE
Translation "220:223=207:207", "209:215=196:196"
Radius 12 //9
Height 12 //9
Damage (4) //30
Damagetype "Swift"
Obituary "%o saw %k's stars in their eyes."
scale 2.5
Speed 60 //55
States
{
Spawn:
KIRC A 0
KIRC ABCD 2 A_SpawnItemEx("MainSwiftMagicStarFX")
goto Spawn+1
Death:
TNT1 A 0
stop
}
}

actor MainSwiftMagicStarX : MainSwiftMagicStar
{
+RIPPER
Translation "220:223=228:228", "209:215=229:229"
Damage(13)
States
{
Spawn:
KIRC A 0
KIRC ABCD 2 A_SpawnItemEx("MainSwiftMagicStarFX2")
goto Spawn+1
}
}

//

actor SwiftMagicStarFX
{
Translation "220:223=253:253", "209:215=237:237"
+NOINTERACTION
+CLIENTSIDEONLY
Radius 4
Height 4
+NOGRAVITY
Scale 1.5
renderstyle "Add"
alpha 0.95
-SOLID
States
{
Spawn:
KIRC ABCDABCD 1 A_FadeOut(0.05)
stop
}
}

actor SwiftMagicStarFX3 : SwiftMagicStarFX
{
Translation "220:223=178:178", "209:215=180:180"
Scale 1.5
}

actor SwiftMagicStarFX4 : SwiftMagicStarFX
{
Renderstyle "Add"
Alpha 0.7
Translation "220:223=110:110", "209:215=111:111"
Scale 1.5
}

actor MainSwiftMagicStarFX : SwiftMagicStarFX
{
Translation "220:223=207:207", "209:215=196:196"
Scale 2.0
}

actor MainSwiftMagicStarFX2 : SwiftMagicStarFX
{
Translation "220:223=228:228", "209:215=229:229"
Scale 2.0
}

actor PsychicRope : ThunderClaw
{
+DONTBLAST
+HITTRACER
Damage(15) //oh look, just enough damage to turn off a scuttle shield.
Damagetype "PsychicWeak"
Obituary "%o was manipulated by %k."
Translation "192:192=61:61", "4:4=229:229", "168:168=229:229"
Height 12
Radius 12
Speed 32
States
{
Spawn:
TCLA B 0
TCLA B 0 A_PlaySoundEx("darkile/whip","Weapon")
TCLA B 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 0 A_Stop
TCLA B 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn",0,0,0,0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
stop
Crash:
TCLA B 0 A_JumpIfInventory("IsDevion",1,"PowerDevion",AAPTR_TRACER)
stop
PowerDevion:
TCLA B 0 A_GiveToTarget("DevionPowerPickup",1)
stop
Death:
TCLA BB 1 A_CustomMissile("PsychicRopeReturn2",0,0,0,0)
stop
}
}

Actor DevionPowerPickup : CustomInventory
{
inventory.pickupmessage "Copied Devion's power!"
States
{
Pickup:
TNT1 A 0 A_PlaySoundEx("CBM/ItemSpawn","Voice")
TNT1 A 0 A_GiveInventory("StolenEnergy",525)
TNT1 A 0 A_GiveInventory("DevionPowerupItem",1)
TNT1 A 0 A_SpawnItemEx("StolenEnergyDrainer",0,0,28)
stop
}
}

Actor PowerDownSound : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_PlaySoundEx("zero/teleport","Voice")
stop
}
}

Actor StolenEnergyDrainer : BasicHelper
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_TakeFromTarget("StolenEnergy",1)
TNT1 A 0 A_JumpIfInTargetInventory("StolenEnergy",1,"Spawn")
goto Death
Death:
TNT1 A 0 A_GiveToTarget("PowerDownSound",1)
TNT1 A 0 A_TakeFromTarget("DevionPowerupItem",99)
stop
}
}

Actor DevionPowerupItem : Powerup{powerup.duration 0x7FFFFFFF}

actor PsychicRopeX : PsychicRope
{
Speed 30
States
{
Spawn:
TCLA B 0
TCLA B 0 A_PlaySoundEx("darkile/whip","Weapon")
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 0 A_Stop
TCLA B 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA B 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
TCLA C 1 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
stop
}
}

Actor PsychicRopeXX : PsychicRopeX{Damagetype "PsychicWeakX"}

Actor PsychicHealItem : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_PlaySoundEx("Support/Heal1","Voice")
TNT1 A 0 A_SpawnItemEx("PsychicHealFX",0,0,4,momx,momy,momz,0,SXF_ABSOLUTEMOMENTUM|SXF_NOCHECKPOSITION)
TNT1 A 0 HealThing(CallACS("YDC_HealthScript",11))
stop
}
}

Actor PsychicHealFX
{
+BRIGHT
+CLIENTSIDEONLY
-SOLID
+NOINTERACTION
Translation "192:192=176:176", "198:198=179:179"
Scale 2.5
States
{
Spawn:
BEFF A 0
BEFF ABCDEFGHIJKL 1
stop
}
}

Actor PsychicRopeReturn : PsychicRope
{
Damage(0)
States
{
Spawn:
TNT1 A 0 
TNT1 A 1 A_FaceTarget
TNT1 A 0 A_SpawnItemEx("PsychicRopeDamager")
TNT1 A 0 A_JumpIfCloser(64,"Death")
TNT1 A 1 A_FaceTarget
TNT1 A 0 A_SpawnItemEx("PsychicRopeDamager")
TNT1 A 0 A_JumpIfCloser(64,"Death")
TNT1 A 0 A_CustomMissile("PsychicRopeReturn", 0, 0, 0, 0)
stop
Death:
TNT1 A 0
stop
}
}

Actor PsychicRopeReturn2 : PsychicRopeReturn
{
States
{
Spawn:
TNT1 A 0 
TNT1 A 1 A_FaceTarget
TNT1 A 0 A_SpawnItemEx("PsychicRopeFX")
TNT1 A 0 A_JumpIfCloser(64,"Death")
TNT1 A 1 A_FaceTarget
TNT1 A 0 A_SpawnItemEx("PsychicRopeFX")
TNT1 A 0 A_JumpIfCloser(64,"Death")
TNT1 A 0 A_CustomMissile("PsychicRopeReturn2", 0, 0, 0, 0)
stop
}
}

actor PsychicRopeDamager
{
PROJECTILE
+FORCEXYBILLBOARD
Damage(35)
Damagetype "PsychicRope"
Obituary "%o was tangled up in %k's psychic energy."
Translation "192:192=61:61", "4:4=229:229", "168:168=229:229"
Scale 2.5
States
{
Spawn:
TCLA D 0
TCLA D 0 A_JumpIfCloser(32,"Death")
TCLA D 0 A_Jump(256,"Frame1","Frame2","Frame3")
Frame1:
TCLA DE 1
stop
Frame2:
TCLA EF 1
stop
Frame3:
TCLA FD 1
stop
Death:
TNT1 A 0
stop
}
}

actor PsychicRopeFX
{
+NOINTERACTION
+CLIENTSIDEONLY
+FORCEXYBILLBOARD
Translation "192:192=61:61", "4:4=229:229", "168:168=229:229"
Damage(0)
Scale 2.5
States
{
Spawn:
TCLA D 0
TCLA D 0 A_JumpIfCloser(32,"Death")
TCLA D 0 A_Jump(256,"Frame1","Frame2","Frame3")
Frame1:
TCLA DE 1
stop
Frame2:
TCLA EF 1
stop
Frame3:
TCLA FD 1
stop
Death:
TNT1 A 0
stop
}
}

Actor PsychicBlast
{
PROJECTILE
+DONTBLAST
+THRUGHOST
Obituary "%k throttled %o with a blast of psychic energy."
Translation "192:192=61:61", "194:195=63:63"
Renderstyle "Translucent"
Damagetype "PsychicStrong"
Alpha 0.75
Speed 22
Radius 18
Height 30
Scale 3.0
Damage(275)
States
{
Spawn:
GIGF I 0
GIGF I 0 A_PlaySoundEx("misc/finishingtouch","Weapon")
GIGF IIIIII 3 A_SpawnItemEx("PsychicBlastRing",-12,0,0)
stop
}
}

Actor PsychicBlastRing
{
+CLIENTSIDEONLY
-SOLID
+NOINTERACTION
Translation "192:192=61:61", "194:195=63:63"
Renderstyle "Add"
Alpha 0.7
Radius 4
Height 4
Scale 3.5
States
{
Spawn:
GIGF H 0
GIGF H 3
Death:
GIGF H 1 A_Fadeout(0.08)
loop
}
}

actor StarFallSpawner
{
PROJECTILE
+DONTBLAST
+SKYEXPLODE
+THRUGHOST
+RIPPER
-SOLID
Obituary "%k called upon the power of StarFall to rain its wrath on %o."
Height 5
Radius 5
Damage(0)
Speed 0
Scale 2.0
States
{
Spawn:
TNT1 A 0
TNT1 A 1 ThrustThingZ(0,850,0,0)
goto Spawn+1
Death:
TNT1 A 45
TNT1 A 0 A_SpawnItemEx("StarFallSpawnerActual",0,0,-25)
stop
}
}

Actor StarFallSpawnerActual
{
PROJECTILE
+DONTBLAST
+THRUGHOST
-SOLID
+RIPPER
Obituary "%k called upon the power of StarFall to rain its wrath on %o."
Height 5
Radius 5
Damage(0)
Speed 0
Scale 2.0
States
{
Spawn:
TNT1 A 0
TNT1 AAAAA 1 A_JumpIfInventory("CutterFlag",25,"TrueDeath") 
TNT1 AAAAAAAAAAAAAAA 0 A_SpawnItemEx("StarFallAttack",random(-750,750),random(-750,750),0,random(-12,12),0,-50,random(0,359))
TNT1 A 0 Radius_Quake(10,30,0,60,0)
TNT1 A 0 A_GiveInventory("CutterFlag",1)
goto Spawn+1
TrueDeath:
TNT1 A 0
stop
}
}

Actor StarFallAttack
{
PROJECTILE
+RIPPER
+NOINTERACTION
+DONTBLAST
+NOCLIP
Renderstyle "Add"
Damagetype "StarFall"
Translation "220:223=207:207", "209:215=205:205"
Obituary "%k called upon the power of StarFall to rain its wrath on %o."
Damage(40)
height 16
radius 16
Scale 3.5
Reactiontime 18
States
{
Spawn:
KIRC A 0
KIRC A 0 A_ChangeVelocity(25,0,momz,CVF_RELATIVE|CVF_REPLACE)
KIRC AA 1 A_JumpIf(ceilingz-z>16,"Spawn2")
KIRC A 0 A_CheckFloor("Death")
KIRC BB 1 A_JumpIf(ceilingz-z>16,"Spawn2")
KIRC A 0 A_CheckFloor("Death")
KIRC CC 1 A_JumpIf(ceilingz-z>16,"Spawn2")
KIRC A 0 A_CheckFloor("Death")
KIRC DD 1 A_JumpIf(ceilingz-z>16,"Spawn2")
KIRC A 0 A_CheckFloor("Death")
KIRC A 0 A_CountDown
Goto Spawn+1
Spawn2:
KIRC A 0 A_ChangeFlag("NOINTERACTION",0)
KIRC A 0 A_ChangeVelocity(25,0,momz,CVF_RELATIVE|CVF_REPLACE) 
KIRC AA 1 A_CheckFloor("Death")
KIRC A 0 A_SpawnItemEx("StarFallFX")
KIRC BB 1 A_CheckFloor("Death")
KIRC A 0 A_SpawnItemEx("StarFallFX")
KIRC CC 1 A_CheckFloor("Death")
KIRC A 0 A_SpawnItemEx("StarFallFX")
KIRC DD 1 A_CheckFloor("Death")
KIRC A 0 A_SpawnItemEx("StarFallFX")
KIRC A 0 A_CountDown
Goto Spawn2+1
Death:
TNT1 A 0 A_NoGravity
TNT1 A 0 A_Explode(10,150,0,0,30)
TNT1 A 0 A_PlaySoundEx("weapon/crackerexplode","Voice")
TNT1 AAAAA 0 A_SpawnItemEx("StarFallImpactFX",0,0,5,random(-10,10),random(-10,10),random(1,10))
stop
}
}

Actor StarFallFX
{
+NOINTERACTION
+NOGRAVITY
-SOLID
+CLIENTSIDEONLY
Renderstyle "Translucent"
Alpha 0.5
Damage(0)
Translation "220:223=207:207", "209:215=205:205"
Scale 2.0
Radius 1
Height 1
States
{
Spawn:
KIRC A 0
KIRC ABCD 2
stop
}
}

Actor StarFallImpactFX
{
+NOINTERACTION
+NOGRAVITY
-SOLID
+CLIENTSIDEONLY
Translation "220:223=207:207", "209:215=205:205"
Damage(0)
Scale 1.25
Radius 1
Height 1
States
{
Spawn:
KIRC A 0
KIRC ABCD 2
stop
}
}

actor PsybeamMain
{
PROJECTILE
+RIPPER
+NODAMAGETHRUST
+DONTBLAST
Obituary "%o was shocked by %k's psybeam attack."
Speed 50
Radius 12
Height 18
Renderstyle "Translucent"
Alpha 0.85
Translation "204:204=168:168, 61:61=3:3"
Damagetype "Psybeam"
Scale 2.5
damage (0)
reactiontime 80
States
{
Spawn:
NCRU G 0
NCRU G 0 A_PlaySoundEx("weapon/gemini","SoundSlot5")
NCRU G 1 A_SpawnItemEx("PsybeamTrail",0,0,0,0,0,0,0)
NCRU H 0 A_CountDown
NCRU H 0 A_Explode(5,75,0,0,25) //55 -> 50 // 90 -> 70
NCRU H 1 A_SpawnItemEx("PsybeamTrail2",0,0,0,0,0,0,0)
NCRU H 0 A_CountDown
goto Spawn+1
Death:
TNT1 A 1
stop
}
}

actor PsybeamTrail 
{
PROJECTILE
+NOGRAVITY
+RIPPER
+NODAMAGETHRUST
Obituary "%o was shocked by %k's Psybeam attack."
Damagetype "Psybeam"
Renderstyle "Translucent"
Alpha 0.8
Translation "204:204=228:228, 61:61=229:229"
scale 2.5
speed 0
damage (0)
radius 15
height 20
reactiontime 40
States
{
Spawn:
NCRU G 0
NCRU G 1 A_CountDown
NCRU H 0 A_Explode(3,60,0,0,20)
NCRU H 1 A_CountDown
loop
Death:
TNT1 A 1
stop
}
}

actor PsybeamTrail2 : PsybeamTrail{Translation "204:204=61:61, 61:61=79:79"}

Actor PsybeamChargeFXSpawner : EvilRoboFistCharger
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("PBFX",random(-192,192),random(-192,192),random(-192,192))
stop
}
}

Actor PBFX : EvilRoboFistCharger
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_FaceTarget
TNT1 A 0 A_CustomMissile("PBFX2",0,0,0,0)
stop
}
}

Actor PBFX2 : EvilRoboFistChargeFX
{
Translation "64:78=63:63", "208:208=251:251", "192:199=0:0", "4:4=251:251"
Renderstyle "Translucent"
Alpha 0.75
Speed 50
}

actor PureEnergyOrb
{
PROJECTILE
+CLIENTSIDEONLY
-SOLID
+NOINTERACTION
+DONTSPLASH
+NOTIMEFREEZE
Translation "214:215=4:4"
Renderstyle "Translucent"
Alpha 0.8
Height 3
Radius 3
scale 1.5
Speed 0
States
{
Spawn:
MMFX D 0
MMFX E 1 bright A_Fadeout(0.1)
goto Spawn+1
}
}

Actor PureEnergyOrbShot : PureEnergyOrb
{
PROJECTILE
-NOINTERACTION
Reactiontime 30
States
{
Spawn:
TNT1 A 0
MMFX D 1 A_SpawnItemEx("PureEnergyOrb")
MMFX D 0 A_Countdown
goto Spawn+1
Death:
TNT1 A 0
stop
}
}

actor PureEnergyOrb2 : PureEnergyOrb{Translation "208:213=63:63", "214:215=63:63", "4:4=63:63"}

Actor PureEnergyOrbShot2 : PureEnergyOrb2
{
PROJECTILE
-NOINTERACTION
Reactiontime 30
States
{
Spawn:
TNT1 A 0
MMFX D 1 A_SpawnItemEx("PureEnergyOrb2")
MMFX D 0 A_Countdown
goto Spawn+1
Death:
TNT1 A 0
stop
}
}

actor PureEnergyOrb3 : PureEnergyOrb{Translation "208:213=180:180", "214:215=180:180", "4:4=180:180"}

Actor PureEnergyOrbShot3 : PureEnergyOrb3
{
PROJECTILE
-NOINTERACTION
Reactiontime 30
States
{
Spawn:
TNT1 A 0
MMFX D 1 A_SpawnItemEx("PureEnergyOrb3")
MMFX D 0 A_Countdown
goto Spawn+1
Death:
TNT1 A 0
stop
}
}

actor VoidStormSpawner
{
PROJECTILE
+NOTARGETSWITCH
+FORCEXYBILLBOARD
+RIPPER
+HEXENBOUNCE
Obituary "%o was swallowed by the darkness of %k's Void Storm."
Radius 36
Height 36
Scale 4.0
Damage(30)
Bouncecount 10
WallBounceFactor 1.0
BounceFactor 1.0
Damagetype "Swift"
Speed 7
States
{
Spawn:
DKBH A 0
DKBH A 0 A_PlaySoundEx("misc/darkenergyspawn","Weapon")
DKBH ABCABCABCABC 3
goto HoleOpen
HoleOpen:
DKBH D 0 A_JumpIfInventory("CutterFlag",20,"Death")
DKBH D 0 ACS_ExecuteAlways(247,0,50,500)
DKBH DEF 3 A_SpawnItemEx("VoidBurstExplosion",random(-650,650),random(-650,650),random(-75,200),0,0,0,0,SXF_NOCHECKPOSITION)
DKBH D 0 A_GiveInventory("CutterFlag",1)
loop
Death:
DKBH DEF 4 A_FadeOut(0.13)
loop
}
}

Actor VoidBurstExplosion : BasicExplosion//TestExplosion
{
Obituary "%o faded into the darkness of %k's Void Storm Burst."
Translation "208:213=0:0", "214:215=0:0", "4:4=0:0"
Damage(0)
Scale 4.0
States
{
Spawn:
ASEX A 0
ASEX A 0 A_PlaySoundEx("misc/mm3explosion","Weapon")
ASEX A 0 A_Explode(8,200,0,0,50)
ASEX ABCDEF 2
stop
}
}