Actor IsMetalMaiden : Inventory{}

actor MetalMaiden : ClassBaseCSCC
{
Health 125
Player.MaxHealth 125
player.displayname "Metal Maiden"
player.soundclass "mmaiden"
player.damagescreencolor "red"
player.forwardmove 0.82, 0.82
player.sidemove 0.80, 0.80
player.startitem "MetalMaidenArsenal"
player.startitem "MetalMaidenClassItems"
player.jumpz 11
//Player.AirCapacity 0 //Not like we'll ever run into such a scenario.
States
{
Spawn:
MEMA A 0
MEMA B 1
MEMA A 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA A 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA A 0 A_JumpIfInventory("MetalMaidenBladeAnim",1,"Slash")
MEMA A 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA A 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA A 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA A 1 A_JumpIf(z-floorz>0,"Jump")
Goto Spawn+2
See:
MEMA B 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA B 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA B 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA B 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA B 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA B 4 A_JumpIf(z-floorz>0,"Jump")
MEMA C 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA C 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA C 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA C 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA C 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA C 4 A_JumpIf(z-floorz>0,"Jump")
MEMA D 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA D 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA D 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA D 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA D 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA D 4 A_JumpIf(z-floorz>0,"Jump")
MEMA E 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA E 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA E 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA E 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA E 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA E 4 A_JumpIf(z-floorz>0,"Jump")
Goto Spawn+1
Missile:
MEMA F 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA F 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA F 0 A_JumpIfInventory("MetalMaidenGunAnim",1,"Shoot")
MEMA F 0 A_JumpIfInventory("MetalMaidenBladeAnim",1,"Slash")
MEMA F 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA F 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA F 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA F 5 A_JumpIfInventory("MetalMaidenBladeAnim",1,"Slash")
MEMA G 0 A_JumpIfInventory("MetalMaidenGunAnim",1,"Shoot")
MEMA G 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA G 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA G 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA G 4 A_JumpIfInventory("MetalMaidenBladeAnim",1,"Slash")
goto Spawn+2
Shoot:
MEMA F 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA F 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA F 5 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA G 0 A_JumpIf(z-floorz>0,"AirMissile")
MEMA G 4 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
Goto Spawn+2
Slash:
MEMA K 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA K 0 A_JumpIf(z-floorz>0,"AirSlash")
MEMA K 5 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
MEMA K 0 A_JumpIf(z-floorz>0,"AirSlash")
MEMA K 4 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
Goto Spawn+2
Throw:
MEMA L 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA L 5 A_JumpIf(z-floorz>0,"AirThrow")
MEMA L 4 A_JumpIf(z-floorz>0,"AirThrow")
Goto Spawn+2
Dash:
MEMA M 2 
MEMA M 9
Goto Spawn+2
OverDrive:
MEMA Q 3
MEMA RJ 1
MEMA JJ 14 
Goto Spawn+2
CrashAttack:
MEMA Q 15
MEMA RJ 1
MEMA JJ 15 A_JumpIfInventory("MetalMaidenThrowAnim",1,"Throw")
Goto Spawn+2
Defend: //There will be no Air State.
MEMA Q 3
Goto Spawn+2
Jump:
MEMA J 0 A_JumpIfInventory("MetalMaidenBlockAnim",1,"Defend")
MEMA J 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA J 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA J 0 A_JumpIfInventory("MetalMaidenBladeAnim",1,"AirSlash")
MEMA J 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"AirThrow")
//MEMA J 0 A_JumpIfInventory("MaidenFlight",1,"FlyAnim")
MEMA J 0 A_JumpIfInventory("MetalMaidenDashAnim",1,"Dash")
MEMA J 1 A_JumpIf(z-floorz<=0,"Spawn")
loop
AirMissile:
MEMA N 0 A_JumpIfInventory("MetalMaidenOverdriveAnim",1,"OverDrive")
MEMA N 0 A_JumpIfInventory("MetalMaidenCrashAnim",1,"CrashAttack")
MEMA N 0 A_JumpIfInventory("MetalMaidenBladeAnim",1,"AirSlash")
MEMA N 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"AirThrow")
MEMA N 5 A_JumpIfInventory("MetalMaidenBladeAnim",1,"AirSlash")
MEMA N 0 A_JumpIfInventory("MetalMaidenThrowAnim",1,"AirThrow")
MEMA N 4 A_JumpIfInventory("MetalMaidenBladeAnim",1,"AirSlash")
Goto Jump
AirSlash:
MEMA O 5
MEMA O 4
Goto Jump
AirThrow:
MEMA P 5
MEMA P 4
Goto Throw
FlyAnim:
MEMA J 1
//MEMA J 0 A_JumpIfInventory("MaidenFlight",1,"FlyAnim")
Goto Jump


ClassDeath:
MEMA H 0 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_NoBlocking
MEMA H 0 A_GiveInventory("CutterFlag",999)
MEMA H 0 A_GiveInventory("IsDead",1)
MEMA H 0 A_Stop
MEMA H 1 A_GiveToTarget("KilledMe",1)
MEMA H 19 ACS_ExecuteAlways(999,0,0)
MEMA HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
MEMA H 0 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_PlayerScream
MEMA ZHZHZHZHZHZHZHZHZHZHZ 1 A_SpawnItemEx("CharDieParticle",random(-25,25),random(-25,25),random(0,45),0,0,15)
PLAY Z -1
stop
XDeath:
MEMA H 0 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_NoBlocking
MEMA H 0 A_GiveInventory("CutterFlag",999)
MEMA H 0 A_GiveInventory("IsDead",1)
MEMA H 0 A_Stop
MEMA H 1 A_GiveToTarget("KilledMe",1)
MEMA H 19 ACS_ExecuteAlways(999,0,0)
MEMA HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
MEMA H 0 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_PlayerScream
PLAY Z 0 Radius_Quake(3,35,0,100,0)
TNT1 A 0 A_TakeInventory("AbilityTimer",9999)
TNT1 A 0 A_TakeInventory("AbilityTimer2",9999)
TNT1 A 0 A_GiveInventory("AbilityTimer",25)
XDeathLoop:
TNT1 A 0 A_TakeInventory("AbilityTimer",1)
TNT1 A 0 A_GiveInventory("AbilityTimer2",1)
MEMA H 1 A_SpawnItemEx("CharDieParticle",random(-25,25),random(-25,25),random(0,45),0,0,15)
MEMA Z 1 A_SpawnItemEx("CharGIBDieFX",0,0,0,random(-30,30),random(-30,30),random(-30,30),0,SXF_TRANSFERTRANSLATION)
TNT1 A 0 A_JumpIfInventory("AbilityTimer2",2,"XDeathXplode")
TNT1 A 0 A_JumpIfInventory("AbilityTimer",1,"XDeathLoop")
PLAY Z -1
stop
XDeathXplode:
TNT1 A 0 A_SpawnItemEx("MetalMaidenExplosionRNG",random(-35,35),random(-35,35),random(0,40))
TNT1 A 0 A_TakeInventory("AbilityTimer2",9999)
Goto XDeathLoop
Death.Falling:
PLAY H 0 SetPlayerProperty(0, 0, 4)
PLAY H 0 A_TakeInventory("WeaponCharge",999)
PLAY H 0 A_NoBlocking
PLAY H 0 A_GiveInventory("CutterFlag",999)
PLAY H 0 A_GiveInventory("IsDead",1)
PLAY Z 1 A_PlayerScream
PLAY Z 1 A_Stop
PLAY Z 0 Radius_Quake(4,35,0,100,0)
PLAY H 0 A_SpawnItemEx("FallOutCharacterCluster",0,0,5)
PLAY Z 0 A_GiveToTarget("KilledMeStock",1)
PLAY Z 0 A_GiveToTarget("KilledMe",1)
PLAY Z 1 ACS_ExecuteAlways(999,0,0)
PLAY Z 1 A_CheckPlayerDone
wait
Death.Beam:
//Death.GravityHold:
Death.instagib:
MEMA Z 1 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_GiveToTarget("KilledMe",1)
MEMA H 0 A_GiveToTarget("KilledMeStock",1)
MEMA H 0 A_GiveInventory("CutterFlag",999)
MEMA H 0 A_TakeInventory("WeaponCharge",999)
MEMA H 0 A_GiveInventory("IsDead",1)
MEMA Z 0 A_PlayerScream
MEMA HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
MEMA HZHZHZHZHZHZHZHZHZZHZHZHZHZHZHZHZHZHZHZHZHZHZHZ 1 A_SpawnItemEx("CharGIBDieFX",0,0,0,random(-30,30),random(-30,30),random(-30,30),0,SXF_TRANSFERTRANSLATION)
MEMA Z 1 A_CheckPlayerDone
wait
Death.Telefrag:
MEMA Z 1 SetPlayerProperty(0, 0, 4)
MEMA H 0 A_GiveToTarget("KilledMe",1)
MEMA H 0 A_GiveToTarget("KilledMeStock",1)
MEMA H 0 A_GiveInventory("CutterFlag",999)
MEMA H 0 A_TakeInventory("WeaponCharge",999)
MEMA H 0 A_GiveInventory("IsDead",1)
MEMA Z 0 A_PlayerScream
MEMA Z 0 Radius_Quake(9,35,0,100,0)
MEMA HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
MEMA HZHZHZHZHZHZHZHZHZZHZHZHZHZHZHZHZHZHZHZHZHZHZHZ 1 A_SpawnItemEx("CharGIBDieFX",0,0,0,random(-30,30),random(-30,30),random(-30,30),0,SXF_TRANSFERTRANSLATION)
MEMA Z 1 A_CheckPlayerDone
wait
TheEnd:
MEMA G 4
loop
CreditWalk:
MEMA BCDE 8
loop
CreditRun:
MEMA BCDE 4
loop
}
}

actor CharDieParticle : GeminiTrail
{
RenderStyle "Add"
Alpha 0.95
States
{
Spawn:
MMFX BBCDE 2 bright
stop
}
}

actor CharGIBDieFX : GeminiTrail
{
RenderStyle "Add"
Alpha 0.95
States
{
Spawn:
MEMA HHH 1 bright
MEMA HHHHHHH 1 bright A_FadeOut
stop
}
}

actor FallOutCharacterCluster : GeminiTrail
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySound("character/out")
TNT1 AAAAA 1 A_SpawnItemEx("ClusterBoomParticle",random(-50,50),random(-50,50),2,random(-25,25),0,random(15,50),random(-90,90))
TNT1 AAAAAAAAAAAAAAAAAAAAA 1 A_SpawnItemEx("ClusterBoomParticle",random(-100,100),random(-100,100),1,0,0,random(15,60))
stop
}
}

actor ClusterBoomParticle : GeminiTrail
{
RenderStyle "Add"
Alpha 0.95
-NOGRAVITY
Gravity 0.7
States
{
Spawn:
MMFX BCDEBCDEBCDEBCDEBCDEBCDEBCDEBCDEBCDEBCDEBCDEBCDE 1 bright A_SpawnItemEx("ClusterBoomParticleTrail")
stop
}
}

actor ClusterBoomParticleTrail : GeminiTrail
{
RenderStyle "Add"
Alpha 0.95
States
{
Spawn:
MMFX BBBBCCCDDE 1 A_FadeOut
stop
}
}

actor MetalMaidenExplosionRNG : GeminiTrail
{
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_Jump(256,"Astro","Napalm")
TNT1 A 1
stop
Astro:
ASEX ABCDEF 1
stop
Napalm:
NAPA EFGHIJKLMNOPQRS 1
stop
}
}

//Tools
actor MaidenSpeedBoostFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor MaidenSpeedBoost : PowerSpeed
{
Powerup.Duration 0x7FFFFFFF
Speed 2.5
}

actor MaidenSpeedBoostCancel : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor MaidenSpeedBoostFX : GigaFistFx
{
Scale 4.5
Translation "192:193=246:246", "194:195=79:79"
}

//Apparently NormalFlag exists already. >_>

actor PowerFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

//Other

actor AbilityTimer : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 9999
}

actor AbilityTimer2 : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 9999
}

actor AbilityCooldownFlag : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 1
}

actor AbilityCooldownTimer : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 9999
}

actor AttackCooldownTimer : Inventory
{
Inventory.Amount 1
Inventory.MaxAmount 9999
}

actor SuperAttackFX : GeminiTrail
{
states
{
Spawn:
TNT1 A 0
FLAS ABC 1 bright
stop
}
}

actor MaidenCrashActivateFX1 : GeminiTrail
{
Scale 4.5
Translation "80:95=184:184", "208:208=176:176"
States
{
Spawn:
TBLA HH 1 bright
stop
}
}

actor MaidenCrashActivateFX2 : MaidenCrashActivateFX1
{
States
{
Spawn:
TBLA II 1 bright
stop
}
}

actor OverheatFX : GeminiTrail
{
Scale 1.5
States
{
Spawn:
FLEZ CCBBAA 1 bright A_FadeOut
stop
}
}

actor MetalMaidenGunAnim : Inventory {}

actor MetalMaidenBladeAnim : Inventory {}

actor MetalMaidenThrowAnim : Inventory {}

actor MetalMaidenDashAnim : Inventory {}

actor MetalMaidenBlockAnim : Inventory {}

actor MetalMaidenCrashAnim : Inventory {}

actor MetalMaidenOverdriveAnim : Inventory {}

//While this may look like cut content, it actually isn't. Its kept unusable and only really used for offline debugging purposes.
actor MetalMaidenOverdriveMode : Powerup //Warning: Unstable
{
//Powerup.Duration -30
Powerup.Duration 0x7FFFFFFF
Powerup.Color "Red"
}

actor MetalMaidenOverdriveModeSet : Inventory {} //Very Unstable

actor MetalMaidenOverdriveModeSpeed : PowerSpeed //Use with Maximum Caution
{
Powerup.Duration 0x7FFFFFFF
Speed 2.0
}

actor MetalMaidenOverdriveModeDefense : PowerProtection
{
DamageFactor "Normal", 0.75
Powerup.Duration 0x7FFFFFFF
}

actor MetalMaidenOverdriveModeMax : Powerup //VOLATILE
{
//Powerup.Duration -15
Powerup.Duration 0x7FFFFFFF
Powerup.Color "Red"
}

actor MetalMaidenOverdriveModeCancel : Inventory {} //Shut off


actor MaidenDoubleJumpTrigger : Powerup
{
Powerup.Duration -1
}

actor MetalMaidenClassItems : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0
TNT1 A 0 A_GiveInventory("IsMetalMaiden")
TNT1 A 0 A_GiveInventory("NoIcons")
TNT1 A 0 A_GiveInventory("NoHealthBar2")
TNT1 A 0 //A_GiveInventory("NoUltBar")
TNT1 A 0 A_GiveInventory("CanUseItems")
stop
}
}

actor MetalMaidenArsenalMorph : MetalMaiden
{
+NOSKIN
player.morphweapon "MetalMaidenArsenal"
player.soundclass "BestClassEver"
States
{
Pain:
YOKM H 0 A_ScaleVelocity(0.75)
YOKM H 0 
Goto "ClassBaseCSCC::Pain+2"
}
}