Actor GlaceDoubleJump : Inventory{}
Actor GlaceUltAnim : Inventory{}

Actor IceFurry : ClassBaseCSCC
{
Health 100 //1100
Player.MaxHealth 100 //1100
Player.DisplayName "Glace"
Player.SoundClass "IceFurry"
Player.JumpZ 13 //12
Player.ForwardMove 0.9, 0.9 //.88
Player.SideMove 0.85, 0.85 //.83
player.StartItem "IAmGlaceFlag"
player.StartItem "CanUseItems"
Player.StartItem "NoHealthBar2"
Player.StartItem "NoIcons"
Player.StartItem "NoUltBar"
player.StartItem "GlazedSet"
player.startitem "GlaceAmmo",100
player.startitem "GlaceAmmo2",75
player.startitem "IceBombCooldown",50
States
{
Spawn: 
GLCE A 0
GLCE B 1 A_JumpIfInventory("GlaceUltAnim",1,"Ult")
GLCE A 1 A_JumpIf(z-floorz>0, "Jump")
GoTo Spawn+2
See:
GLCE BCDE 5 A_JumpIf(z-floorz>0, "Jump")
GLCE B 0 //A_GiveInventory("UltMaterial",4)
GLCE B 0 //A_GiveInventory("UltCheck")
GoTo Spawn+1
Jump:
GLCE IIIIIIIIII 1 A_JumpIf(z-floorz<=0, "Land")
GLCE I 0 //A_GiveInventory("UltMaterial",2)
GLCE I 0 //A_GiveInventory("UltCheck")
loop
Land:
GLCE I 0 A_SpawnItemEx("GlaceLandFX",0,10,0,0,10,5)
GLCE I 0 A_SpawnItemEx("GlaceLandFX",0,-10,0,0,-10,5)
goto Spawn+2
Missile:
GLCE F 0 A_JumpIf(z-floorz>0, "Jump2")
GLCE F 1 A_JumpIfInventory("GlaceUltAnim",1,"Ult")
GLCE FFFFFFFF 1 A_JumpIf(z-floorz>0, "Jump2")
GoTo Spawn+2
Jump2:
GLCE JJJJJJJJJ 1 A_JumpIfInventory("GlaceUltAnim",1,"Ult")
goto Jump
Ult:
GLCE W 1
GLCE W 0 A_JumpIfInventory("GlaceUltAnim",1,"Ult")
GoTo Spawn+2

ClassDeath:
TNT1 A 0 A_GiveInventory("GlaceDeathHP")
TNT1 A 0 A_Jump(256,"IceDeath","Snowman","ScarfLost")
IceDeath:
GLCE H 0 SetPlayerProperty(0, 0, 4)
GLCE H 0 A_TakeInventory("WeaponCharge",999)
GLCE H 0 A_GiveInventory("CutterFlag",999)
GLCE H 0 A_GiveInventory("IsDead",1)
GLCE H 0 A_NoBlocking
GLCE H 0 A_Stop
GLCE H 1 A_PlayerScream
GLCE H 0 A_GiveToTarget("KilledMeStock",1)
GLCE H 0 A_GiveToTarget("KilledMe",1)
GLCE H 19 //ACS_ExecuteAlways(998,0,105,1)
GLCE HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
GLCE HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH 0 //A_DropInventory("CoinItem")
GLCE H 0 //ACS_NamedExecuteWithResult("MC_CoinScript")
GLCE H 0 A_SpawnItemEx("GlaceDeathExplode", 0, 0, 16)
GLCE H 0 A_SpawnItemEx("FrozenDeathFX", 0, 0, 16)
GLCE H 0 A_Jump(256,"NoWeapon","NoWeapon","Weapon")
goto NoWeapon
NoWeapon:
GLCE Z 1 A_CheckPlayerDone
wait
Weapon:
GLCE Z 0 A_SpawnItemEx("GlaceCopywepGiver",0,0,0,0,0,0)
GLCE Z 1 A_CheckPlayerDone
wait
Snowman:
GLCE H 0 SetPlayerProperty(0, 0, 4)
GLCE H 0 A_TakeInventory("WeaponCharge",999)
GLCE H 0 A_GiveInventory("CutterFlag",999)
GLCE H 0 A_GiveInventory("IsDead",1)
GLCE H 0 A_NoBlocking
GLCE H 0 A_Stop
GLCE H 1 A_PlayerScream
GLCE HHHHHHHHHH 0 //A_SpawnItemEx("CoinDecider",0,0,0)
GLCE HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH 0 //A_DropInventory("CoinItem")
GLCE H 0 //ACS_NamedExecuteWithResult("MC_CoinScript")
GLCE H 0 A_GiveToTarget("KilledMeStock",1)
GLCE H 0 A_GiveToTarget("KilledMe",1)
//GLCE H 19 ACS_ExecuteAlways(998,0,105,1)
GLCE H 0 A_SpawnItemEx("GlaceDeathExplode", 0, 0, 16)
GLCE H 0 A_SpawnItemEx("SnowGlace", 0, 0, 0)
GLCE Z 1 A_CheckPlayerDone
wait
ScarfLost:
GLCE H 0 SetPlayerProperty(0, 0, 4)
GLCE H 0 A_TakeInventory("WeaponCharge",999)
GLCE H 0 A_NoBlocking
GLCE H 0 A_GiveInventory("CutterFlag",999)
GLCE H 0 A_GiveInventory("IsDead",1)
GLCE H 0 A_Stop
GLCE H 0 A_GiveToTarget("KilledMeStock",1)
GLCE H 1 A_GiveToTarget("KilledMe",1)
GLCE H 0 A_SpawnItemEx("GlaceCopywepGiver",0,0,0,random(-10,10),random(-10,10),random(2,10))
GLCE K 25 ACS_ExecuteAlways(999,0,0)
GLCE K 0 A_PlaySoundEx("deviltriggerend","Voice")
GLCE LMNOPQRSTUV 2
GLCE ZZZZZZZZZZ 0 //A_SpawnItemEx("CoinDecider",0,0,0)
GLCE HHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHHH 0 //A_DropInventory("CoinItem")
GLCE H 0 //ACS_NamedExecuteWithResult("MC_CoinScript")
GLCE Z 1 ACS_ExecuteAlways(999,0,0)
GoTo MegamanErase

}
}

actor IceAura
{
PROJECTILE
+NOGRAVITY
+NOCLIP
+THRUGHOST
+NOINTERACTION
+FORCEXYBILLBOARD
+DONTSPLASH
Renderstyle add
alpha 0.75
scale 2
height 6
radius 6
States
{
Spawn:
TNT1 A 0
BLIZ ABC 2 A_Fadeout(0.07)
loop
}
}

actor IceSparkle : IceAura
{
scale 2
States
{
Spawn:
TNT1 A 0
FLAS ABC 2 A_Fadeout(0.08)
stop
}
}

Actor IAmGlaceFlag : Once {}

Actor GlaceCopywepGiver : CustomInventory
{
Inventory.PickUpMessage "Power up! Glace's Scarf!"
Inventory.PickUpSound "kirby/itemget"
Inventory.Amount 1
Inventory.MaxAmount 1
scale 2.5
+FLOATBOB
reactiontime 150
States
{
Spawn:
GSCR A 2 A_SpawnItemEx("IceSparkle2",random(-10,10),random(-30,30),random(-10,35),0,0,0,0)
GSCR A 0 A_SetAngle(angle-30.0) 
GSCR A 2 A_SpawnItemEx("IceAura2",random(-10,10),random(-30,30),random(-10,35),random(-2,4),random(-1,2),random(2,4),0)
GSCR A 0 A_SpawnItemEx("IceCircle",0,0,8,0,0,-4)
GSCR A 0 A_Countdown
Loop
PickUp:
DUST B 0 //A_JumpIfInventory("IceBombWep",1,"Failure")
DUST B 0 A_JumpIfInventory("IceNeedleItem",1,"Failure")
DUST B 0 A_JumpIfInventory("IAmGlaceFlag",1,"Failure")
GoTo Verify
Success:
DUST B 0 A_GiveInventory("IceNeedleItem",1)
Stop
Success2:
DUST B 0 //A_GiveInventory("IceBombWep",1)
Stop
Verify:
DUST B 0 A_JumpIfInventory("CanCopyWeapons",1,"Success2")
DUST B 0 A_JumpIfInventory("CanUseItems",1,"Success")
Fail
Failure:
DUST B 0
Fail
}
}

actor IceNeedleItem : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
Inventory.PickUpSound "kirby/itemget"
inventory.icon "ICWER0"
scale 2.0
+COUNTITEM
+INVBAR
States
{
Spawn:
TNT1 A 1
loop
Use:
TNT1 A 0 A_PlaySoundEx("weapon/icewavebreak","Weapon")
TNT1 A 0 A_FireCustomMissile("IceNeedleI",0,0,8,0)
stop
Death:
TNT1 A 0
stop
}
}

actor IceAura2
{
+NOGRAVITY
+NOCLIP
+THRUGHOST
+NOINTERACTION
+FORCEXYBILLBOARD
+DONTSPLASH
Renderstyle add
alpha 0.75
scale 1.4
height 1
radius 1
States
{
Spawn:
TNT1 A 0
FCRA DEDEDEDE 2 A_Fadeout(0.05)
stop
}
}

actor IceSparkle2
{
scale 2
+NOCLIP
+NOINTERACTION
+THRUGHOST
+DONTSPLASH
States
{
Spawn:
TNT1 A 0
FLAS ABC 2 A_Fadeout(0.08)
stop
}
}

actor IceCircle
{
scale 2.5
+NOCLIP
+NOINTERACTION
+THRUGHOST
+DONTSPLASH
renderstyle "add"
States
{
Spawn:
TNT1 A 0
GSCR G 2 A_Fadeout(0.08)
stop
}
}

actor GlaceDeathExplode
{
+NOGRAVITY
+NOCLIP
+THRUGHOST
+NOINTERACTION
+FORCEXYBILLBOARD
+DONTSPLASH
scale 2.5
height 1
radius 1
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEx("kirby/iceexplode","Voice")
ICEX PQRST 2
stop
}
}

actor SnowGlace
{
-SOLID
+LOOKALLAROUND
+SKYEXPLODE
+DONTBLAST
Speed 0
Damage (0)
radius 28
height 90
scale 2.5
reactiontime 250
States
{
Spawn:
TNT1 A 0
SNGL A 1 A_Countdown
loop
Death:
SNGL A 0 A_SpawnItemEx("SnowGlaceFadeout",0,0,0,0,0,0)
SNGL A 0 A_Jump(256,"NoWeapon","Weapon")
goto NoWeapon
Weapon:
SNGL A 0 A_SpawnItemEx("GlaceCopywepGiver",0,0,28,0,0,0)
stop
NoWeapon:
SNGL A 0
stop
}
}

actor SnowGlaceFadeout
{
scale 2.5
+NOCLIP
+NOINTERACTION
+THRUGHOST
+DONTSPLASH
alpha 0.8
renderstyle "add"
States
{
Spawn:
TNT1 A 0
SNGL A 1
SNGL A 2 A_Fadeout(0.09)
goto Spawn+2
}
}

Actor IceShieldArmor : PowerProtection
{
PowerUp.Duration 0x7FFFFFFF
DamageFactor "Normal", 0.8
}

actor GlaceShieldFlag : Inventory {}

Actor IceBombDebuff : PowerSpeed
{
Speed 0.7
PowerUp.Duration -3
}

Actor IceBombDebuff2 : PowerProtection
{
DamageFactor "Normal", 1.2
PowerUp.Duration -3
}

Actor IceBombProtect : PowerProtection
{
DamageFactor "IceBomb", 0
PowerUp.Duration -5
}

Actor GlaceHPFX1 : Inventory{}
Actor GlaceHPFX2 : Inventory{}
Actor GlaceHPFX3 : Inventory{}
Actor GlaceDeathHP : Inventory{}

actor GlaceLandFX
{
+NOINTERACTION
+NOGRAVITY
+CLIENTSIDEONLY
+FORCEXYBILLBOARD
-SOLID
scale 1
States
{
Spawn:
TNT1 A 0
FCRA DE 2 A_Fadeout
loop
}
}