Actor UsingKnee : Once {}
Actor RinKneeCooldown : PowerUp {PowerUp.Duration -1}
Actor RinKneeAnimation : Once {} //Used for the dashing animation

Actor PowerKneeStartFX : LightningStartFX1
{
+CLIENTSIDEONLY
+FORCEYBILLBOARD
Alpha 1.0
Scale 1.0
Translation "0:255=0:0"
RenderStyle Translucent
States
{
Spawn:
TNT1 A 0
ASEX E 1
ASEX E 0 A_SetTranslucent(0.85)
ASEX E 1 A_SetScale(1.2,1.2)
ASEX E 0 A_SetTranslucent(0.70)
ASEX E 1 A_SetScale(1.4,1.4)
ASEX E 0 A_SetTranslucent(0.55)
ASEX E 1 A_SetScale(1.6,1.6)
ASEX E 0 A_SetTranslucent(0.40)
ASEX E 1 A_SetScale(1.8,1.8)
ASEX E 0 A_SetTranslucent(0.25)
ASEX E 1 A_SetScale(2.0,2.0)
ASEX E 0 A_SetTranslucent(0.10)
ASEX E 1 A_SetScale(2.2,2.2)
Stop
}
}

Actor LightningKnee  : FastProjectile //: OmegaSaber
{
PROJECTILE
+RIPPER
+DONTBLAST
Speed 70
Radius 5
Height 5
+NOCLIP
+FORCEXYBILLBOARD
Scale 8.5
DamageType "LightningKnee"
Obituary "%k's Lightning Knee did not put up with %o's shit."
States
{
Spawn:
TNT1 A 0
FLAS A 1 A_Explode(18,50,0,0,50)
Stop
}
}

Actor LightningKneeHitFXS : DuoShockwave
{
+NOCLIP
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_PlaySoundEx("Rin/Connect2","Body")
TNT1 A 0 A_PlaySoundEx("weapon/lightningbolt","Weapon")
TNT1 A 0 A_SpawnItemEX("Sm4shDeathFX",0,0,-24)
TNT1 A 0 A_SpawnItemEX("LightningKneeHitFX")
TNT1 A 0 A_SpawnItemEX("LightningKneeFX")
Stop
}
}

Actor LightningKneeFX : LightningStartFX1
{
+CLIENTSIDEONLY
+FORCEXYBILLBOARD
Scale 2.5
States
{
Spawn:
TNT1 A 0
LBFX DEFGHIJ 1
Stop
}
}

Actor LightningKneeHitFX : LightningKneeFX
{
Scale 3.5
RenderStyle ADD
States
{
Spawn:
TNT1 A 0
RHT1 ABCDEF 1
Stop
}
}

Actor PowerKnee : LightningKnee
{
DamageType "PowerKnee"
Obituary "%k did not take %o's arrow to the knee."
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_Explode(10,50,0,0,50)
Stop
}
}

Actor PowerKneeHitFX : LightningKneeHitFX
{
Scale 2.2
RenderStyle Normal
States
{
Spawn:
TNT1 A 0
RHT1 ABCDEF 1
Stop
}
}

Actor RinKneeProtection : PowerProtection
{
PowerUp.Duration 20
DamageFactor "LightningKnee", 0.0
DamageFactor "PowerKnee", 0.0
}

Actor RinPowerKneeHit : CustomInventory
{
+INVENTORY.AUTOACTIVATE
States
{
Use:
TNT1 A 0 A_ScaleVelocity(0.5)
Stop
}
}