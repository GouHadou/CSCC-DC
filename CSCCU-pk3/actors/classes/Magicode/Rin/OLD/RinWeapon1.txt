Actor RinWeapon1 : MegaBuster
{
+WEAPON.ALT_AMMO_OPTIONAL
+WEAPON.CHEATNOTWEAPON
Tag "Ultimate Uppercut / Dash"
Weapon.SlotNumber 1
Obituary "%k > %o."
States
{
Ready:
RINH A 0 A_GunFlash
RINH A 0 ACS_ExecuteAlways(998,0,DYE_RIN)
RINH A 1 A_WeaponReady
RINH A 0 A_JumpIfInventory("UppercutCharged",1,1)
GoTo Ready+2
RINH A 0 A_JumpIfInventory("UppercutCharge",1,3)
RINH A 0 A_TakeInventory("UppercutCharged",999)
RINH A 0 ACS_ExecuteAlways(991,0,753)
GoTo Ready+2
RINH E 1 A_WeaponReady
GoTo Ready+2
Fire:
RINH A 0 A_JumpIfInventory("UsingKnee",1,1)
GoTo FireStart
RINH A 0 A_TakeInventory("UsingKnee",999)
RINH R 0 //A_TakeInventory("NoDoubleJump",999)
RINH A 0 A_GiveInventory("RinKneeCooldown",1)
FireStart:
RINH A 0 A_JumpIfInventory("UppercutCharged",1,"Fire2")
RINH A 0 A_JumpIfInventory("SmashFlag",1,"FinalSmash")
RINH A 0 A_GiveInventory("RinUppercutAnimation1",1)
RINH A 7
RINH A 0 A_PlaySoundEX("Rin/UltUpprcutS","Weapon")
FireCharging:
RINH D 0 ACS_ExecuteAlways(991,0,755)
RINH D 1 A_ReFire("Fire1")
RINH A 0 ACS_ExecuteAlways(991,0,753)
RINH A 1 A_ReFire("Fire1")
RINH A 0 A_GiveInventory("UppercutCharge",1)
RINH A 0 A_JumpIfInventory("UppercutCharge",42,1)
GoTo FireCharging
FireCharged:
RINH E 0 ACS_ExecuteAlways(991,0,756)
RINH E 0 A_PlaySoundEX("Rin/UltUpprcutR","Weapon")
RINH E 0 A_GiveInventory("UppercutCharged",1)
GoTo Ready+2
Fire1:
RINH F 0 A_TakeInventory("UppercutCharge",999)
RINH F 0 A_GiveInventory("RinUppercutAnimation2",1)
RINH F 0 //A_GiveInventory("NoDoubleJump",999)
RINH F 0 ACS_ExecuteAlways(991,0,755)
RINH F 0 A_Recoil(-2) 
RINH F 0 ThrustThingZ(0,12,0,0)
RINH F 0 A_PlaySoundEx("Rin/UltUpprcut1","Weapon")
RINH F 0 A_SpawnItemEx("UltUppercut1",42,-15,40,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH FGH 1
RINH I 5
RINH HGF 2
RINH F 0 ACS_ExecuteAlways(991,0,753)
RINH F 0 //A_TakeInventory("NoDoubleJump",999)
GoTo Ready+2
Fire2:
RINH H 0 A_TakeInventory("UppercutCharge",999)
RINH H 0 A_TakeInventory("UppercutCharged",999)
RINH H 0 A_GiveInventory("RinUppercutAnimation3",1)
RINH F 0 //A_GiveInventory("NoDoubleJump",999)
RINH H 0 ACS_ExecuteAlways(991,0,756)
RINH H 0 A_SpawnItemEX("UltUppercutFXS",0,0,24)
RINH H 0 A_PlaySoundEx("Rin/UltUpprcut2","Weapon")
RINH H 1 A_SpawnItemEx("UltUppercut2X",42,-15,40,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH H 0 A_Recoil(-13) 
RINH H 0 ThrustThingZ(0,60,0,0)
RINH IIIIIIIIIII 1 A_SpawnItemEx("UltUppercut2",42,-15,40,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH I 0 ACS_ExecuteAlways(991,0,753)
RINH I 0 //A_TakeInventory("NoDoubleJump",999)
GoTo Ready+2
AltFire:
RINH R 0 A_JumpIfInventory("SmashFlag",1,"FinalSmash")
RINH R 0 A_JumpIfInventory("RinKneeCooldown",1,"Welp")
RINH R 0 A_GiveInventory("RinKneeAnimation",1)
RINH R 0 A_GiveInventory("UsingKnee",1)
RINH R 0 //A_GiveInventory("NoDoubleJump",1)
RINH R 0 A_PlaySoundEx("Rin/PowerKnee","Weapon")
RINH R 1 A_SpawnItemEx("LightningKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 0 A_SpawnItemEX("PowerKneeStartFX",35,0,24,10)
RINH R 0 A_Recoil(-25)
RINH R 0 ThrustThingZ(0,9,0,0)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 A_SpawnItemEx("PowerKnee",42,-8,16,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
RINH R 0 //A_TakeInventory("NoDoubleJump",999)
RINH R 0 A_TakeInventory("UsingKnee",999)
RINH R 0 A_GiveInventory("RinKneeCooldown",1)
GoTo Ready+2
Welp:
RINH A 0
GoTo Ready+2
FinalSmash:
RINH R 0 A_TakeInventory("SmashFlag",999)
RINH R 0 A_GiveInventory("TempPitProtect",1)
RINH R 0 //A_GiveInventory("NoDoubleJump",1)
RINH R 0 A_ChangeFlag(SHOOTABLE,0)
RINH R 0 A_ChangeFlag(NOGRAVITY,1)
RINH R 0 A_ChangeFlag(THRUACTORS,1)
RINH R 0 SetPlayerProperty(0,1,0)
RINH R 0 A_SetTranslucent(0.0)
RINH R 0 A_SpawnItemEx("RinDisappearFX",0,0,0,0,-20,0,0)
RINH R 0 A_SpawnItemEx("RinDisappearFX",0,0,0,0,20,0,0)
GoTo FinalSmashLoop
FinalSmashLoop:
RINH R 0 A_Recoil(-5)
RINH R 0 A_SpawnItemEx("RinHyperspeedDamager",0,0,0,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
RINH R 1 A_GiveInventory("CutterFlag",1)
RINH R 0 A_JumpIfInventory("CutterFlag",25,1)
Loop
FinalSmashEnd:
RINH R 0 A_TakeInventory("CutterFlag",999)
RINH R 0 SetPlayerProperty(0,0,0)
RINH R 0 A_ChangeFlag(THRUACTORS,0)
RINH R 0 A_ChangeFlag(NOGRAVITY,0)
RINH R 0 A_ChangeFlag(SHOOTABLE,1)
RINH R 0 //A_TakeInventory("NoDoubleJump",999)
RINH R 0 A_TakeInventory("TempPitProtect",999)
RINH R 1 A_SetTranslucent(0.2)
RINH R 1 A_SetTranslucent(0.4)
RINH R 1 A_SetTranslucent(0.6)
RINH R 1 A_SetTranslucent(0.8)
RINH R 1 A_SetTranslucent(1.0)
GoTo Ready+2
Flash: //Manages final smash warning, also introduces a tic
TNT1 A 1
TNT1 A 0 //A_JumpIfInventory("TheModEmblemItem",1,2)
TNT1 A 0 //A_JumpIfInventory("SmashFlag",1,1)
GoTo Flash2
TNT1 A 0 A_SpawnItemEx("RinFinalSmashFX",-16,0,0,MomX,MomY,MomZ,0,SXF_ABSOLUTEMOMENTUM)
GoTo Flash2
Flash2: //Manages uppercut charge removal
TNT1 A 0 A_JumpIfInventory("UppercutCharged",1,1)
GoTo Flash
TNT1 A 0 A_GiveInventory("UppercutRemoval",1)
TNT1 A 0 A_JumpIfInventory("UppercutRemoval",9,1)
GoTo Flash
TNT1 A 0 A_TakeInventory("UppercutRemoval",999)
TNT1 A 0 A_TakeInventory("UppercutCharge",1)
GoTo Flash
}
}