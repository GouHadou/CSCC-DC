Actor SmashFXFlag : CutterFlag {}

Actor FragmentedSharkFX1 : LightningStartFX1
{
+CLIENTSIDEONLY
+FORCEXYBILLBOARD
Alpha 0.6
Scale 1.5
RenderStyle Translucent
States
{
Spawn:
TNT1 A 0
CRWV A 1
Stop
}
}

Actor FragmentedSharkFX2 : FragmentedSharkFX1
{
States
{
Spawn:
TNT1 A 0
CRWV B 1
Stop
}
}

Actor FragmentedSharkFX3 : FragmentedSharkFX1
{
States
{
Spawn:
TNT1 A 0
CRWV C 1
Stop
}
}

Actor FragmentedSharkFX4 : FragmentedSharkFX1
{
States
{
Spawn:
TNT1 A 0
CRWV D 1
Stop
}
}

Actor FragmentedSharkAnim : Once {}

Actor SharkFragment : IceTrapBroke
{
Radius 16
Height 16
Gravity 1.0
DamageType "FragmentedShark"
Obituary "%o was sent to the freezing oblivion of %k's Fragmented Shark."
States
{
Spawn:
TNT1 A 0
FZSK B 1
Loop
Death:
FZSK B 0 A_Stop
FZSK B 0 A_ChangeFlag(NOGRAVITY,1)
FZSK B 1 A_FadeOut(0.1)
Wait
}
}

Actor FragmentedSharkArmor : PowerProtection
{
PowerUp.Duration 0x7FFFFFFF
DamageFactor "Normal", 0.2
}

Actor FragmentedSharkSpeed : PowerSpeed
{
PowerUp.Duration 0x7FFFFFFF
Speed 1.3
}

Actor FragmentedSharkSpawner : DuoShockwave
{
+NOCLIP
Obituary "%o was sent to the freezing oblivion of %k's Fragmented Shark."
States
{
Spawn:
TNT1 A 0
Body:
TNT1 A 0 A_SpawnItemEX("FragmentedSharkBody1FX",36.0,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkBody2FX",0,0,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkBody1FX",-50,0,0)
TopFin:
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",0,0,40)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",-15,0,50)
LateralFins:
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin1FX",-5,50,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin1FX",-5,-50,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",-21,65,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",-21,-65,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin3FX",-40,72,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin3FX",-40,-72,0)
Tail:
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",-75,20,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkFin2FX",-75,-20,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkTail1FX",-90,35,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkTail1FX",-90,-35,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkTail1FX",-100,40,0)
TNT1 A 0 A_SpawnItemEX("FragmentedSharkTail1FX",-100,-40,0)
TheTic:
TNT1 A 1 A_Explode(2,110,0,0,110)
Stop
}
}

Actor FragmentedSharkBody1FX : LightningStartFX1
{
+FORCEXYBILLBOARD
Scale 5.0
States
{
Spawn:
TNT1 A 0
WATE R 1
Stop
}
}

Actor FragmentedSharkBody2FX : FragmentedSharkBody1FX {Scale 6.0}
Actor FragmentedSharkFin1FX : FragmentedSharkBody1FX {Scale 4.0}
Actor FragmentedSharkFin2FX : FragmentedSharkBody1FX {Scale 3.0}
Actor FragmentedSharkFin3FX : FragmentedSharkBody1FX {Scale 2.5}
Actor FragmentedSharkTail1FX : FragmentedSharkBody1FX {Scale 2.0}
Actor FragmentedSharkTail2FX : FragmentedSharkBody1FX {Scale 1.5}