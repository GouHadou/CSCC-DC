actor SnailBreederPets : BaseCSCCWep
{
weapon.ammotype1 "SnailerAmmo"
weapon.ammotype2 "ShellAmmo"
Weapon.AmmoUse1 2
Weapon.AmmoGive1 28
Weapon.SlotNumber 1
Obituary "$OB_SNAILBREEDER1"
Inventory.Pickupmessage "$PU_SNAILBREEDER"
tag "$TAG_SNAILBREEDER"
inventory.pickupsound "weapon/weaponup"
inventory.icon "SNELICO1"
+WEAPON.AMMO_OPTIONAL
Scale 2.0
States
{
Spawn:
TNT1 A 1
stop
Ready:
SNLB A 0 ACS_ExecuteAlways(998,0,DYE_SNAILBREEDER)
SNLB A 1 A_GunFlash
SNLB A 1 A_WeaponReady(WRF_ALLOWZOOM|WRF_ALLOWRELOAD)
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
SNLB A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SNLB A 1 A_Raise
Loop
Fire:
SNLB A 0 A_JumpIfInventory("SnailerAmmo",3,1)
goto NoAmmo
SNLB A 0 A_PlaySoundEx("weapon/superarmuse","Weapon")
SNLB A 0 A_FireCustomMissile("SnailBuddyStart",0,0,8,0)
SNLB A 0 A_TakeInventory("SnailerAmmo",3)
SNLB IJKKKKKJI 3
SNLB A 2 A_Refire
Goto Ready+2
AltFire:
SNLB A 0 A_JumpIfInventory("SnailerAmmo",7,1)
goto NoAmmo
SNLB A 0 A_PlaySoundEx("weapon/crackerthrow","Weapon")
SNLB A 0 A_FireCustomMissile("KillerSnail",0,0,0,8)
SNLB A 0 A_TakeInventory("SnailerAmmo",7)
SNLB BCDEFG 3
SNLB A 8
SNLB F 0 A_Refire
goto Ready+2
Zoom:
SNLB A 0 A_JumpIfInventory("SnailerAmmo",7,1)
goto NoAmmo
SNLB A 0 A_PlaySoundEx("weapon/superarmuse","Weapon")
SNLB A 0 A_FireCustomMissile("BananaSlugStart",0,0,8,0)
SNLB A 0 A_TakeInventory("SnailerAmmo",7)
SNLB IJKKKKKJI 3
SNLB A 2
goto Ready+2
Reload:
SNLB A 0 A_GiveInventory("HomingSnailFlag",1)
SNLB A 0 A_JumpIfInventory("SnailerAmmo",2,2)
SNLB A 0 A_JumpIfInventory("HomingSnailFlag",1,"ReloadEnd")
goto NoAmmo
PHAN B 0 A_PlaySoundEx("weapon/mbuster","Weapon")
PHAN B 0 A_FireCustomMissile("HomingSnail",0,1,8,0)
PHAN B 0 A_SpawnItemEx("HomingSnailPing1",0,0,28)
PHAN B 12
PHAN B 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH|WRF_ALLOWRELOAD)
goto ReloadEnd
ReloadEnd:
PHAN CDE 2
PHAN D 0 A_PlaySoundEx("weapon/flashstopper","Weapon")
PHAN D 0 A_TakeInventory("HomingSnailFlag",0)
PHAN D 0 A_SpawnItemEx("HomingSnailPing2",0,0,28)
PHAN E 25
PHAN BCB 2
goto Ready+2
NoAmmo:
SNLB A 1 ACS_Execute(979,0)
Goto Ready+2
Flash:
TNT1 A 13
TNT1 A 0 A_GiveInventory("SnailerAmmo",1)
TNT1 A 0 A_JumpIfInventory("ShellterFlag",1,3)
TNT1 A 0 A_GiveInventory("ShellAmmo",1)
TNT1 A 13
TNT1 A 0 A_JumpIfInventory("ShellterFlag",1,1)
loop
TNT1 A 0 A_GiveInventory("SnailerAmmo",1)
loop
}
}

/*actor SnailBreederSpellPower : SnailBreederSpellBase //Second weapon
{
weapon.ammotype1 "MucusAmmo"
weapon.ammotype2 "ShellAmmo"
Weapon.AmmoUse1 12
Weapon.AmmoGive1 28
Weapon.SlotNumber 2
tag "$TAG_SNAILBREEDER2"
inventory.icon "SNELICO2"
States
{
Ready:
SNLB A 0 ACS_ExecuteAlways(998,0,DYE_BOZUCLASS)
SNLB A 1 A_GunFlash
SNLB A 1 A_WeaponReady
Goto Ready+2
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
SNLB A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
SNLB A 1 A_Raise
Loop
Fire:
SNLB A 0 A_PlaySoundEx("weapon/concreteshot","Weapon")
SNLB A 0 A_FireCustomMissile("SlimeSlap",0,0,0,8)
SNLB BCDEFG 2
SNLB A 12
SNLB F 0 A_Refire
Goto Ready+2
AltFire:
SNLB A 0 A_JumpIfNoAmmo("NoAmmo")
BLMU CB 4
BLMU A 0 A_PlaySoundEx("weapon/pcharge","Weapon")
BLMU A 4
BLMU A 35
BLMU A 0 A_PlaySoundEx("weapon/crackerthrow","Weapon")
BLMU A 0 A_FireCustomMissile("MucusBomb",0,1,0,8)
BLMU BC 3
BLMU C 10
BLMU A 0 A_Refire
goto Ready+2
NoAmmo:
SNLB A 1 ACS_Execute(979,0)
Goto Ready+2
Flash:
TNT1 A 12
TNT1 A 0 A_GiveInventory("MucusAmmo",1)
TNT1 A 0 A_JumpIfInventory("ShellterFlag",1,2)
TNT1 A 0 A_GiveInventory("ShellAmmo",1)
loop
TNT1 A 0 A_GiveInventory("SnailerAmmo",1)
TNT1 A 0 A_GiveInventory("MucusAmmo",1)
loop
}
}*/

actor SnailerAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 28
}

/*actor MucusAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 28
}*/

actor ShellAmmo : Ammo
{
+INVENTORY.IGNORESKILL
inventory.amount 1
inventory.maxamount 56
}

actor SnailBuddyStart //Main
{
PROJECTILE
-NOGRAVITY
Damage (12)
Speed 0
damagetype "SlugFeet" //Give victim SlugFeet item
Obituary "$OB_SNAILBUDDY"
Height 5
Radius 6
Scale 2.0
Translation "198:198=220:220", "192:192=42:42"
States
{
Spawn:
SNLZ A 4 A_JumpIf(z-floorz<=0,"Death")
loop
Death:
TNT1 A 0 A_SpawnItemEx("SnailBuddy",0,0,0,5,0,0,0,SXF_TRANSFERTRANSLATION)
stop
}
}

actor SnailBuddy
{
PROJECTILE
-NOGRAVITY
+FLOORHUGGER
+NOEXPLODEFLOOR
+STEPMISSILE
maxstepheight 15
Radius 5
Height 6
scale 2.0
Translation "198:198=220:220", "192:192=42:42"
damage (12)
damagetype "SlugFeet" //Give victim SlugFeet item
Obituary "$OB_SNAILBUDDY"
speed 0
reactiontime 30
States
{
Spawn:
SNLZ A 0 A_ChangeVelocity(5,0,0,CVF_RELATIVE|CVF_REPLACE)
SNLZ A 5
SNLZ A 0 A_SpawnItemEx("BuddyTrail")
SNLZ A 0 A_PlaySoundEx("weapon/OilSlider","Weapon")
SNLZ B 5
SNLZ A 0 A_Jump(80,"Travel")
SNLZ A 0 A_CountDown
goto Spawn+1
Travel:
SNLZ A 1 A_SetAngle(random(0,359))
goto Spawn
Death:
TNT1 A 0
stop
}
}

actor BuddyTrail
{
PROJECTILE
Damage (2)
obituary "$OB_SNAILBUDDY"
damagetype "SlugFeet" //Give victim the SlugFeet item.
Height 5
Radius 6
-NOGRAVITY
+FLOORHUGGER
+NOEXPLODEFLOOR
Scale 2.5
Translation "192:192=42:42"
speed 0
States
{
Spawn:
SNTR AAAAA 35
stop
}
}

actor KillerSnail //Feeding time! Alt
{
PROJECTILE
-NOGRAVITY
Radius 6
Height 6
DamageType "JumpSnail"
Obituary "$OB_SNAILATTAC"
scale 2.0
damage (15)
speed 50
States
{
Spawn:
SNLZ C 1
loop
Death:
SNLZ C 0 A_Stop
SNLZ C 0 A_PlaySoundEx("weapon/concreteshot","Weapon")
SNLZ C 1 A_SpawnItemEx("SnailTrap")
Goto XDeath
XDeath:
TNT1 A 0
stop
}
}

actor SnailTrap //The deadly predator lies in wait...
{
-SOLID
//MONSTER
PROJECTILE
+NOCLIP
+DONTBLAST
+SKYEXPLODE
-SOLID
-COUNTKILL
-SHOOTABLE
+NOGRAVITY
speed 0
scale 2.0
+SEEKERMISSILE
ReactionTime 175
+LOOKALLAROUND
Radius 6
Height 6
reactiontime 224
meleerange 20
DamageType "JumpSnail"
Obituary "$OB_SNAILATTAC"
States
{
Spawn:
SNLZ D 0
SNLZ D 0 A_JumpIf(z-floorz<=0, "Floor")
SNLZ D 0 A_JumpIf(ceilingz-z<=height, "Ceiling")
SNLZ D 5
SNLZ D 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ D 1 A_SeekerMissile(4, 0, SMF_LOOK|SMF_PRECISE, 256, 1000)
SNLZ DDDD 1 A_JumpIfTargetInLOS("Missile", 0, JLOSF_PROJECTILE)
SNLZ D 0 A_GiveInventory("CutterFlag",1)
Goto Spawn+4
Floor:
SNLZ E 5
SNLZ E 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ E 1 A_SeekerMissile(4, 0, SMF_LOOK|SMF_PRECISE, 256, 1000)
SNLZ EEEE 1 A_JumpIfTargetInLOS("Missile2", 0, JLOSF_PROJECTILE)
SNLZ E 0 A_GiveInventory("CutterFlag",1)
Goto Floor+1
Ceiling:
SNLZ F 5
SNLZ F 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ F 1 A_SeekerMissile(4, 0, SMF_LOOK|SMF_PRECISE, 256, 1000)
SNLZ FFFF 1 A_JumpIfTargetInLOS("Missile3", 0, JLOSF_PROJECTILE)
SNLZ F 0 A_GiveInventory("CutterFlag",1)
Goto Ceiling+1
Missile:
SNLZ D 0 A_SeekerMissile(4, 10, SMF_PRECISE)
SNLZ D 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ D 0 A_PlaySoundEx("weapon/crackerthrow","Voice")
SNLZ D 0 A_FaceTracer(0, 0)
SNLZ C 1 A_CustomMissile("KillerSnail",0,0,0,CMF_AIMDIRECTION, 5)
stop
Missile2:
SNLZ E 0 A_SeekerMissile(4, 10, SMF_PRECISE)
SNLZ E 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ E 0 A_PlaySoundEx("weapon/crackerthrow","Voice")
SNLZ E 0 A_FaceTracer(0, 0)
SNLZ C 1 A_CustomMissile("KillerSnail",0,0,0,CMF_AIMDIRECTION, 15)
stop
Missile3:
SNLZ F 0 A_SeekerMissile(4, 10, SMF_PRECISE)
SNLZ F 0 A_JumpIfInventory("CutterFlag",40,"Death")
SNLZ F 0 A_PlaySoundEx("weapon/crackerthrow","Voice")
SNLZ F 0 A_FaceTracer(0, 0)
SNLZ C 1 A_CustomMissile("KillerSnail",0,0,0,CMF_AIMDIRECTION, pitch)
stop
Death:
TNT1 A 0
stop
}
}

actor BananaSlugStart //Zoom
{
PROJECTILE
-NOGRAVITY
Damage (0)
Speed 0
damagetype "SlugShot"
Obituary "$OB_SNAILBANANA"
Translation "198:198=228:228"
Height 10
Radius 10
Scale 2.0
States
{
Spawn:
SNLZ G 4 A_JumpIf(z-floorz<=0,"Death")
loop
Death:
TNT1 A 0 A_SpawnItemEx("BananaSlug",0,0,0,0,0,0,0,SXF_TRANSFERTRANSLATION)
stop
}
}

actor BananaSlug //Here's the deal...
{
-SOLID
//MONSTER
PROJECTILE
+DONTBLAST
+SKYEXPLODE
-SOLID
-COUNTKILL
-SHOOTABLE
+NOGRAVITY
+HITTRACER
speed 0
scale 2.0
+SEEKERMISSILE
ReactionTime 175
+LOOKALLAROUND
Radius 10
Height 8
reactiontime 224
meleerange 20
damage(5)
DamageType "BananaSlug"
Obituary "$OB_SNAILBANANA"
Translation "198:198=228:228"
States
{
Spawn:
SNLZ G 0
SNLZ G 5 
SNLZ G 0 A_GiveInventory("CutterFlag",1)
SNLZ G 0 A_JumpIfInventory("CutterFlag",36,"Vanish")
SNLZ G 1 A_SeekerMissile(4, 0, SMF_LOOK|SMF_PRECISE, 256, 1000)
SNLZ GGGG 1 A_JumpIfTargetInLOS("Missile", 0, JLOSF_PROJECTILE)
SNLZ G 0 A_GiveInventory("CutterFlag",1)
Goto Spawn+3
Missile:
SNLZ G 0 A_SeekerMissile(4, 10, SMF_PRECISE)
SNLZ G 0 A_JumpIfInventory("CutterFlag",36,"Vanish")
SNLZ G 0 A_PlaySoundEx("misc/devilfire","Voice")
SNLZ G 0 A_FaceTracer(0, 0)
SNLZ H 8 A_CustomMissile("SlugPellet",8,0,0,CMF_AIMDIRECTION, 5)
SNLZ G 0 A_PlaySoundEx("misc/devilfire","Voice")
SNLZ G 0 A_FaceTracer(0, 0)
SNLZ H 8 A_CustomMissile("SlugPellet",8,0,0,CMF_AIMDIRECTION, 5)
SNLZ G 0 A_PlaySoundEx("misc/devilfire","Voice")
SNLZ G 0 A_FaceTracer(0, 0)
SNLZ H 8 A_CustomMissile("SlugPellet",8,0,0,CMF_AIMDIRECTION, 5)
SNLZ G 0 A_GiveInventory("CutterFlag",6)
SNLZ G 0 A_JumpIfInventory("CutterFlag",36,"Vanish")
SNLZ G 35
goto Spawn+3
Vanish:
TNT1 A 0
stop
Death:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("CutterFlag",1,1)
goto Vanish
SNLZ I 0 A_FaceTracer(0, 0)
SNLZ I 0 A_SpawnItemEx("SlugSlip",0,0,0,-8,0,5,random(-5,5),SXF_TRANSFERTRANSLATION)
SNLZ I 0 A_SpawnItemEx("SlugPeel",0,0,0,-5,0,8,random(-5,5),SXF_TRANSFERTRANSLATION)
stop
}
}

actor SlugPellet
{
PROJECTILE
Damage (6)
Height 5
Radius 5
DamageType "SlugShot"
Obituary "$OB_SNAILBANANA"
Translation "198:198=228:228"
-NOGRAVITY
Scale 2.5
speed 28
States
{
Spawn:
BLMU G 5
loop
}
}

actor SlugSlip
{
scale 2.0
+MISSILE
-SOLID
-NOGRAVITY
Translation "198:198=228:228"
Height 1
Radius 1
States
{
Spawn:
SNLZ I 5
loop
}
}

actor SlugPeel : SlugSlip
{
States
{
Spawn:
SNLZ J 5
loop
}
}

actor HomingSnailFlag : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor HomingSnail //Reload attack
{
-SOLID
PROJECTILE
-NOGRAVITY
+NOEXPLODEFLOOR
Damage (8)
DamageType "HomingSnail"
Obituary "$OB_SNAILMAGNET"
Height 5
Radius 6
Scale 2.0
Translation "249:249=42:42", "250:250=3:3"
gravity 1.0
speed 20
States
{
Spawn:
SNLZ K 0
SNLZ K 5
SNLZ K 0 A_JumpIfInTargetInventory("HomingSnailFlag",1,1)
goto Returning
SNLZ L 5
SNLZ L 0 A_JumpIfInTargetInventory("HomingSnailFlag",1,1)
goto Returning
SNLZ L 0
loop
Returning:
SNLZ K 0 A_ChangeVelocity(0,0,0,CVF_RELATIVE|CVF_REPLACE)
SNLZ K 0 A_Stop
SNLZ K 0 A_PlaySoundEx("weapon/flashstopper","Weapon")
SNLZ K 0 A_SpawnItemEx("HomingSnailPinged",0,0,5)
SNLZ K 8
goto Return2+1
Return2:
SNLZ K 0 A_SpawnItemEx("HomingSnailPinged",0,0,5)
SNLZ K 0 A_FaceTarget
SNLZ K 0 A_ChangeVelocity(0,0,0,CVF_RELATIVE|CVF_REPLACE)
SNLZ K 0 A_Stop
SNLZ K 0 A_ChangeVelocity(20,0,0,CVF_RELATIVE|CVF_REPLACE)
SNLZ KKKKKLLLLL 1 A_JumpIfCloser(28,"Death")
goto Return2
Death:
TNT1 A 0
stop
}
}

actor HomingSnailFX
{
scale 2.5
Radius 1
Height 1
+NOGRAVITY
-SOLID
+NOINTERACTION
+CLIENTSIDEONLY
RenderStyle Translucent
Alpha 0.5
States
{
Spawn:
SNLZ MNOPQ 2
stop
}
}
actor HomingSnailPing1 : HomingSnailFX
{
Translation "198:198=42:42"
scale 5.0
}
actor HomingSnailPing2 : HomingSnailFX
{
Translation "198:198=198:198"
scale 5.0
}
actor HomingSnailPinged : HomingSnailPing1
{
scale 1.0
}

/*
actor MucusBomb //Weapon 2 alt
{
PROJECTILE
Radius 6
Height 7
scale 2.5
damage (0)
damagetype "SnailHands" //Give victim the SlimyHands item.
Obituary "$OB_SNAILBOMB"
+EXPLODEONWATER
Translation "198:198=110:110"
speed 50
States
{
Spawn:
BLMU DEDF 3
loop
Death:
BLMU D 0 A_PlaySoundEx("misc/oil","Weapon")
BLMU D 0 A_Explode(60, 128, 0)
BLMU D 0 A_SpawnItemEX("MucusDrop",random(-8,8),random(-8,8),random(0,16),random(-8,8),random(-8,8),random(0,12))
BLMU D 0 A_SpawnItemEX("MucusDrop",random(-8,8),random(-8,8),random(0,16),random(-8,8),random(-8,8),random(0,12))
BLMU D 0 A_SpawnItemEX("MucusDrop",random(-8,8),random(-8,8),random(0,16),random(-8,8),random(-8,8),random(0,12))
BLMU D 0 A_SpawnItemEX("MucusDrop",random(-8,8),random(-8,8),random(0,16),random(-8,8),random(-8,8),random(0,12))
BLMU D 0 A_SpawnItemEX("MucusDrop",random(-8,8),random(-8,8),random(0,16),random(-8,8),random(-8,8),random(0,12))
stop
}
}

actor MucusDrop
{
PROJECTILE
Damage (9)
obituary "$OB_SNAILBOMB"
damagetype "SlugHands2" //Don't give victim the SlimyHands item.
Translation "198:198=110:110"
Height 5
Radius 5
-NOGRAVITY
Scale 2.0
speed 0
States
{
Spawn:
BLMU G 5
loop
}
}
*/