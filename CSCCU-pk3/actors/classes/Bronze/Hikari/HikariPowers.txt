actor HikariArms : MegaBuster
{
Weapon.AmmoUse 0
Weapon.AmmoGive 0
Weapon.SlotNumber 1
Obituary "%o collided by and crushed with %k's fist."
Tag "Punch Style"
weapon.ammotype "HikariSuperMeter"
inventory.icon "HIPUNCH"
dropitem "HikoukenWepCDropped"
States
{
Spawn:
TNT1 A 1
loop
Ready:
HIKH A 0 ACS_ExecuteAlways(998,0,DYE_CUTMAN)
HIKH A 0 A_GunFlash
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("RightClickFlag",1)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 1 A_WeaponReady
Goto Ready+2

Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HIKH A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HIKH A 1 A_Raise
Loop

Fire:
HIKH A 0 A_TakeInventory("HikariUppercutFrame",1)
HIKH A 0 A_TakeInventory("HikariKnuckleFrame",1)
HIKH A 0 A_TakeInventory("HikariRevolverFrame",1)
HIKH A 0 A_TakeInventory("HikariDivekickFrame",1)
HIKH A 0 A_TakeInventory("HikariFireballFrame",1)
HIKH A 0 A_TakeInventory("HikariKickFrame",1)
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("RightClickFlag",1)
HIKH A 0 A_JumpIfInventory("HikariSuperFlag1",1,"KickSuperCheck2")
HIKH A 0 A_JumpIfInventory("HikariSuperFlag2",1,"PunchSuperCheck2")
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_GiveInventory("HSMFlag",1)
HIKH A 0 A_PlaySoundEx("hikouken/start","Weapon")
HIKH A 0 A_GiveInventory("RightClickFlag",1)
HIKH BBCCDD 1 A_WeaponReady(WRF_NOPRIMARY)
HIKH A 0 A_TakeInventory("RightClickFlag",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
Fire1: //Hikouken
HIKH A 0 A_PlaySoundEx("hikouken/fire","Weapon")
HIKH A 0 A_GiveInventory("HikoukenColors")
HIKH E 10
HIKH DDCCBB 1 A_WeaponReady(WRF_NOPRIMARY)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_Refire
Goto Ready+2

PunchSuper: //Shin Hikouken
HIKH A 0 A_TakeInventory("HikariFireballFrame",1)
HIKH A 0 A_TakeInventory("HikariKickFrame",1)
HIKH A 0 A_GiveInventory("HikariFireballFrame",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 A_TakeInventory("HikariSuperMeter",300)
HIKH A 0 A_PlaySoundEx("hikari/super","SoundSlot7")
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,1)
HIKH A 0 SetPlayerProperty(0,1,0)
HIKH A 0 A_Stop
HIKH A 0 A_GiveInventory("HikariSuperArmor",1)
HIKH A 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOPRIMARY|WRF_NOSECONDARY)
HIKH A 0 A_JumpIfInventory("HikariSuperCut",1,"PunchSuper2")
HIKH BCDDDDDDDDDDDD 2 A_SpawnItemEx("SuperMeterFX",random(-25,25),random(-25,25),random(-25,25),0,0,0,0)
HIKH A 0 A_PlaySoundEx("weapon/lshot","Weapon")
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"PunchSuperLoop2")
goto PunchSuperLoop
PunchSuper2:
HIKH A 0 A_TakeInventory("HikariSuperCut",1)
HIKH BCDDDDD 2 A_SpawnItemEx("SuperMeterFX",random(-25,25),random(-25,25),random(-25,25),0,0,0,0)
HIKH A 0 A_PlaySoundEx("weapon/lshot","Weapon")
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"PunchSuperLoop2")
goto PunchSuperLoop
PunchSuperLoop:
HIKH A 0 A_GiveInventory("ShinHikoukenColors1")
HIKH QRS 1 ThrustThingZ(0,0,0,0)
HIKH A 0 A_GiveInventory("ShinHikoukenColors2")
HIKH NOP 1 ThrustThingZ(0,0,0,0)
HIKH A 0 A_GiveInventory("CutterFlag",1)
HIKH A 0 A_JumpIfInventory("CutterFlag",10,"PunchSuperEnd")
loop
PunchSuperLoop2:
HIKH A 0 A_GiveInventory("LeftClickFlag",1)
HIKH A 0 A_GiveInventory("HikariSuperFlag1",1)
HIKH A 0 A_GiveInventory("ShinHikoukenColors1")
HIKH Q 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH R 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH S 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 A_GiveInventory("ShinHikoukenColors2")
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH N 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH O 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH P 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 ThrustThingZ(0,0,0,0)
HIKH A 0 A_GiveInventory("CutterFlag",1)
HIKH A 0 A_JumpIfInventory("CutterFlag",10,"PunchSuperEnd")
goto PunchSuperLoop2+2
PunchSuperEnd:
HIKH A 0 A_TakeInventory("HikariFireballFrame",1)
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("HikariSuperArmor",1)
HIKH A 2 Offset(0,92)
HIKH A 2 Offset(0,82)
HIKH A 2 Offset(0,72)
HIKH A 2 Offset(0,62)
HIKH A 2 Offset(0,52)
HIKH A 2 Offset(0,42)
HIKH A 2 Offset(0,32)
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 A_Refire
Goto Ready+2

KickSuper: //Shinnado Kick
HIKH A 0 A_TakeInventory("HikariFireballFrame",1)
HIKH A 0 A_TakeInventory("HikariKickFrame",1)
HIKH A 0 A_GiveInventory("HikariKickFrame",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 A_TakeInventory("HikariSuperMeter",300)
HIKH A 0 A_PlaySoundEx("hikari/super","SoundSlot7")
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,1)
HIKH A 0 SetPlayerProperty(0,1,0)
HIKH A 0 A_Stop
HIKH A 0 A_GiveInventory("HikariSuperArmor",1)
HIKH A 0 A_GiveInventory("HikariSuperFlag2",1)
HIKH A 0 A_JumpIfInventory("HikariSuperCut",1,"KickSuper2")
HIKH JJJJJJJJJJJJJJ 2 A_SpawnItemEx("SuperMeterFX",random(-25,25),random(-25,25),random(-25,25),0,0,0,0)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"KickSuperLoop2")
goto KickSuperLoop
KickSuper2:
HIKH JJJJJJJ 2 A_SpawnItemEx("SuperMeterFX",random(-25,25),random(-25,25),random(-25,25),0,0,0,0)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"KickSuperLoop2")
goto KickSuperLoop
KickSuperLoop:
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,0,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-37,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,30,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-74,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,60,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-111,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,90,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-148,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,120,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(296,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,150,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(259,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,180,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(222,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,210,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(185,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,270,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(148,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,300,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(111,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,330,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(74,32)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,360,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(37,32)
HIKH F 0 A_GiveInventory("KnightFlag",1)
HIKH F 0 A_JumpIfInventory("KnightFlag",5,"KickSuperEnd")
loop
KickSuperLoop2:
HIKH F 0 A_GiveInventory("LeftClickFlag",1)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,0,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-37,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,30,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-74,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,60,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-111,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,90,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(-148,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,120,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(296,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,150,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(259,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,180,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(222,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,210,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(185,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,270,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(148,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,300,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(111,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_PlaySoundEx("weapon/airshooter","Weapon")
HIKH F 0 A_SpawnItemEx("SpinningKick",8,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,330,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(74,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_Recoil(-2)
HIKH F 0 A_SpawnItemEx("SpinningKickFX",100,0,15,0,0,0,360,SXF_TRANSFERTRANSLATION)
HIKH F 1 OffSet(37,32)
HIKH F 0 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH F 0 A_GiveInventory("KnightFlag",1)
HIKH F 0 A_JumpIfInventory("KnightFlag",5,"KickSuperEnd")
goto KickSuperLoop2+1
KickSuperEnd:
HIKH A 0 A_TakeInventory("HikariKickFrame",1)
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("KnightFlag",999)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("HikariSuperArmor",1)
HIKH J 5
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 A_Refire
Goto Ready+2

PunchSuperCheck:
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"PunchSuper")
HIKH A 0 A_TakeInventory("HSMFlag",1)
goto Altfire+1

PunchSuperCheck2:
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_TakeInventory("KnightFlag",999)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("HikariSuperArmor",1)
HIKH A 0 A_GiveInventory("HikariSuperCut",1)
goto PunchSuper
KickSuperCheck2:
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_TakeInventory("KnightFlag",999)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_TakeInventory("HSMFlag",1)
HIKH A 0 ACS_NamedExecuteAlways("core_flyplayer",0,0,0)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("HikariSuperArmor",1)
HIKH A 0 A_GiveInventory("HikariSuperCut",1)
goto KickSuper

Altfire:
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("RightClickFlag",1)
HIKH A 0 A_JumpIfInventory("HSMFlag",1,"PunchSuperCheck")
HIKH A 0 A_CheckFloor("Ground")
goto Air

Ground: //Rising Upper (Ground)
HIKH A 0 A_GiveInventory("HikariUppercutFrame",1)
HIKH A 0 SetPlayerProperty(0,1,0)
HIKH A 0 A_Recoil(-1)
HIKH A 1 Offset(0,32)
HIKH A 0 A_Recoil(-2)
HIKH A 1 Offset(0,64)
HIKH A 0 A_Recoil(-2)
HIKH A 1 Offset(0,96)
HIKH A 0 A_Recoil(-3)
HIKH A 0 A_PlaySoundEx("burningknuckle","Weapon")
HIKH A 0 A_GiveInventory("RisingUpperColors")
HIKH T 1 Offset(0,97)
HIKH A 0 A_Recoil(-3)
HIKH A 0 ThrustThingZ(0,50,0,0)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH T 1 Offset(0,75)
HIKH A 0 A_Recoil(-1)
HIKH T 1 Offset(0,53)
HIKH A 0 A_Recoil(-1)
HIKH A 0 Offset(0,32)
HIKH TTTTTTTTTT 1 A_WeaponReady(WRF_NOSWITCH|WRF_NOSECONDARY)
HIKH A 0 A_TakeInventory("HikariUppercutFrame",1)
HIKH T 1 Offset(0,52)
HIKH T 1 Offset(0,72)
HIKH T 1 Offset(0,92)
HIKH A 1 Offset(0,72)
HIKH A 1 Offset(0,52)
HIKH A 1 Offset(0,32)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_Refire
Goto Ready+2
Air: //Burning Knuckle (Aerial)
HIKH A 0 A_JumpIfInventory("HikariStamina",1,"Continue")
goto NoAmmo
Continue:
HIKH A 0 A_GiveInventory("HikariKnuckleFrame",1)
HIKH A 0 A_PlaySoundEx("burningknuckle","Weapon")
HIKH A 0 SetPlayerProperty(0,1,0)
HIKH KKLLL 1 A_Stop
HIKH A 0 A_TakeInventory("HikariStamina",2)
HIKH A 0 A_Recoil(-45)
HIKH A 0 A_GiveInventory("BurningKnuckleColors")
HIKH MMMMMLLLLL 1 ThrustThingZ(0,0,0,0)
HIKH A 0 A_TakeInventory("HikariKnuckleFrame",1)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH KKKKKKKKKK 1 A_JumpIfInventory("HikariJumpCancel",1,"JumpCancel2")
AirEnd:
JumpCancel:
HIKH A 0 A_TakeInventory("HikariUppercutFrame",1)
HIKH A 0 A_TakeInventory("HikariKnuckleFrame",1)
HIKH A 0 A_TakeInventory("HikariRevolverFrame",1)
HIKH A 0 A_TakeInventory("HikariDivekickFrame",1)
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_TakeInventory("KickFlag",1)
HIKH A 0 A_TakeInventory("KickFlag2",1)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_Refire
Goto Ready+2
JumpCancel2:
HIKH A 0 ThrustThingZ(0,50,0,0)
goto JumpCancel

NoAmmo:
HIKH A 1 ACS_Execute(979,0)
Goto Ready+2

Flash:
TNT1 A 1 A_CheckFloor("FloorFlash")
loop
FloorFlash:
TNT1 A 1 A_TakeInventory("DivekickPrevent",1)
TNT1 A 0 A_GiveInventory("HikariStamina",1)
goto Flash
}
}

actor HikariLegs : HikariArms
{
Weapon.SlotNumber 2
Obituary "%o was kicked into orbit by %k."
Tag "Kick Style"
inventory.icon "HIKICK"
States
{
KickSuperCheck:
HIKH A 0 A_TakeInventory("HikariSuperFlag1",1)
HIKH A 0 A_TakeInventory("HikariSuperFlag2",1)
HIKH A 0 A_JumpIfInventory("HikariSuperMeter",300,"KickSuper")
HIKH A 0 A_TakeInventory("HSMFlag",1)
goto Altfire+1

Altfire:
HIKH A 0 A_TakeInventory("LeftClickFlag",1)
HIKH A 0 A_TakeInventory("RightClickFlag",1)
HIKH A 0 A_JumpIfInventory("HSMFlag",1,"KickSuperCheck")
HIKH A 0 A_JumpIfInventory("HikariStamina",1,"AltChoose")
goto NoAmmo
AltChoose:
HIKH A 0 A_CheckFloor("Ground")
goto Air

Ground: //Accel Revolver
HIKH A 0 A_GiveInventory("HikariRevolverFrame",1)
HIKH A 0 A_Stop
HIKH A 0 A_Recoil(-30)
HIKH A 0 ThrustThingZ(0,30,0,0)
HIKH J 2 A_PlaySoundEx("accelrevolver","Weapon")
HIKH F 1 ThrustThingZ(0,10,0,0)
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH F 1 A_GiveInventory("AccelRevolverColors1")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 ThrustThingZ(0,10,0,0)
HIKH G 1 A_TakeInventory("HikariStamina",2)
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH G 1 A_GiveInventory("AccelRevolverColors2")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH H 1 ThrustThingZ(0,5,0,0)
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH H 1 A_GiveInventory("AccelRevolverColors3")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH I 1 ThrustThingZ(0,-5,0,0)
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH I 1 A_GiveInventory("AccelRevolverColors4")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_TakeInventory("HikariRevolverFrame",1)
TNT1 AAAAAAAAAAAA 1 A_CheckFloor("GroundEnd")
goto GroundEnd+1
GroundEnd:
HIKH A 0 A_Stop
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_TakeInventory("HikariRevolverFrame",1)
HIKH A 0 A_TakeInventory("HikariDivekickFrame",1)
HIKH A 1 Offset(0,92)
HIKH A 1 Offset(0,82)
HIKH A 1 Offset(0,72)
HIKH A 1 Offset(0,62)
HIKH A 1 Offset(0,52)
HIKH A 1 Offset(0,42)
HIKH A 1 Offset(0,32)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_TakeInventory("KickFlag",1)
HIKH A 0 A_TakeInventory("KickFlag2",1)
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_Refire
Goto Ready+2
BounceBack:
HIKH A 0 A_PlaySoundEx("hikari/bounceback","Weapon")
HIKH A 0 SetPlayerProperty(0,0,0)
HIKH A 0 A_Stop
HIKH A 0 A_Recoil(10)
HIKH A 0 ThrustThingZ(0,25,0,0)
goto GroundEnd+2
BounceBack2:
HIKH A 0 A_GiveInventory("DivekickPrevent",1)
goto BounceBack

Air: //Divekick
HIKH A 0 A_JumpIfInventory("DivekickPrevent",1,"Ground")
HIKH A 0 A_GiveInventory("HikariDivekickFrame",1)
HIKH A 0 A_PlaySoundEx("divekick/start","Weapon")
HIKH J 1 A_TakeInventory("HikariStamina",2)
Air1:
HIKH A 0 A_Stop
HIKH A 0 SetPlayerProperty(0,1,0)
HIKH A 0 ThrustThingZ(0,8,0,0)
HIKH J 1 A_Recoil(2)
HIKH A 0 A_GiveInventory("CutterFlag",1)
HIKH A 0 A_JumpIfInventory("CutterFlag",5,"Air2")
loop
Air2:
HIKH A 0 A_TakeInventory("HikariJumpCancel",1)
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_Stop
HIKH A 0 A_PlaySoundEx("divekick/fire","Weapon")
AirLoop:
HIKH A 0 A_JumpIfInventory("HikariJumpCancel",1,"JumpCancel")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_JumpIfInventory("KickFlag2",1,"BounceBack2")
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH A 0 A_GiveInventory("DivekickColors")
HIKH A 0 ThrustThingZ(0,-30,0,0)
HIKH F 1 A_Recoil(-5)
HIKH A 0 A_GiveInventory("CutterFlag",1)
HIKH A 0 A_JumpIfInventory("CutterFlag",10,"Slowdown1")
HIKH A 0 A_CheckFloor("GroundEnd")
loop
Slowdown1:
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_JumpIfInventory("HikariJumpCancel",1,"JumpCancel")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_JumpIfInventory("KickFlag2",1,"BounceBack2")
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH A 0 A_GiveInventory("DivekickColors")
HIKH A 0 ThrustThingZ(0,-50,0,0)
HIKH F 1 A_Recoil(-3)
HIKH A 0 A_GiveInventory("CutterFlag",1)
HIKH A 0 A_JumpIfInventory("CutterFlag",10,"Slowdown2")
HIKH A 0 A_CheckFloor("GroundEnd")
goto Slowdown1+1
Slowdown2:
HIKH A 0 A_TakeInventory("CutterFlag",999)
HIKH A 0 A_JumpIfInventory("HikariJumpCancel",1,"JumpCancel")
HIKH A 0 A_JumpIfInventory("KickFlag",1,"BounceBack")
HIKH A 0 A_JumpIfInventory("KickFlag2",1,"BounceBack2")
HIKH A 0 A_FireCustomMissile("KickActions")
HIKH A 0 A_GiveInventory("DivekickColors")
HIKH F 1 ThrustThingZ(0,-70,0,0)
HIKH A 0 A_CheckFloor("GroundEnd")
goto Slowdown2+1
}
}

//Inventory and Flags
Actor HikariPerfect : PowerUp
{
PowerUp.Duration -2
}

Actor HikariSuperArmor : PowerProtection
{
PowerUp.Duration 0x7FFFFFFF
DamageFactor "Normal", 0.5
}

actor HikariSuperMeter : Ammo
{
inventory.amount 1
inventory.maxamount 900
+INVENTORY.IGNORESKILL
}

Actor HSMFlag : Inventory{}
Actor HikariSuperFlag1 : Inventory{}
Actor HikariSuperFlag2 : Inventory{}
Actor HikariJumpCancel : Inventory{}
Actor KickFlag : Inventory{}
Actor KickFlag2 : Inventory{}
Actor DivekickPrevent : Inventory{}
Actor HikariSuperCut : Inventory{}

actor HikariStamina : Inventory
{
inventory.amount 1
inventory.maxamount 6
+INVENTORY.IGNORESKILL
}

actor SuperMeterFX : GeminiTrail
{
Translation "0:255=229:229"
renderstyle "Add"
alpha 0.8
scale 2.5
States
{
Spawn:
TNT1 A 0
HSUP IKIK 1 A_Fadeout
stop
}
}

//Mainfire
actor HikoukenColors : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("Hikouken",0,0,8,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("HikoukenB",0,0,8,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("HikoukenR",0,0,8,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("HikoukenG",0,0,8,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("HikoukenY",0,0,8,0)
stop
}
}

actor Hikouken
{
PROJECTILE
+MTHRUSPECIES
translation "192:192=160:160", "198:198=219:219", "208:208=160:160", "209:212=219:219"
damagetype "Hikari"
Obituary "%o was done blasted by %k's \ciHikouken\c-."
Speed 50
Damage (10 + CallACS("DamageRate",10,300,10))
radius 16
height 16
scale 2.5
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFX",0,0,1)
loop
Death:
TNT1 A 0 A_SetScale(1)
ASEX ABCDEF 2 A_Fadeout
stop
Crash:
TNT1 A 0 A_GiveToTarget("HikariSuperMeter",5)
goto Death
}
}

actor HikoukenB : Hikouken
{
translation "192:192=205:205", "198:198=74:74", "208:208=205:205", "209:212=74:74"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXB",0,0,1)
loop
}
}

actor HikoukenR : Hikouken
{
translation "192:192=171:171", "198:198=41:41", "208:208=171:171", "209:212=41:41"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXR",0,0,1)
loop
}
}

actor HikoukenG : Hikouken
{
translation "192:192=104:104", "198:198=128:128", "208:208=104:104", "209:212=128:128"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXG",0,0,1)
loop
}
}

actor HikoukenY : Hikouken
{
translation "192:192=229:229", "198:198=232:232", "208:208=229:229", "209:212=232:232"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXY",0,0,1)
loop
}
}

actor HikoukenFX : HardKnuckleFX
{
translation "208:208=160:160", "209:212=219:219"
renderstyle "Add"
alpha 0.8
scale 0.75
Radius 0
Height 0
States
{
Spawn:
TNT1 A 0
ASEX ABCDEF 2 A_Fadeout
stop
}
}

actor HikoukenFXB : HikoukenFX{translation "208:208=205:205", "209:212=74:74"}
actor HikoukenFXR : HikoukenFX{translation "208:208=171:171", "209:212=41:41"}
actor HikoukenFXG : HikoukenFX{translation "208:208=104:104", "209:212=128:128"}
actor HikoukenFXY : HikoukenFX{translation "208:208=229:229", "209:212=232:232"}

//Altfire (Punch - Ground)
actor RisingUpperColors : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("RisingUpper",0,0,8,20)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("RisingUpperB",0,0,8,20)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("RisingUpperR",0,0,8,20)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("RisingUpperG",0,0,8,20)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("RisingUpperY",0,0,8,20)
stop
}
}

actor RisingUpper
{
PROJECTILE
translation "208:208=196:196", "209:215=197:197"
+MTHRUSPECIES
+THRUGHOST
damagetype "RisingUpper"
Obituary "%o had their jaw crushed by %k's \cnRising Upper\c-."
Speed 25
Damage (20)
Radius 30
Height 30
scale 3
States
{
Spawn:
TNT1 A 0
TNT1 A 2
goto Death
Death:
TNT1 A 0 A_ScaleVelocity(0.25)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFX",0,0,0,0,0,0,0)
stop
Crash:
TNT1 A 0 A_GiveToTarget("HikariSuperMeter",5)
goto Death
}
}

actor RisingUpperB : RisingUpper
{
translation "208:208=205:205", "209:215=74:74"
States
{
Spawn:
TNT1 A 0
TNT1 A 2
goto Death
Death:
TNT1 A 0 A_ScaleVelocity(0.25)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXB",0,0,0,0,0,0,0)
stop
}
}

actor RisingUpperR : RisingUpper
{
translation "208:208=171:171", "209:215=41:41"
States
{
Spawn:
TNT1 A 0
TNT1 A 2
goto Death
Death:
TNT1 A 0 A_ScaleVelocity(0.25)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXR",0,0,0,0,0,0,0)
stop
}
}

actor RisingUpperG : RisingUpper
{
translation "208:208=104:104", "209:215=128:128"
States
{
Spawn:
TNT1 A 0
TNT1 A 2
goto Death
Death:
TNT1 A 0 A_ScaleVelocity(0.25)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXG",0,0,0,0,0,0,0)
stop
}
}

actor RisingUpperY : RisingUpper
{
translation "208:208=229:229", "209:215=232:232"
States
{
Spawn:
TNT1 A 0
TNT1 A 2
goto Death
Death:
TNT1 A 0 A_ScaleVelocity(0.25)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
MMFX C 0 ThrustThingZ(0,15,0,1)
MMFX C 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
MMFX D 0 ThrustThingZ(0,15,0,1)
MMFX D 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
MMFX E 0 ThrustThingZ(0,15,0,1)
MMFX E 1 A_SpawnItemEx("RisingUpperFXY",0,0,0,0,0,0,0)
stop
}
}

actor RisingUpperFX : HardKnuckleFX
{
translation "208:208=196:196", "209:215=197:197"
Radius 1
Height 1
scale 2.5
States
{
Spawn:
TNT1 A 0
MMFX CDE 2 A_Fadeout
wait
}
}

actor RisingUpperFXB : RisingUpperFX{translation "208:208=205:205", "209:215=74:74"}
actor RisingUpperFXR : RisingUpperFX{translation "208:208=171:171", "209:215=41:41"}
actor RisingUpperFXG : RisingUpperFX{translation "208:208=104:104", "209:215=128:128"}
actor RisingUpperFXY : RisingUpperFX{translation "208:208=229:229", "209:215=232:232"}

//Altfire (Punch - Aerial)
actor BurningKnuckleColors : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("BurningKnuckle",0,0,0,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("BurningKnuckleB",0,0,0,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("BurningKnuckleR",0,0,0,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("BurningKnuckleG",0,0,0,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("BurningKnuckleY",0,0,0,0)
stop
}
}

actor BurningKnuckle
{
PROJECTILE
+MTHRUSPECIES
translation "229:229=196:196", "227:227=197:197", "208:208=196:196", "209:215=197:197"
damagetype "Hikari"
Obituary "%o was burned by %k's \cgBurning Knuckle\c-."
Speed 56
Damage (15)
Radius 12
Height 12
scale 5
States
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("core_shieldwarper", 0, 1)
TNT1 A 0 A_Jump(256, "Shield")
goto Shield
Shield:
FIRE AABBCC 1 A_Warp(AAPTR_TARGET, 80, 0, 18, 0, WARPF_COPYINTERPOLATION|WARPF_NOCHECKPOSITION)
Death:
TNT1 A 0 A_ScaleVelocity(0.1)
TNT1 A 0 A_ChangeVelocity(25,0,momz,CVF_RELATIVE|CVF_REPLACE)//A_Recoil(-20)
FIRE ABCABC 2 A_Fadeout(0.2)
stop
Crash:
TNT1 A 0 A_GiveToTarget("HikariSuperMeter",5)
MMFX BCDE 2
stop
}
}

actor BurningKnuckleB : BurningKnuckle{translation "229:229=205:205", "227:227=74:74", "208:208=205:205", "209:215=74:74"}
actor BurningKnuckleR : BurningKnuckle{translation "229:229=171:171", "227:227=41:41", "208:208=171:171", "209:215=41:41"}
actor BurningKnuckleG : BurningKnuckle{translation "229:229=104:104", "227:227=128:128", "208:208=104:104", "209:215=128:128"}
actor BurningKnuckleY : BurningKnuckle{translation "229:229=229:229", "227:227=232:232", "208:208=229:229", "209:215=232:232"}

//Altfire (Kick - General)
actor KickActions
{
PROJECTILE
+MTHRUSPECIES
+THRUACTORS
+DONTREFLECT
+DONTSPLASH
Radius 8
Height 8
Speed 40
States
{
Spawn:
TNT1 A 0
TNT1 A 1
stop
Death:
TNT1 A 0 A_Stop
TNT1 A 0 A_JumpIf(CeilingZ - FloorZ <=48 , "XDeath")
TNT1 A 0 A_CheckFloor("XDeath")
TNT1 A 0 A_CheckCeiling("XDeath")
TNT1 A 0 A_GiveToTarget("KickFlag",1)
stop
XDeath:
Crash:
Floor:
TNT1 A 0
stop
}
}

//Altfire (Kick - Ground)
actor AccelRevolverColors1 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("AccelRevolver",-10,0,30,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverB",-10,0,30,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverR",-10,0,30,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverG",-10,0,30,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverY",-10,0,30,0)
stop
}
}

actor AccelRevolverColors2 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("AccelRevolver",-5,0,15,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverB",-5,0,15,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverR",-5,0,15,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverG",-5,0,15,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverY",-5,0,15,0)
stop
}
}

actor AccelRevolverColors3 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("AccelRevolver",5,0,-15,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverB",5,0,-15,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverR",5,0,-15,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverG",5,0,-15,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverY",5,0,-15,0)
stop
}
}

actor AccelRevolverColors4 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("AccelRevolver",10,0,-30,0)
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverB",10,0,-30,0)
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverR",10,0,-30,0)
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverG",10,0,-30,0)
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("AccelRevolverY",10,0,-30,0)
stop
}
}

actor AccelRevolver
{
PROJECTILE
+MTHRUSPECIES
+THRUGHOST
damagetype "Hikari"
Obituary "%o was twisted by %k's \cgAccel Revolver\c-."
Speed 80
Damage (0)
Radius 1
Height 1
scale 3
States
{
Spawn:
TNT1 A 0
TNT1 A 1
Death:
TNT1 A 0 A_Stop
FSPK ABCD 2 A_Explode(10,50,0)
stop
Crash:
TNT1 A 0 A_GiveToTarget("HikariSuperMeter",1)
goto Death
}
}

actor AccelRevolverB : AccelRevolver{translation "248:248=205:205", "41:41=74:74"}
actor AccelRevolverR : AccelRevolver{translation "248:248=171:171"}
actor AccelRevolverG : AccelRevolver{translation "248:248=104:104", "41:41=128:128"}
actor AccelRevolverY : AccelRevolver{translation "248:248=229:229", "41:41=232:232"}

//Altfire (Kick - Aerial)
actor DivekickColors : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("Divekick")
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("DivekickB")
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("DivekickR")
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("DivekickG")
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("DivekickY")
stop
}
}

actor Divekick
{
PROJECTILE
+MTHRUSPECIES
translation "4:4=173:173", "225:225=42:42"
Radius 14
Height 25
scale 2.5
damage (5)
damagetype "Hikari"
Obituary "%o was stomped by %k's \ciDivekick\c-."
speed 40
States
{
Spawn:
TNT1 A 0
TNT1 A 0
CKIC DEF 2 A_Fadeout
stop
Crash:
TNT1 A 0 A_GiveToTarget("KickFlag2",1)
TNT1 A 0 A_GiveToTarget("HikariSuperMeter",5)
stop
}
}

actor DivekickB : Divekick{translation "4:4=205:205", "225:225=74:74"}
actor DivekickR : Divekick{translation "4:4=171:171", "225:225=41:41"}
actor DivekickG : Divekick{translation "4:4=104:104", "225:225=128:128"}
actor DivekickY : Divekick{translation "4:4=229:229", "225:225=232:232"}

//Punch Super
actor ShinHikoukenColors1 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("ShinHikouken",random(1,4),0,random(1,12),0,0,random(-5,5))
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenB",random(1,4),0,random(1,12),0,0,random(-5,5))
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenR",random(1,4),0,random(1,12),0,0,random(-5,5))
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenG",random(1,4),0,random(1,12),0,0,random(-5,5))
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenY",random(1,4),0,random(1,12),0,0,random(-5,5))
stop
}
}

actor ShinHikoukenColors2 : HikariColorBase
{
States
{
Default:
TNT1 A 0 A_FireCustomMissile("ShinHikouken",random(-1,-4),0,random(-1,-12),0,0,random(-5,5))
stop
LightFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenB",random(-1,-4),0,random(-1,-12),0,0,random(-5,5))
stop
WilyFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenR",random(-1,-4),0,random(-1,-12),0,0,random(-5,5))
stop
CossackFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenG",random(-1,-4),0,random(-1,-12),0,0,random(-5,5))
stop
KingFire:
TNT1 A 0 A_FireCustomMissile("ShinHikoukenY",random(-1,-4),0,random(-1,-12),0,0,random(-5,5))
stop
}
}

actor ShinHikouken : Hikouken
{
translation "192:192=160:160", "198:198=219:219", "208:208=160:160", "209:212=219:219"
Obituary "%o was done blasted by %k's \ciShin Hikouken\c-."
damagetype "Hikari2"
Speed 50
Damage (10)
radius 16
height 16
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFX",0,0,1)
loop
Death:
TNT1 A 0 A_SetScale(1)
ASEX ABCDEF 2 A_Fadeout
stop
Crash:
TNT1 A 0
goto Death
}
}

actor ShinHikoukenB : ShinHikouken
{
translation "192:192=205:205", "198:198=74:74", "208:208=205:205", "209:212=74:74"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXB",0,0,1)
loop
}
}

actor ShinHikoukenR : ShinHikouken
{
translation "192:192=171:171", "198:198=41:41", "208:208=171:171", "209:212=41:41"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXR",0,0,1)
loop
}
}

actor ShinHikoukenG : ShinHikouken
{
translation "192:192=104:104", "198:198=128:128", "208:208=104:104", "209:212=128:128"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXG",0,0,1)
loop
}
}

actor ShinHikoukenY : ShinHikouken
{
translation "192:192=229:229", "198:198=232:232", "208:208=229:229", "209:212=232:232"
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXY",0,0,1)
loop
}
}

//Kick Super
actor SpinningKick
{
PROJECTILE
+MTHRUSPECIES
+NOINTERACTION
+DONTBLAST
scale 2.5
damagetype "Hikari2"
Obituary "%o was spun out by %k's \ccShinnado Kick\c-."
Speed 0
height 1
radius 1
States
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_ExecuteAlways(247,0,12,256)
TNT1 A 2 A_Explode(8,90,0)
stop
}
}

actor SpinningKickFX : GeminiTrail
{
translation "192:192=4:4", "198:198=88:88"
scale 2
States
{
Spawn:
TNT1 A 0
SPKI BCDE 3 A_Fadeout(0.2)
stop
}
}

actor HikoukenWep : MegaBuster
{
Weapon.AmmoUse 1
Weapon.AmmoGive 28
Weapon.SlotNumber 2
Obituary "%o was done blasted by %k's \chHikouken\c-."
weapon.ammotype "HikoukenAmmo"
Inventory.Pickupmessage "Power up! Hikouken!"
Tag "Hikouken"
inventory.icon "HIKOK"
States
{
Spawn:
HIKO U 1
Loop
Ready:
HICH A 0 ACS_ExecuteAlways(998,0,DYE_HIKOUKEN)
HICH A 0 A_TakeInventory("HikoukenCharge",999)
HICH A 1 A_WeaponReady
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HICH A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HICH A 1 A_Raise
Loop
Fire:
HICH A 0 A_JumpIfNoAmmo("NoAmmo")
HICH A 0 ACS_ExecuteAlways(991,0,DYE_HIKOUKEN)
HICH A 0 A_TakeInventory("HikoukenCharge",999)
HICH A 0 A_PlaySoundEx("hikouken/start","Weapon")
HICH BC 4
HICH A 0 A_PlaySoundEx("hikouken/fire","Weapon")
HICH A 0 A_FireCustomMissile("HikoukenC",0,1,8,0)
HICH DDDDDDCB 2
HICH B 0 A_Refire
goto Ready+1
Fire2:
HICH A 0 A_GunFlash("FlashEnd",GFF_NOEXTCHANGE)
HICH A 0 ACS_ExecuteAlways(991,0,DYE_HIKOUKEN)
HICH A 0 A_TakeInventory("HikoukenAmmo",5)
HICH BC 4
HICH A 0 A_PlaySoundEx("weapon/lshot","Weapon")
Fire2Loop:
HICH A 0 A_FireCustomMissile("ShinHikoukenC",random(-3,3),0,random(-12,12),0,0,random(-5,5))
HICH D 1 A_TakeInventory("HikoukenCharge",2)
HICH A 0 A_JumpIfInventory("HikoukenCharge",1,"Fire2Loop")
goto Fire2End
Fire2End:
HICH DDDDDDCB 2
HICH B 0 A_Refire
goto Ready+1
Hold:
HICH A 0 A_JumpIfInventory("HikoukenCharge",18,"Charge")
HICH A 1 A_GiveInventory("HikoukenCharge",1)
HICH A 0 A_Refire
Goto Fire
Charge:
HICH A 0 A_JumpIfInventory("HikoukenCharge",19,"Charge1")
HICH A 0 A_PlaySoundEx("weapon/coilstart","Weapon")
Goto Charge1
Charge1:
HICH A 0 A_JumpIfInventory("HikoukenCharge",35,"Charge2Start")
HICH E 1 ACS_ExecuteAlways(991,0,DYE_HIKOUKENC1)
HICH A 0 A_Refire("Charge1.a")
Goto Fire2
Charge1.a:
HICH A 1 ACS_ExecuteAlways(991,0,DYE_HIKOUKEN)
HICH A 0 A_GiveInventory("HikoukenCharge",1)
HICH A 0 A_Refire("Charge")
Goto Fire2
Charge2Start:
HICH A 0 A_GunFlash("Sound.BusterCharge", GFF_NOEXTCHANGE)
Charge2:
HICH F 1 ACS_ExecuteAlways(991,0,DYE_HIKOUKENC2)
HICH A 0 A_Refire("Charge2.a")
Goto Fire2
Charge2.a:
HICH A 1 ACS_ExecuteAlways(991,0,DYE_HIKOUKEN)
HICH A 0 A_JumpIfInventory("IsBot", 1, "BotFire")
HICH A 0 A_Refire("Charge2")
HICH A 0 A_JumpIfInventory("HikoukenCharge", 35, 2)
HICH A 0 A_GiveInventory("HikoukenCharge",1)
HICH A 0 A_Refire
Goto Fire2
BotFire:
HICH A 0 A_Jump(16, "Fire2")
HICH A 0 A_Refire
Goto Fire2
NoAmmo:
HICH A 1 ACS_Execute(979,0)
Goto Ready+1
Sound.BusterCharge:
TNT1 A 9 A_PlaySoundEx("weapon/adapterchargeloop","Weapon",0)
TNT1 A 1 A_JumpIfInventory("HikoukenCharge",1,"Sound.BusterCharge")
stop
FlashEnd:
TNT1 A 1
stop
}
}
/*
actor HikoukenWepC : HikoukenWep
{
}

actor HikoukenWepGiver : WepGiver replaces HikoukenWep
{
inventory.pickupmessage "Power up! Hikouken!"
States
{
Spawn:
HIKO U 1
loop
Pickup2:
DUST B 0 A_JumpIfInventory("HikoukenWepC",1,"No")
DUST B 0 A_GiveInventory("HikoukenWepC",1)
stop
Rock_P:goto Rock_P1
}
}

actor HikoukenWepCDropped : WepCDropped
{
inventory.pickupmessage "Power up! Hikouken!"
States
{
Spawn:
HIKO U 1500
stop
Pickup1:
TNT1 A 0 A_JumpIfInventory("HikoukenAmmo",0,"No")
goto Pickup2
Pickup3:
TNT1 A 0 A_GiveInventory("HikoukenWepC",1)
stop
}
}
*/
actor HikoukenAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 28
}

actor HikoukenCharge : Inventory
{
inventory.amount 1
inventory.maxamount 35
}

actor HikoukenC : Hikouken
{
translation "192:192=76:76", "198:198=241:241", "208:208=76:76", "209:212=241:241"
Obituary "%o was done blasted by %k's \chShin Hikouken\c-."
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXC",0,0,1)
loop
}
}

actor ShinHikoukenC : ShinHikouken
{
translation "192:192=76:76", "198:198=241:241", "208:208=76:76", "209:212=241:241"
Obituary "%o was done blasted by %k's \chShin Hikouken\c-."
Damage (5 + CallACS("DamageRate",5,100,10))
States
{
Spawn:
TNT1 A 0
CHBU ABCD 2 A_SpawnItemEx("HikoukenFXC",0,0,1)
loop
}
}

actor HikoukenFXC : HikoukenFX{translation "208:208=76:76", "209:212=241:241"}