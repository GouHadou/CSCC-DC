Actor IsHikari : Inventory{}

Actor HikariUppercutFrame : Inventory{}
Actor HikariKnuckleFrame : Inventory{}
Actor HikariRevolverFrame : Inventory{}
Actor HikariDivekickFrame : Inventory{}
Actor HikariFireballFrame : Inventory{}
Actor HikariKickFrame : Inventory{}

actor Hikari : ClassBaseCSCC
{
player.displayname "hikari"
player.soundclass "hikari"
player.damagescreencolor "red"
player.forwardmove 0.9, 0.9
player.sidemove 0.88, 0.88
player.jumpz 10
Health 80
Player.MaxHealth 80
player.startitem "HikariArms"
player.startitem "HikariLegs"
player.startitem "HikariClassItems"
states
{
Spawn:
HIKR A 0
HIKR B 1
HIKR A 1
Goto Spawn+2
See:
HIKR BBBBBCCCCCDDDDDEEEEE 1
Goto Spawn
Missile:
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
HIKR G 1 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
HIKR G 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
HIKR G 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
HIKR G 0 A_JumpIfInventory("HikariDivekickFrame",1,"Divekick")
HIKR G 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuper")
HIKR G 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuper")
goto Spawn
Uppercut:
HIKR I 1
HIKR I 0 A_JumpIfInventory("HikariUppercutFrame",1,"Uppercut")
goto Spawn+2
Knuckle:
HIKR J 1
HIKR J 0 A_JumpIfInventory("HikariKnuckleFrame",1,"Knuckle")
goto Spawn+2
Revolver:
HIKR K 1
HIKR K 0 A_JumpIfInventory("HikariRevolverFrame",1,"Revolver")
goto Spawn+2
Divekick:
HIKR L 5
DivekickLoop:
HIKR K 1
HIKR K 0 A_JumpIfInventory("HikariDivekickFrame",1,"DivekickLoop")
goto Spawn+2
FireballSuper:
HIKR G 21
FireballSuperLoop:
HIKR NO 3
HIKR N 0 A_JumpIfInventory("HikariFireballFrame",1,"FireballSuperLoop")
goto Spawn+2
KickSuper:
HIKR L 21
KickSuperLoop:
HIKR SRQP 2
HIKR N 0 A_JumpIfInventory("HikariKickFrame",1,"KickSuperLoop")
goto Spawn+2
ClassPain:
HIKR H 0
HIKR H 0 A_JumpIfInventory("GravityHoldPainPower",1,"GravityHoldWait")
HIKR H 0 A_JumpIfInventory("WilyIcePainPower",1,"WilyIceWait")
HIKR H 0 A_Pain
HIKR H 0 A_JumpIfInventory("HikariSuperArmor",1,2)
HIKR H 0 A_GiveInventory("HikariSuperMeter",(100-health)*1.5)
HIKR H 1 A_SpawnItemEx("PainFX",-5,0,3,0,0,0)
HIKR H 1 A_Recoil(1)
HIKR HHHHHHHHH 2 A_SpawnItemEx("PainFX",-5,0,3,0,0,0)
HIKR H 1
goto SuperSpawn
ClassDeath:
HIKR H 0 SetPlayerProperty(0, 0, 4)
HIKR H 0 A_NoBlocking
HIKR H 0 A_GiveInventory("CutterFlag",999)
HIKR H 0 A_GiveInventory("KnightFlag",999)
HIKR H 0 A_GiveInventory("IsDead",1)
HIKR H 0 A_GiveInventory("KOFlag",1)
HIKR H 0 A_GiveToTarget("KilledMeStock",1)
HIKR H 0 A_Stop
HIKR H 1 A_GiveToTarget("KilledMe",1)
HIKR H 0 A_PlaySound("hikari/knockout")
HIKR H 20
HIKR H 0 A_PlayerScream
HIKR H 0 A_Recoil(15)
HIKR H 0 ThrustThingZ(0,30,0,0)
HIKR H 2 A_SetTranslucent(1.0, 0)
HIKR H 2 A_SetTranslucent(0.9, 0)
HIKR H 2 A_SetTranslucent(0.8, 0)
HIKR H 2 A_SetTranslucent(0.7, 0)
HIKR H 2 A_SetTranslucent(0.6, 0)
HIKR H 2 A_SetTranslucent(0.5, 0)
HIKR H 2 A_SetTranslucent(0.4, 0)
HIKR H 2 A_SetTranslucent(0.3, 0)
HIKR H 2 A_SetTranslucent(0.2, 0)
HIKR H 2 A_SetTranslucent(0.1, 0)
HIKR H 2 A_SetTranslucent(0.0, 0)
HIKR Z 1 A_CheckPlayerDone
wait
}
}

Actor KOFlag : Inventory{}

actor HikariColorBase : CustomInventory
{
States
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("LightTeamFlag",1,"LightFire")
TNT1 A 0 A_JumpIfInventory("WilyTeamFlag",1,"WilyFire")
TNT1 A 0 A_JumpIfInventory("CossackTeamFlag",1,"CossackFire")
TNT1 A 0 A_JumpIfInventory("KingTeamFlag",1,"KingFire")
TNT1 A 0 A_JumpIfInventory("IsHikari",1,"Default")
stop
}
}

actor HikariClassItems : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
States
{
Spawn:
TNT1 A 0
stop
Pickup:
TNT1 A 0
TNT1 A 0 A_GiveInventory("IsHikari")
TNT1 A 0 A_GiveInventory("HikariStamina", 6)
TNT1 A 0 A_GiveInventory("CanUseItems")
stop
}
}