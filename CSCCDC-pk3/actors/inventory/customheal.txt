actor SmallHealthCS : CustomInventory replaces SmallHealth
{
inventory.pickupmessage "$PU_SMALLHEALTH"
+COUNTITEM
Scale 2.0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(975,0)==2,"HeldReady")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_HealthSet",0)
HBAL AB 6
loop
NormalSpawn:
TNT1 A 0 A_SetTranslucent(1.0, 0)
goto Spawn+3
TranslucentSpawn:
TNT1 A 0 A_SetTranslucent(0.5, 0)
goto Spawn+3
Pickup:
TNT1 A 0 A_JumpIfInventory("CannotUseHealing",1,"No")
TNT1 A 0 A_JumpIf(CallACS("CSACS_HealthPercent")>=100,"No")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_Basic(Over)Heal",0,0,15)
TNT1 A 0 A_PlaySound("item/energyup")
stop
No:
TNT1 A 0
fail
HeldReady:
TNT1 A 0 A_ChangeFlag("SPECIAL",0)
TNT1 A 0 A_ChangeFlag("INVISIBLE",1) 
goto Held
}
}

actor BigHealthCS : CustomInventory replaces BigHealth
{
inventory.pickupmessage "$PU_LARGEHEALTH"
+COUNTITEM
Scale 2.0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(975,0)==2,"HeldReady")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_HealthSet",0)
HBAL CD 6
loop
NormalSpawn:
TNT1 A 0 A_SetTranslucent(1.0, 0)
goto Spawn+3
TranslucentSpawn:
TNT1 A 0 A_SetTranslucent(0.5, 0)
goto Spawn+3
Pickup:
TNT1 A 0 A_JumpIfInventory("CannotUseHealing",1,"No")
TNT1 A 0 A_JumpIf(CallACS("CSACS_HealthPercent")>=100,"No")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_Basic(Over)Heal",0,0,40)
TNT1 A 0 A_PlaySound("item/energyup/large")
stop
No:
TNT1 A 0
fail
HeldReady:
TNT1 A 0 A_ChangeFlag("SPECIAL",0)
TNT1 A 0 A_ChangeFlag("INVISIBLE",1) 
goto Held
}
}

actor MegaHealthCS : CustomInventory replaces MegaHealth
{
inventory.pickupmessage "Picked up a Mega Health Capsule."
+COUNTITEM
Scale 2.0
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(975,0)==2,"HeldReady")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_HealthSet",0)
HBAL EF 6
loop
NormalSpawn:
TNT1 A 0 A_SetTranslucent(1.0, 0)
goto Spawn+3
TranslucentSpawn:
TNT1 A 0 A_SetTranslucent(0.5, 0)
goto Spawn+3
Pickup:
TNT1 A 0 A_JumpIfInventory("CannotUseHealing",1,"No")
TNT1 A 0 A_JumpIf(CallACS("CSACS_HealthPercent")>=100,"No")
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_Basic(Over)Heal",0,0,100)
TNT1 A 0 A_PlaySound("item/energyup/large")
stop
No:
TNT1 A 0
fail
HeldReady:
TNT1 A 0 A_ChangeFlag("SPECIAL",0)
TNT1 A 0 A_ChangeFlag("INVISIBLE",1) 
goto Held
}
}