actor HellfireCutterWep : BaseMM8BDMWep
{
Weapon.AmmoUse 7
Weapon.AmmoGive 30
Weapon.SlotNumber 2
Inventory.Pickupmessage "Power Up! Tank Cannon!"
Obituary "$OB_MIKECUTTER"
Tag "$TAG_MIKECUTTER"
weapon.ammotype "HellfireCutterAmmo"
Inventory.Pickupmessage "Power Up! Hellfire Cutter!"
inventory.icon "HELFCI"
States
{
Spawn:
HFCW A 1
loop
Ready:
HFCH S 0 ACS_ExecuteAlways(998,0,DYE_HELLFIRECUTTER)
HFCH S 0 A_JumpIfNoAmmo("NoAmmo")
HFCH S 0 A_TakeInventory("CutterFlag",999)
HFCH S 1 A_WeaponReady
Goto Ready+2
ReadyNoAmmo:
HFCH B 1 A_WeaponReady
HFCH B 0 A_JumpIfNoAmmo("ReadyNoAmmo")
Goto Ready+1
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
HFCH S 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
HFCH S 1 A_Raise
Loop
Fire:
HFCH S 0 A_JumpIfNoAmmo("NoAmmo")
HFCH T 0 A_TakeInventory("RollingCutterFlag", 1)
HFCH T 2 A_GiveInventory("HellFireCutter_M1",1)
HFCH UVWXY 2
Goto Check
Check:
TNT1 A 1 A_GiveInventory("CutterFlag",1)
TNT1 A 0 A_JumpIfInventory("CutterFlag",100,"Return")
TNT1 A 0 A_JumpIfInventory("RollingCutterFlag",1,"Return")
Goto Check
Return:
HFCH Y 0 A_TakeInventory("CutterFlag",999)
HFCH Y 0 A_TakeInventory("RollingCutterFlag",1)
HFCH YZ 2 
HFCH S 0 A_Refire
Goto Ready+1
NoAmmo:
HFCH B 1 ACS_Execute(979,0)
Goto ReadyNoAmmo

}
}

actor HellfireCutterAmmo : Ammo
{
inventory.amount 3
inventory.maxamount 28
}

actor HellfireCutterCopy : HellfireCutter
{
states
{
Spawn:
RCUT A 0
RCUT A 0 A_PlaySound("weapon/rollingcutter")
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"Death")
RCUT AAAA 1 A_SpawnItemEx("HellfireDamager1",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT BBBB 1 A_SpawnItemEx("HellfireDamager2",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT CCCC 1 A_SpawnItemEx("HellfireDamager3",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT DDDD 1 A_SpawnItemEx("HellfireDamager4",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_PlaySound("weapon/rollingcutter")
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"Death")
RCUT AAAA 1 A_SpawnItemEx("HellfireDamager1",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT BBBB 1 A_SpawnItemEx("HellfireDamager2",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT CCCC 1 A_SpawnItemEx("HellfireDamager3",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT DDDD 1 A_SpawnItemEx("HellfireDamager4",0,0,5,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_PlaySound("weapon/rollingcutter")
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"Death")
RCUT A 0 A_JumpIf(CallACS("core_targetexists")==0,"Death")
RCUT A 0 A_FaceTarget(0,0)
RCUT A 0 A_SpawnItemEx("ReturningHFCutterCopy",0,0,0,cos(pitch)*24,0,sin(pitch)*24,0,SXF_TRANSFERTRANSLATION)
stop
Death:
Return:
RCUT A 0 A_GiveToTarget("CutterFlag",100)
goto SuperDeath
SuperDeath:
RCUT A 0
stop
}
}

actor HellfireCutterCopyB : HellfireCutterCopy {translation "208:224=74:74"}
actor HellfireCutterCopyR : HellfireCutterCopy {translation "208:224=41:41"}
actor HellfireCutterCopyG : HellfireCutterCopy {translation "208:224=128:128"}
actor HellfireCutterCopyY : HellfireCutterCopy {translation "208:224=232:232"}

actor ReturningHFCutterCopy : HellfireCutterCopy
{
+NOINTERACTION
renderstyle none
States
{
Spawn:
RCUT A 0
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(60,"Return")
RCUT A 0 A_PlaySound("weapon/rollingcutter")
RCUT AAAA 1 A_SpawnItemEx("HellfireDamager1",0,0,0,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"SuperDeath")
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(60,"Return")
RCUT BBBB 1 A_SpawnItemEx("HellfireDamager2",0,0,0,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"SuperDeath")
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(60,"Return")
RCUT CCCC 1 A_SpawnItemEx("HellfireDamager3",0,0,0,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"SuperDeath")
RCUT A 0 A_FaceTarget
RCUT A 0 A_JumpIfCloser(60,"Return")
RCUT DDDD 1 A_SpawnItemEx("HellfireDamager4",0,0,0,2,0,0,0,SXF_TRANSFERTRANSLATION)
RCUT A 0 A_JumpIf(CallACS("core_targetexists")==0,"SuperDeath")
RCUT A 0 A_JumpIfInTargetInventory("CutterFlag",300,"SuperDeath")
RCUT A 0 A_FaceTarget(0,0)
RCUT A 0 A_SpawnItemEx("ReturningHFCutterCopy",0,0,0,cos(pitch)*24,0,sin(pitch)*24,0,SXF_TRANSFERTRANSLATION)
stop
}
}

actor HellFireCutter_M1 : BasicTeamColorPickup
{
States
{
FireX:
TNT1 A 0 A_FireCustomMissile("HellfireCutterCopy",0,1,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("HellfireCutterCopyB",0,1,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("HellfireCutterCopyR",0,1,8,0)
goto Done
FireG:
TNT1 A 0 A_FireCustomMissile("HellfireCutterCopyG",0,1,8,0)
goto Done
FireY:
TNT1 A 0 A_FireCustomMissile("HellfireCutterCopyY",0,1,8,0)
goto Done
}
}

actor HellfireCutterWepCS : HellfireCutterWep replaces HellfireCutterWep
{
States
{
CSCC_DefaultSpawn:
TNT1 A 0 A_SetTranslucent(1.0, 0)
goto Spawn+3
CSCC_TranslucentSpawn:
TNT1 A 0 A_SetTranslucent(0.5, 0)
goto Spawn+3
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_FakeWeaponPickup",0,0)
TNT1 A 0 ACS_NamedExecuteAlways("CSACS_WeaponDisplay",0,0)
HFCW A 5
goto Spawn+2
}
}