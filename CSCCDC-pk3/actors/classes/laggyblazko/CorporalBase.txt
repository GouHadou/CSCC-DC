actor CorporalWeaponBase : CSCCWepBase
{
DropItem "NadeSpamWep"
Obituary "$OB_CORPKNIFE"
Inventory.Pickupmessage "Power Up! Nade Spam!"
+NOALERT //Using the knife should not alert monsters.
States
{
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
TNT1 A 1 A_Lower
Loop
Ready:
TNT1 A 1
goto Ready
Fire:
TNT1 A 1
goto Ready
Knife:
NADE KL 2
NADE M 0 A_PlaySoundEx("Weapon/knife","Weapon")
NADE M 2 A_CustomPunch(20,1,CPF_PULLIN,"CorpKnifePuff",128)
NADE N 2 A_CustomPunch(20,1,CPF_PULLIN,"CorpKnifePuff",192)
TNT1 A 16
NADE N 0 A_Refire("Knife")
goto KnifeEndJump
KnifeEndJump:
TNT1 A 1 A_JumpIfInventory("LaggyHUD",1,"KnifeEnd")
//TNT1 A 1 A_Jump(256,"Ready2")
loop
}
}
